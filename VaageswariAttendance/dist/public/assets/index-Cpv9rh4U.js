var Xx=t=>{throw TypeError(t)};var Rg=(t,e,n)=>e.has(t)||Xx("Cannot "+n);var H=(t,e,n)=>(Rg(t,e,"read from private field"),n?n.call(t):e.get(t)),Ke=(t,e,n)=>e.has(t)?Xx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pe=(t,e,n,r)=>(Rg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hn=(t,e,n)=>(Rg(t,e,"access private method"),n);var _f=(t,e,n,r)=>({set _(s){Pe(t,e,s,n)},get _(){return H(t,e,r)}});function kL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function L1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V1={exports:{}},tm={},F1={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),NL=Symbol.for("react.portal"),DL=Symbol.for("react.fragment"),OL=Symbol.for("react.strict_mode"),ML=Symbol.for("react.profiler"),jL=Symbol.for("react.provider"),LL=Symbol.for("react.context"),VL=Symbol.for("react.forward_ref"),FL=Symbol.for("react.suspense"),$L=Symbol.for("react.memo"),UL=Symbol.for("react.lazy"),Jx=Symbol.iterator;function BL(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,B1={};function fc(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||$1}fc.prototype.isReactComponent={};fc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W1(){}W1.prototype=fc.prototype;function lw(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||$1}var cw=lw.prototype=new W1;cw.constructor=lw;U1(cw,fc.prototype);cw.isPureReactComponent=!0;var eS=Array.isArray,z1=Object.prototype.hasOwnProperty,uw={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function q1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)z1.call(e,r)&&!H1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Id,type:t,key:i,ref:o,props:s,_owner:uw.current}}function WL(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function zL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tS=/\/+/g;function kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zL(""+t.key):e.toString(36)}function lh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Id:case NL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kg(o,0):r,eS(s)?(n="",t!=null&&(n=t.replace(tS,"$&/")+"/"),lh(s,e,n,"",function(c){return c})):s!=null&&(dw(s)&&(s=WL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",eS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+kg(i,a);o+=lh(i,e,n,l,s)}else if(l=BL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+kg(i,a++),o+=lh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wf(t,e,n){if(t==null)return t;var r=[],s=0;return lh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},ch={transition:null},qL={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:ch,ReactCurrentOwner:uw};function K1(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!dw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=fc;Me.Fragment=DL;Me.Profiler=ML;Me.PureComponent=lw;Me.StrictMode=OL;Me.Suspense=FL;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qL;Me.act=K1;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=uw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z1.call(e,l)&&!H1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Id,type:t.type,key:s,ref:i,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:LL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jL,_context:t},t.Consumer=t};Me.createElement=q1;Me.createFactory=function(t){var e=q1.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:VL,render:t}};Me.isValidElement=dw;Me.lazy=function(t){return{$$typeof:UL,_payload:{_status:-1,_result:t},_init:HL}};Me.memo=function(t,e){return{$$typeof:$L,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=ch.transition;ch.transition={};try{t()}finally{ch.transition=e}};Me.unstable_act=K1;Me.useCallback=function(t,e){return On.current.useCallback(t,e)};Me.useContext=function(t){return On.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Me.useEffect=function(t,e){return On.current.useEffect(t,e)};Me.useId=function(){return On.current.useId()};Me.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return On.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Me.useRef=function(t){return On.current.useRef(t)};Me.useState=function(t){return On.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return On.current.useTransition()};Me.version="18.3.1";F1.exports=Me;var h=F1.exports;const me=L1(h),G1=kL({__proto__:null,default:me},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL=h,GL=Symbol.for("react.element"),QL=Symbol.for("react.fragment"),YL=Object.prototype.hasOwnProperty,ZL=KL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XL={key:!0,ref:!0,__self:!0,__source:!0};function Q1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YL.call(e,r)&&!XL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:GL,type:t,key:i,ref:o,props:s,_owner:ZL.current}}tm.Fragment=QL;tm.jsx=Q1;tm.jsxs=Q1;V1.exports=tm;var d=V1.exports,Y1={exports:{}},lr={},Z1={exports:{}},X1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var G=L.length;L.push(F);e:for(;0<G;){var re=G-1>>>1,ge=L[re];if(0<s(ge,F))L[re]=F,L[G]=ge,G=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],G=L.pop();if(G!==F){L[0]=G;e:for(var re=0,ge=L.length,Te=ge>>>1;re<Te;){var Ge=2*(re+1)-1,We=L[Ge],rt=Ge+1,ue=L[rt];if(0>s(We,G))rt<ge&&0>s(ue,We)?(L[re]=ue,L[rt]=G,re=rt):(L[re]=We,L[Ge]=G,re=Ge);else if(rt<ge&&0>s(ue,G))L[re]=ue,L[rt]=G,re=rt;else break e}}return F}function s(L,F){var G=L.sortIndex-F.sortIndex;return G!==0?G:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,p=null,m=3,y=!1,S=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function I(L){if(g=!1,x(L),!S)if(n(l)!==null)S=!0,Z(N);else{var F=n(c);F!==null&&B(I,F.startTime-L)}}function N(L,F){S=!1,g&&(g=!1,E(T),T=-1),y=!0;var G=m;try{for(x(F),p=n(l);p!==null&&(!(p.expirationTime>F)||L&&!O());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var ge=re(p.expirationTime<=F);F=t.unstable_now(),typeof ge=="function"?p.callback=ge:p===n(l)&&r(l),x(F)}else r(l);p=n(l)}if(p!==null)var Te=!0;else{var Ge=n(c);Ge!==null&&B(I,Ge.startTime-F),Te=!1}return Te}finally{p=null,m=G,y=!1}}var M=!1,C=null,T=-1,A=5,P=-1;function O(){return!(t.unstable_now()-P<A)}function D(){if(C!==null){var L=t.unstable_now();P=L;var F=!0;try{F=C(!0,L)}finally{F?k():(M=!1,C=null)}}else M=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=D,k=function(){J.postMessage(null)}}else k=function(){w(D,0)};function Z(L){C=L,M||(M=!0,k())}function B(L,F){T=w(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,Z(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var G=m;m=F;try{return L()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=m;m=L;try{return F()}finally{m=G}},t.unstable_scheduleCallback=function(L,F,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=G+ge,L={id:f++,callback:F,priorityLevel:L,startTime:G,expirationTime:ge,sortIndex:-1},G>re?(L.sortIndex=G,e(c,L),n(l)===null&&L===n(c)&&(g?(E(T),T=-1):g=!0,B(I,G-re))):(L.sortIndex=ge,e(l,L),S||y||(S=!0,Z(N))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var F=m;return function(){var G=m;m=F;try{return L.apply(this,arguments)}finally{m=G}}}})(X1);Z1.exports=X1;var JL=Z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eV=h,ir=JL;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J1=new Set,Nu={};function Ra(t,e){zl(t,e),zl(t+"Capture",e)}function zl(t,e){for(Nu[t]=e,t=0;t<e.length;t++)J1.add(e[t])}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yv=Object.prototype.hasOwnProperty,tV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nS={},rS={};function nV(t){return Yv.call(rS,t)?!0:Yv.call(nS,t)?!1:tV.test(t)?rS[t]=!0:(nS[t]=!0,!1)}function rV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sV(t,e,n,r){if(e===null||typeof e>"u"||rV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fw=/[\-:]([a-z])/g;function hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fw,hw);ln[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fw,hw);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fw,hw);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pw(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sV(e,n,s,r)&&(n=null),r||s===null?nV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=eV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ef=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),mw=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),gw=Symbol.for("react.forward_ref"),Xv=Symbol.for("react.suspense"),Jv=Symbol.for("react.suspense_list"),vw=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),nI=Symbol.for("react.offscreen"),sS=Symbol.iterator;function Bc(t){return t===null||typeof t!="object"?null:(t=sS&&t[sS]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,Ng;function nu(t){if(Ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ng=e&&e[1]||""}return`
`+Ng+t}var Dg=!1;function Og(t,e){if(!t||Dg)return"";Dg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nu(t):""}function iV(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=Og(t.type,!1),t;case 11:return t=Og(t.type.render,!1),t;case 1:return t=Og(t.type,!0),t;default:return""}}function ey(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case il:return"Portal";case Zv:return"Profiler";case mw:return"StrictMode";case Xv:return"Suspense";case Jv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case gw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vw:return e=t.displayName||null,e!==null?e:ey(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return ey(t(e))}catch{}}return null}function oV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ey(e);case 8:return e===mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aV(t){var e=rI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xf(t){t._valueTracker||(t._valueTracker=aV(t))}function sI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ty(t,e){var n=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iI(t,e){e=e.checked,e!=null&&pw(t,"checked",e,!1)}function ny(t,e){iI(t,e);var n=co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ry(t,e.type,n):e.hasOwnProperty("defaultValue")&&ry(t,e.type,co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ry(t,e,n){(e!=="number"||Lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ru=Array.isArray;function wl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+co(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(ru(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:co(n)}}function oI(t,e){var n=co(e.value),r=co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sf,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sf=Sf||document.createElement("div"),Sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Du(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lV=["Webkit","ms","Moz","O"];Object.keys(mu).forEach(function(t){lV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mu[e]=mu[t]})});function cI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mu.hasOwnProperty(t)&&mu[t]?(""+e).trim():e+"px"}function uI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cV=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oy(t,e){if(e){if(cV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function ay(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=null;function yw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cy=null,El=null,xl=null;function cS(t){if(t=Rd(t)){if(typeof cy!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=om(e),cy(t.stateNode,t.type,e))}}function dI(t){El?xl?xl.push(t):xl=[t]:El=t}function fI(){if(El){var t=El,e=xl;if(xl=El=null,cS(t),e)for(t=0;t<e.length;t++)cS(e[t])}}function hI(t,e){return t(e)}function pI(){}var Mg=!1;function mI(t,e,n){if(Mg)return t(e,n);Mg=!0;try{return hI(t,e,n)}finally{Mg=!1,(El!==null||xl!==null)&&(pI(),fI())}}function Ou(t,e){var n=t.stateNode;if(n===null)return null;var r=om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var uy=!1;if(Xs)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){uy=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{uy=!1}function uV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var gu=!1,Vh=null,Fh=!1,dy=null,dV={onError:function(t){gu=!0,Vh=t}};function fV(t,e,n,r,s,i,o,a,l){gu=!1,Vh=null,uV.apply(dV,arguments)}function hV(t,e,n,r,s,i,o,a,l){if(fV.apply(this,arguments),gu){if(gu){var c=Vh;gu=!1,Vh=null}else throw Error(Y(198));Fh||(Fh=!0,dy=c)}}function ka(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uS(t){if(ka(t)!==t)throw Error(Y(188))}function pV(t){var e=t.alternate;if(!e){if(e=ka(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return uS(s),t;if(i===r)return uS(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function vI(t){return t=pV(t),t!==null?yI(t):null}function yI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yI(t);if(e!==null)return e;t=t.sibling}return null}var _I=ir.unstable_scheduleCallback,dS=ir.unstable_cancelCallback,mV=ir.unstable_shouldYield,gV=ir.unstable_requestPaint,Dt=ir.unstable_now,vV=ir.unstable_getCurrentPriorityLevel,_w=ir.unstable_ImmediatePriority,wI=ir.unstable_UserBlockingPriority,$h=ir.unstable_NormalPriority,yV=ir.unstable_LowPriority,EI=ir.unstable_IdlePriority,nm=null,ms=null;function _V(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(nm,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:xV,wV=Math.log,EV=Math.LN2;function xV(t){return t>>>=0,t===0?32:31-(wV(t)/EV|0)|0}var bf=64,Tf=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=su(a):(i&=o,i!==0&&(r=su(i)))}else o=n&~s,o!==0?r=su(o):i!==0&&(r=su(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),s=1<<n,r|=t[n],e&=~s;return r}function SV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=SV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xI(){var t=bf;return bf<<=1,!(bf&4194240)&&(bf=64),t}function jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function TV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ww(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function SI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bI,Ew,TI,CI,II,hy=!1,Cf=[],qi=null,Ki=null,Gi=null,Mu=new Map,ju=new Map,ki=[],CV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fS(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function zc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rd(e),e!==null&&Ew(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function IV(t,e,n,r,s){switch(e){case"focusin":return qi=zc(qi,t,e,n,r,s),!0;case"dragenter":return Ki=zc(Ki,t,e,n,r,s),!0;case"mouseover":return Gi=zc(Gi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mu.set(i,zc(Mu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ju.set(i,zc(ju.get(i)||null,t,e,n,r,s)),!0}return!1}function PI(t){var e=Ko(t.target);if(e!==null){var n=ka(e);if(n!==null){if(e=n.tag,e===13){if(e=gI(n),e!==null){t.blockedOn=e,II(t.priority,function(){TI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ly=r,n.target.dispatchEvent(r),ly=null}else return e=Rd(n),e!==null&&Ew(e),t.blockedOn=n,!1;e.shift()}return!0}function hS(t,e,n){uh(t)&&n.delete(e)}function PV(){hy=!1,qi!==null&&uh(qi)&&(qi=null),Ki!==null&&uh(Ki)&&(Ki=null),Gi!==null&&uh(Gi)&&(Gi=null),Mu.forEach(hS),ju.forEach(hS)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,hy||(hy=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,PV)))}function Lu(t){function e(s){return Hc(s,t)}if(0<Cf.length){Hc(Cf[0],t);for(var n=1;n<Cf.length;n++){var r=Cf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qi!==null&&Hc(qi,t),Ki!==null&&Hc(Ki,t),Gi!==null&&Hc(Gi,t),Mu.forEach(e),ju.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)PI(n),n.blockedOn===null&&ki.shift()}var Sl=ui.ReactCurrentBatchConfig,Bh=!0;function AV(t,e,n,r){var s=tt,i=Sl.transition;Sl.transition=null;try{tt=1,xw(t,e,n,r)}finally{tt=s,Sl.transition=i}}function RV(t,e,n,r){var s=tt,i=Sl.transition;Sl.transition=null;try{tt=4,xw(t,e,n,r)}finally{tt=s,Sl.transition=i}}function xw(t,e,n,r){if(Bh){var s=py(t,e,n,r);if(s===null)qg(t,e,r,Wh,n),fS(t,r);else if(IV(s,t,e,n,r))r.stopPropagation();else if(fS(t,r),e&4&&-1<CV.indexOf(t)){for(;s!==null;){var i=Rd(s);if(i!==null&&bI(i),i=py(t,e,n,r),i===null&&qg(t,e,r,Wh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var Wh=null;function py(t,e,n,r){if(Wh=null,t=yw(r),t=Ko(t),t!==null)if(e=ka(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wh=t,null}function AI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vV()){case _w:return 1;case wI:return 4;case $h:case yV:return 16;case EI:return 536870912;default:return 16}default:return 16}}var Wi=null,Sw=null,dh=null;function RI(){if(dh)return dh;var t,e=Sw,n=e.length,r,s="value"in Wi?Wi.value:Wi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return dh=s.slice(t,1<r?1-r:void 0)}function fh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function If(){return!0}function pS(){return!1}function cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?If:pS,this.isPropagationStopped=pS,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=If)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=If)},persist:function(){},isPersistent:If}),e}var hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=cr(hc),Ad=Ct({},hc,{view:0,detail:0}),kV=cr(Ad),Lg,Vg,qc,rm=Ct({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(Lg=t.screenX-qc.screenX,Vg=t.screenY-qc.screenY):Vg=Lg=0,qc=t),Lg)},movementY:function(t){return"movementY"in t?t.movementY:Vg}}),mS=cr(rm),NV=Ct({},rm,{dataTransfer:0}),DV=cr(NV),OV=Ct({},Ad,{relatedTarget:0}),Fg=cr(OV),MV=Ct({},hc,{animationName:0,elapsedTime:0,pseudoElement:0}),jV=cr(MV),LV=Ct({},hc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VV=cr(LV),FV=Ct({},hc,{data:0}),gS=cr(FV),$V={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BV[t])?!!e[t]:!1}function Tw(){return WV}var zV=Ct({},Ad,{key:function(t){if(t.key){var e=$V[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tw,charCode:function(t){return t.type==="keypress"?fh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HV=cr(zV),qV=Ct({},rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vS=cr(qV),KV=Ct({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tw}),GV=cr(KV),QV=Ct({},hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),YV=cr(QV),ZV=Ct({},rm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XV=cr(ZV),JV=[9,13,27,32],Cw=Xs&&"CompositionEvent"in window,vu=null;Xs&&"documentMode"in document&&(vu=document.documentMode);var eF=Xs&&"TextEvent"in window&&!vu,kI=Xs&&(!Cw||vu&&8<vu&&11>=vu),yS=" ",_S=!1;function NI(t,e){switch(t){case"keyup":return JV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function tF(t,e){switch(t){case"compositionend":return DI(e);case"keypress":return e.which!==32?null:(_S=!0,yS);case"textInput":return t=e.data,t===yS&&_S?null:t;default:return null}}function nF(t,e){if(al)return t==="compositionend"||!Cw&&NI(t,e)?(t=RI(),dh=Sw=Wi=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kI&&e.locale!=="ko"?null:e.data;default:return null}}var rF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rF[t.type]:e==="textarea"}function OI(t,e,n,r){dI(r),e=zh(e,"onChange"),0<e.length&&(n=new bw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yu=null,Vu=null;function sF(t){HI(t,0)}function sm(t){var e=ul(t);if(sI(e))return t}function iF(t,e){if(t==="change")return e}var MI=!1;if(Xs){var $g;if(Xs){var Ug="oninput"in document;if(!Ug){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),Ug=typeof ES.oninput=="function"}$g=Ug}else $g=!1;MI=$g&&(!document.documentMode||9<document.documentMode)}function xS(){yu&&(yu.detachEvent("onpropertychange",jI),Vu=yu=null)}function jI(t){if(t.propertyName==="value"&&sm(Vu)){var e=[];OI(e,Vu,t,yw(t)),mI(sF,e)}}function oF(t,e,n){t==="focusin"?(xS(),yu=e,Vu=n,yu.attachEvent("onpropertychange",jI)):t==="focusout"&&xS()}function aF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sm(Vu)}function lF(t,e){if(t==="click")return sm(e)}function cF(t,e){if(t==="input"||t==="change")return sm(e)}function uF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:uF;function Fu(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yv.call(e,s)||!Wr(t[s],e[s]))return!1}return!0}function SS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bS(t,e){var n=SS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SS(n)}}function LI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VI(){for(var t=window,e=Lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lh(t.document)}return e}function Iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dF(t){var e=VI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LI(n.ownerDocument.documentElement,n)){if(r!==null&&Iw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bS(n,i);var o=bS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fF=Xs&&"documentMode"in document&&11>=document.documentMode,ll=null,my=null,_u=null,gy=!1;function TS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gy||ll==null||ll!==Lh(r)||(r=ll,"selectionStart"in r&&Iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_u&&Fu(_u,r)||(_u=r,r=zh(my,"onSelect"),0<r.length&&(e=new bw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ll)))}function Pf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cl={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Bg={},FI={};Xs&&(FI=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function im(t){if(Bg[t])return Bg[t];if(!cl[t])return t;var e=cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FI)return Bg[t]=e[n];return t}var $I=im("animationend"),UI=im("animationiteration"),BI=im("animationstart"),WI=im("transitionend"),zI=new Map,CS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(t,e){zI.set(t,e),Ra(e,[t])}for(var Wg=0;Wg<CS.length;Wg++){var zg=CS[Wg],hF=zg.toLowerCase(),pF=zg[0].toUpperCase()+zg.slice(1);To(hF,"on"+pF)}To($I,"onAnimationEnd");To(UI,"onAnimationIteration");To(BI,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(WI,"onTransitionEnd");zl("onMouseEnter",["mouseout","mouseover"]);zl("onMouseLeave",["mouseout","mouseover"]);zl("onPointerEnter",["pointerout","pointerover"]);zl("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mF=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function IS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hV(r,e,void 0,t),t.currentTarget=null}function HI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;IS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;IS(s,a,c),i=l}}}if(Fh)throw t=dy,Fh=!1,dy=null,t}function pt(t,e){var n=e[Ey];n===void 0&&(n=e[Ey]=new Set);var r=t+"__bubble";n.has(r)||(qI(e,t,2,!1),n.add(r))}function Hg(t,e,n){var r=0;e&&(r|=4),qI(n,t,r,e)}var Af="_reactListening"+Math.random().toString(36).slice(2);function $u(t){if(!t[Af]){t[Af]=!0,J1.forEach(function(n){n!=="selectionchange"&&(mF.has(n)||Hg(n,!1,t),Hg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Af]||(e[Af]=!0,Hg("selectionchange",!1,e))}}function qI(t,e,n,r){switch(AI(e)){case 1:var s=AV;break;case 4:s=RV;break;default:s=xw}n=s.bind(null,e,n,t),s=void 0,!uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ko(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mI(function(){var c=i,f=yw(n),p=[];e:{var m=zI.get(t);if(m!==void 0){var y=bw,S=t;switch(t){case"keypress":if(fh(n)===0)break e;case"keydown":case"keyup":y=HV;break;case"focusin":S="focus",y=Fg;break;case"focusout":S="blur",y=Fg;break;case"beforeblur":case"afterblur":y=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=DV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=GV;break;case $I:case UI:case BI:y=jV;break;case WI:y=YV;break;case"scroll":y=kV;break;case"wheel":y=XV;break;case"copy":case"cut":case"paste":y=VV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vS}var g=(e&4)!==0,w=!g&&t==="scroll",E=g?m!==null?m+"Capture":null:m;g=[];for(var _=c,x;_!==null;){x=_;var I=x.stateNode;if(x.tag===5&&I!==null&&(x=I,E!==null&&(I=Ou(_,E),I!=null&&g.push(Uu(_,I,x)))),w)break;_=_.return}0<g.length&&(m=new y(m,S,null,n,f),p.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==ly&&(S=n.relatedTarget||n.fromElement)&&(Ko(S)||S[Js]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=c,S=S?Ko(S):null,S!==null&&(w=ka(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=c),y!==S)){if(g=mS,I="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=vS,I="onPointerLeave",E="onPointerEnter",_="pointer"),w=y==null?m:ul(y),x=S==null?m:ul(S),m=new g(I,_+"leave",y,n,f),m.target=w,m.relatedTarget=x,I=null,Ko(f)===c&&(g=new g(E,_+"enter",S,n,f),g.target=x,g.relatedTarget=w,I=g),w=I,y&&S)t:{for(g=y,E=S,_=0,x=g;x;x=Ba(x))_++;for(x=0,I=E;I;I=Ba(I))x++;for(;0<_-x;)g=Ba(g),_--;for(;0<x-_;)E=Ba(E),x--;for(;_--;){if(g===E||E!==null&&g===E.alternate)break t;g=Ba(g),E=Ba(E)}g=null}else g=null;y!==null&&PS(p,m,y,g,!1),S!==null&&w!==null&&PS(p,w,S,g,!0)}}e:{if(m=c?ul(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=iF;else if(wS(m))if(MI)N=cF;else{N=aF;var M=oF}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=lF);if(N&&(N=N(t,c))){OI(p,N,n,f);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&ry(m,"number",m.value)}switch(M=c?ul(c):window,t){case"focusin":(wS(M)||M.contentEditable==="true")&&(ll=M,my=c,_u=null);break;case"focusout":_u=my=ll=null;break;case"mousedown":gy=!0;break;case"contextmenu":case"mouseup":case"dragend":gy=!1,TS(p,n,f);break;case"selectionchange":if(fF)break;case"keydown":case"keyup":TS(p,n,f)}var C;if(Cw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else al?NI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kI&&n.locale!=="ko"&&(al||T!=="onCompositionStart"?T==="onCompositionEnd"&&al&&(C=RI()):(Wi=f,Sw="value"in Wi?Wi.value:Wi.textContent,al=!0)),M=zh(c,T),0<M.length&&(T=new gS(T,t,null,n,f),p.push({event:T,listeners:M}),C?T.data=C:(C=DI(n),C!==null&&(T.data=C)))),(C=eF?tF(t,n):nF(t,n))&&(c=zh(c,"onBeforeInput"),0<c.length&&(f=new gS("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=C))}HI(p,e)})}function Uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ou(t,n),i!=null&&r.unshift(Uu(t,i,s)),i=Ou(t,e),i!=null&&r.push(Uu(t,i,s))),t=t.return}return r}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ou(n,i),l!=null&&o.unshift(Uu(n,l,a))):s||(l=Ou(n,i),l!=null&&o.push(Uu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gF=/\r\n?/g,vF=/\u0000|\uFFFD/g;function AS(t){return(typeof t=="string"?t:""+t).replace(gF,`
`).replace(vF,"")}function Rf(t,e,n){if(e=AS(e),AS(t)!==e&&n)throw Error(Y(425))}function Hh(){}var vy=null,yy=null;function _y(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,yF=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,_F=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(t){return RS.resolve(null).then(t).catch(wF)}:wy;function wF(t){setTimeout(function(){throw t})}function Kg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lu(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pc=Math.random().toString(36).slice(2),ds="__reactFiber$"+pc,Bu="__reactProps$"+pc,Js="__reactContainer$"+pc,Ey="__reactEvents$"+pc,EF="__reactListeners$"+pc,xF="__reactHandles$"+pc;function Ko(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Js]||n[ds]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kS(t);t!==null;){if(n=t[ds])return n;t=kS(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[ds]||t[Js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function om(t){return t[Bu]||null}var xy=[],dl=-1;function Co(t){return{current:t}}function _t(t){0>dl||(t.current=xy[dl],xy[dl]=null,dl--)}function lt(t,e){dl++,xy[dl]=t.current,t.current=e}var uo={},En=Co(uo),Wn=Co(!1),ca=uo;function Hl(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function qh(){_t(Wn),_t(En)}function NS(t,e,n){if(En.current!==uo)throw Error(Y(168));lt(En,e),lt(Wn,n)}function KI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,oV(t)||"Unknown",s));return Ct({},n,r)}function Kh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,ca=En.current,lt(En,t),lt(Wn,Wn.current),!0}function DS(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=KI(t,e,ca),r.__reactInternalMemoizedMergedChildContext=t,_t(Wn),_t(En),lt(En,t)):_t(Wn),lt(Wn,n)}var $s=null,am=!1,Gg=!1;function GI(t){$s===null?$s=[t]:$s.push(t)}function SF(t){am=!0,GI(t)}function Io(){if(!Gg&&$s!==null){Gg=!0;var t=0,e=tt;try{var n=$s;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$s=null,am=!1}catch(s){throw $s!==null&&($s=$s.slice(t+1)),_I(_w,Io),s}finally{tt=e,Gg=!1}}return null}var fl=[],hl=0,Gh=null,Qh=0,pr=[],mr=0,ua=null,zs=1,Hs="";function Wo(t,e){fl[hl++]=Qh,fl[hl++]=Gh,Gh=t,Qh=e}function QI(t,e,n){pr[mr++]=zs,pr[mr++]=Hs,pr[mr++]=ua,ua=t;var r=zs;t=Hs;var s=32-Fr(r)-1;r&=~(1<<s),n+=1;var i=32-Fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zs=1<<32-Fr(e)+s|n<<s|r,Hs=i+t}else zs=1<<i|n<<s|r,Hs=t}function Pw(t){t.return!==null&&(Wo(t,1),QI(t,1,0))}function Aw(t){for(;t===Gh;)Gh=fl[--hl],fl[hl]=null,Qh=fl[--hl],fl[hl]=null;for(;t===ua;)ua=pr[--mr],pr[mr]=null,Hs=pr[--mr],pr[mr]=null,zs=pr[--mr],pr[mr]=null}var er=null,Xn=null,Et=!1,jr=null;function YI(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Xn=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ua!==null?{id:zs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Xn=null,!0):!1;default:return!1}}function Sy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function by(t){if(Et){var e=Xn;if(e){var n=e;if(!OS(t,e)){if(Sy(t))throw Error(Y(418));e=Qi(n.nextSibling);var r=er;e&&OS(t,e)?YI(r,n):(t.flags=t.flags&-4097|2,Et=!1,er=t)}}else{if(Sy(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Et=!1,er=t}}}function MS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function kf(t){if(t!==er)return!1;if(!Et)return MS(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_y(t.type,t.memoizedProps)),e&&(e=Xn)){if(Sy(t))throw ZI(),Error(Y(418));for(;e;)YI(t,e),e=Qi(e.nextSibling)}if(MS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=er?Qi(t.stateNode.nextSibling):null;return!0}function ZI(){for(var t=Xn;t;)t=Qi(t.nextSibling)}function ql(){Xn=er=null,Et=!1}function Rw(t){jr===null?jr=[t]:jr.push(t)}var bF=ui.ReactCurrentBatchConfig;function Kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Nf(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jS(t){var e=t._init;return e(t._payload)}function XI(t){function e(E,_){if(t){var x=E.deletions;x===null?(E.deletions=[_],E.flags|=16):x.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Ji(E,_),E.index=0,E.sibling=null,E}function i(E,_,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<_?(E.flags|=2,_):x):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,x,I){return _===null||_.tag!==6?(_=tv(x,E.mode,I),_.return=E,_):(_=s(_,x),_.return=E,_)}function l(E,_,x,I){var N=x.type;return N===ol?f(E,_,x.props.children,I,x.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ai&&jS(N)===_.type)?(I=s(_,x.props),I.ref=Kc(E,_,x),I.return=E,I):(I=_h(x.type,x.key,x.props,null,E.mode,I),I.ref=Kc(E,_,x),I.return=E,I)}function c(E,_,x,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=nv(x,E.mode,I),_.return=E,_):(_=s(_,x.children||[]),_.return=E,_)}function f(E,_,x,I,N){return _===null||_.tag!==7?(_=ia(x,E.mode,I,N),_.return=E,_):(_=s(_,x),_.return=E,_)}function p(E,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tv(""+_,E.mode,x),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ef:return x=_h(_.type,_.key,_.props,null,E.mode,x),x.ref=Kc(E,null,_),x.return=E,x;case il:return _=nv(_,E.mode,x),_.return=E,_;case Ai:var I=_._init;return p(E,I(_._payload),x)}if(ru(_)||Bc(_))return _=ia(_,E.mode,x,null),_.return=E,_;Nf(E,_)}return null}function m(E,_,x,I){var N=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(E,_,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ef:return x.key===N?l(E,_,x,I):null;case il:return x.key===N?c(E,_,x,I):null;case Ai:return N=x._init,m(E,_,N(x._payload),I)}if(ru(x)||Bc(x))return N!==null?null:f(E,_,x,I,null);Nf(E,x)}return null}function y(E,_,x,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(x)||null,a(_,E,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ef:return E=E.get(I.key===null?x:I.key)||null,l(_,E,I,N);case il:return E=E.get(I.key===null?x:I.key)||null,c(_,E,I,N);case Ai:var M=I._init;return y(E,_,x,M(I._payload),N)}if(ru(I)||Bc(I))return E=E.get(x)||null,f(_,E,I,N,null);Nf(_,I)}return null}function S(E,_,x,I){for(var N=null,M=null,C=_,T=_=0,A=null;C!==null&&T<x.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var P=m(E,C,x[T],I);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(E,C),_=i(P,_,T),M===null?N=P:M.sibling=P,M=P,C=A}if(T===x.length)return n(E,C),Et&&Wo(E,T),N;if(C===null){for(;T<x.length;T++)C=p(E,x[T],I),C!==null&&(_=i(C,_,T),M===null?N=C:M.sibling=C,M=C);return Et&&Wo(E,T),N}for(C=r(E,C);T<x.length;T++)A=y(C,E,T,x[T],I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),_=i(A,_,T),M===null?N=A:M.sibling=A,M=A);return t&&C.forEach(function(O){return e(E,O)}),Et&&Wo(E,T),N}function g(E,_,x,I){var N=Bc(x);if(typeof N!="function")throw Error(Y(150));if(x=N.call(x),x==null)throw Error(Y(151));for(var M=N=null,C=_,T=_=0,A=null,P=x.next();C!==null&&!P.done;T++,P=x.next()){C.index>T?(A=C,C=null):A=C.sibling;var O=m(E,C,P.value,I);if(O===null){C===null&&(C=A);break}t&&C&&O.alternate===null&&e(E,C),_=i(O,_,T),M===null?N=O:M.sibling=O,M=O,C=A}if(P.done)return n(E,C),Et&&Wo(E,T),N;if(C===null){for(;!P.done;T++,P=x.next())P=p(E,P.value,I),P!==null&&(_=i(P,_,T),M===null?N=P:M.sibling=P,M=P);return Et&&Wo(E,T),N}for(C=r(E,C);!P.done;T++,P=x.next())P=y(C,E,T,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),_=i(P,_,T),M===null?N=P:M.sibling=P,M=P);return t&&C.forEach(function(D){return e(E,D)}),Et&&Wo(E,T),N}function w(E,_,x,I){if(typeof x=="object"&&x!==null&&x.type===ol&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ef:e:{for(var N=x.key,M=_;M!==null;){if(M.key===N){if(N=x.type,N===ol){if(M.tag===7){n(E,M.sibling),_=s(M,x.props.children),_.return=E,E=_;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ai&&jS(N)===M.type){n(E,M.sibling),_=s(M,x.props),_.ref=Kc(E,M,x),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}x.type===ol?(_=ia(x.props.children,E.mode,I,x.key),_.return=E,E=_):(I=_h(x.type,x.key,x.props,null,E.mode,I),I.ref=Kc(E,_,x),I.return=E,E=I)}return o(E);case il:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(E,_.sibling),_=s(_,x.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=nv(x,E.mode,I),_.return=E,E=_}return o(E);case Ai:return M=x._init,w(E,_,M(x._payload),I)}if(ru(x))return S(E,_,x,I);if(Bc(x))return g(E,_,x,I);Nf(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,x),_.return=E,E=_):(n(E,_),_=tv(x,E.mode,I),_.return=E,E=_),o(E)):n(E,_)}return w}var Kl=XI(!0),JI=XI(!1),Yh=Co(null),Zh=null,pl=null,kw=null;function Nw(){kw=pl=Zh=null}function Dw(t){var e=Yh.current;_t(Yh),t._currentValue=e}function Ty(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bl(t,e){Zh=t,kw=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(kw!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(Zh===null)throw Error(Y(308));pl=t,Zh.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var Go=null;function Ow(t){Go===null?Go=[t]:Go.push(t)}function eP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ow(e)):(n.next=s.next,s.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function Mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ei(t,n)}return s=r.interleaved,s===null?(e.next=e,Ow(r)):(e.next=s.next,s.next=e),r.interleaved=e,ei(t,n)}function hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ww(t,n)}}function LS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xh(t,e,n,r){var s=t.updateQueue;Ri=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,f=c=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,g=a;switch(m=e,y=n,g.tag){case 1:if(S=g.payload,typeof S=="function"){p=S.call(y,p,m);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=g.payload,m=typeof S=="function"?S.call(y,p,m):S,m==null)break e;p=Ct({},p,m);break e;case 2:Ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=y,l=p):f=f.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fa|=o,t.lanes=o,t.memoizedState=p}}function VS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var kd={},gs=Co(kd),Wu=Co(kd),zu=Co(kd);function Qo(t){if(t===kd)throw Error(Y(174));return t}function jw(t,e){switch(lt(zu,e),lt(Wu,t),lt(gs,kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iy(e,t)}_t(gs),lt(gs,e)}function Gl(){_t(gs),_t(Wu),_t(zu)}function nP(t){Qo(zu.current);var e=Qo(gs.current),n=iy(e,t.type);e!==n&&(lt(Wu,t),lt(gs,n))}function Lw(t){Wu.current===t&&(_t(gs),_t(Wu))}var bt=Co(0);function Jh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qg=[];function Vw(){for(var t=0;t<Qg.length;t++)Qg[t]._workInProgressVersionPrimary=null;Qg.length=0}var ph=ui.ReactCurrentDispatcher,Yg=ui.ReactCurrentBatchConfig,da=0,Tt=null,qt=null,Jt=null,ep=!1,wu=!1,Hu=0,TF=0;function pn(){throw Error(Y(321))}function Fw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function $w(t,e,n,r,s,i){if(da=i,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ph.current=t===null||t.memoizedState===null?AF:RF,t=n(r,s),wu){i=0;do{if(wu=!1,Hu=0,25<=i)throw Error(Y(301));i+=1,Jt=qt=null,e.updateQueue=null,ph.current=kF,t=n(r,s)}while(wu)}if(ph.current=tp,e=qt!==null&&qt.next!==null,da=0,Jt=qt=Tt=null,ep=!1,e)throw Error(Y(300));return t}function Uw(){var t=Hu!==0;return Hu=0,t}function ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Sr(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Jt===null?Tt.memoizedState:Jt.next;if(e!==null)Jt=e,qt=t;else{if(t===null)throw Error(Y(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function qu(t,e){return typeof e=="function"?e(t):e}function Zg(t){var e=Sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((da&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Tt.lanes|=f,fa|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Wr(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Tt.lanes|=i,fa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xg(t){var e=Sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wr(i,e.memoizedState)||(Un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rP(){}function sP(t,e){var n=Tt,r=Sr(),s=e(),i=!Wr(r.memoizedState,s);if(i&&(r.memoizedState=s,Un=!0),r=r.queue,Bw(aP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Ku(9,oP.bind(null,n,r,s,e),void 0,null),en===null)throw Error(Y(349));da&30||iP(n,e,s)}return s}function iP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oP(t,e,n,r){e.value=n,e.getSnapshot=r,lP(e)&&cP(t)}function aP(t,e,n){return n(function(){lP(e)&&cP(t)})}function lP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function cP(t){var e=ei(t,1);e!==null&&$r(e,t,1,-1)}function FS(t){var e=ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:t},e.queue=t,t=t.dispatch=PF.bind(null,Tt,t),[e.memoizedState,t]}function Ku(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uP(){return Sr().memoizedState}function mh(t,e,n,r){var s=ns();Tt.flags|=t,s.memoizedState=Ku(1|e,n,void 0,r===void 0?null:r)}function lm(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,r!==null&&Fw(r,o.deps)){s.memoizedState=Ku(e,n,i,r);return}}Tt.flags|=t,s.memoizedState=Ku(1|e,n,i,r)}function $S(t,e){return mh(8390656,8,t,e)}function Bw(t,e){return lm(2048,8,t,e)}function dP(t,e){return lm(4,2,t,e)}function fP(t,e){return lm(4,4,t,e)}function hP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pP(t,e,n){return n=n!=null?n.concat([t]):null,lm(4,4,hP.bind(null,e,t),n)}function Ww(){}function mP(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gP(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vP(t,e,n){return da&21?(Wr(n,e)||(n=xI(),Tt.lanes|=n,fa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function CF(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{tt=n,Yg.transition=r}}function yP(){return Sr().memoizedState}function IF(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_P(t))wP(e,n);else if(n=eP(t,e,n,r),n!==null){var s=Nn();$r(n,t,r,s),EP(n,e,r)}}function PF(t,e,n){var r=Xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_P(t))wP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wr(a,o)){var l=e.interleaved;l===null?(s.next=s,Ow(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eP(t,e,s,r),n!==null&&(s=Nn(),$r(n,t,r,s),EP(n,e,r))}}function _P(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function wP(t,e){wu=ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ww(t,n)}}var tp={readContext:xr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},AF={readContext:xr,useCallback:function(t,e){return ns().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:$S,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mh(4194308,4,hP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mh(4194308,4,t,e)},useInsertionEffect:function(t,e){return mh(4,2,t,e)},useMemo:function(t,e){var n=ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IF.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=ns();return t={current:t},e.memoizedState=t},useState:FS,useDebugValue:Ww,useDeferredValue:function(t){return ns().memoizedState=t},useTransition:function(){var t=FS(!1),e=t[0];return t=CF.bind(null,t[1]),ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=ns();if(Et){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),en===null)throw Error(Y(349));da&30||iP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$S(aP.bind(null,r,i,t),[t]),r.flags|=2048,Ku(9,oP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ns(),e=en.identifierPrefix;if(Et){var n=Hs,r=zs;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RF={readContext:xr,useCallback:mP,useContext:xr,useEffect:Bw,useImperativeHandle:pP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:gP,useReducer:Zg,useRef:uP,useState:function(){return Zg(qu)},useDebugValue:Ww,useDeferredValue:function(t){var e=Sr();return vP(e,qt.memoizedState,t)},useTransition:function(){var t=Zg(qu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:rP,useSyncExternalStore:sP,useId:yP,unstable_isNewReconciler:!1},kF={readContext:xr,useCallback:mP,useContext:xr,useEffect:Bw,useImperativeHandle:pP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:gP,useReducer:Xg,useRef:uP,useState:function(){return Xg(qu)},useDebugValue:Ww,useDeferredValue:function(t){var e=Sr();return qt===null?e.memoizedState=t:vP(e,qt.memoizedState,t)},useTransition:function(){var t=Xg(qu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:rP,useSyncExternalStore:sP,useId:yP,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={isMounted:function(t){return(t=t._reactInternals)?ka(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Xi(t),i=Qs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yi(t,i,s),e!==null&&($r(e,t,s,r),hh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Xi(t),i=Qs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yi(t,i,s),e!==null&&($r(e,t,s,r),hh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Xi(t),s=Qs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yi(t,s,r),e!==null&&($r(e,t,r,n),hh(e,t,r))}};function US(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fu(n,r)||!Fu(s,i):!0}function xP(t,e,n){var r=!1,s=uo,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=zn(e)?ca:En.current,r=e.contextTypes,i=(r=r!=null)?Hl(t,s):uo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function BS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function Iy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=zn(e)?ca:En.current,s.context=Hl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cm.enqueueReplaceState(s,s.state,null),Xh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ql(t,e){try{var n="",r=e;do n+=iV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Py(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NF=typeof WeakMap=="function"?WeakMap:Map;function SP(t,e,n){n=Qs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rp||(rp=!0,Vy=r),Py(t,e)},n}function bP(t,e,n){n=Qs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Py(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Py(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=qF.bind(null,t,e,n),e.then(t,t))}function zS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qs(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var DF=ui.ReactCurrentOwner,Un=!1;function Cn(t,e,n,r){e.child=t===null?JI(e,null,n,r):Kl(e,t.child,n,r)}function qS(t,e,n,r,s){n=n.render;var i=e.ref;return bl(e,s),r=$w(t,e,n,r,i,s),n=Uw(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ti(t,e,s)):(Et&&n&&Pw(e),e.flags|=1,Cn(t,e,r,s),e.child)}function KS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TP(t,e,i,r,s)):(t=_h(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fu,n(o,r)&&t.ref===e.ref)return ti(t,e,s)}return e.flags|=1,t=Ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function TP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fu(i,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,ti(t,e,s)}return Ay(t,e,n,r,s)}function CP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(gl,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(gl,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(gl,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(gl,Yn),Yn|=r;return Cn(t,e,s,n),e.child}function IP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ay(t,e,n,r,s){var i=zn(n)?ca:En.current;return i=Hl(e,i),bl(e,s),n=$w(t,e,n,r,i,s),r=Uw(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ti(t,e,s)):(Et&&r&&Pw(e),e.flags|=1,Cn(t,e,n,s),e.child)}function GS(t,e,n,r,s){if(zn(n)){var i=!0;Kh(e)}else i=!1;if(bl(e,s),e.stateNode===null)gh(t,e),xP(e,n,r),Iy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=zn(n)?ca:En.current,c=Hl(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&BS(e,o,r,c),Ri=!1;var m=e.memoizedState;o.state=m,Xh(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Wn.current||Ri?(typeof f=="function"&&(Cy(e,n,f,r),l=e.memoizedState),(a=Ri||US(e,n,a,r,m,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pr(e.type,a),o.props=c,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xr(l):(l=zn(n)?ca:En.current,l=Hl(e,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&BS(e,o,r,l),Ri=!1,m=e.memoizedState,o.state=m,Xh(e,r,o,s);var S=e.memoizedState;a!==p||m!==S||Wn.current||Ri?(typeof y=="function"&&(Cy(e,n,y,r),S=e.memoizedState),(c=Ri||US(e,n,c,r,m,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ry(t,e,n,r,i,s)}function Ry(t,e,n,r,s,i){IP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&DS(e,n,!1),ti(t,e,i);r=e.stateNode,DF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,i),e.child=Kl(e,null,a,i)):Cn(t,e,a,i),e.memoizedState=r.state,s&&DS(e,n,!0),e.child}function PP(t){var e=t.stateNode;e.pendingContext?NS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NS(t,e.context,!1),jw(t,e.containerInfo)}function QS(t,e,n,r,s){return ql(),Rw(s),e.flags|=256,Cn(t,e,n,r),e.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function Ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function AP(t,e,n){var r=e.pendingProps,s=bt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(bt,s&1),t===null)return by(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fm(o,r,0,null),t=ia(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ny(n),e.memoizedState=ky,t):zw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return OF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ji(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ji(a,i):(i=ia(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ky,r}return i=t.child,t=i.sibling,r=Ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zw(t,e){return e=fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Df(t,e,n,r){return r!==null&&Rw(r),Kl(e,t.child,null,n),t=zw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jg(Error(Y(422))),Df(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fm({mode:"visible",children:r.children},s,0,null),i=ia(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=Ny(o),e.memoizedState=ky,i);if(!(e.mode&1))return Df(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Jg(i,r,void 0),Df(t,e,o,r)}if(a=(o&t.childLanes)!==0,Un||a){if(r=en,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ei(t,s),$r(r,t,s,-1))}return Yw(),r=Jg(Error(Y(421))),Df(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=KF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xn=Qi(s.nextSibling),er=e,Et=!0,jr=null,t!==null&&(pr[mr++]=zs,pr[mr++]=Hs,pr[mr++]=ua,zs=t.id,Hs=t.overflow,ua=e),e=zw(e,r.children),e.flags|=4096,e)}function YS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ty(t.return,e,n)}function ev(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Cn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YS(t,n,e);else if(t.tag===19)YS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ev(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ev(e,!0,n,null,i);break;case"together":ev(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MF(t,e,n){switch(e.tag){case 3:PP(e),ql();break;case 5:nP(e);break;case 1:zn(e.type)&&Kh(e);break;case 4:jw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?AP(t,e,n):(lt(bt,bt.current&1),t=ti(t,e,n),t!==null?t.sibling:null);lt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,CP(t,e,n)}return ti(t,e,n)}var kP,Dy,NP,DP;kP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dy=function(){};NP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qo(gs.current);var i=null;switch(n){case"input":s=ty(t,s),r=ty(t,r),i=[];break;case"select":s=Ct({},s,{value:void 0}),r=Ct({},r,{value:void 0}),i=[];break;case"textarea":s=sy(t,s),r=sy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hh)}oy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jF(t,e,n){var r=e.pendingProps;switch(Aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return zn(e.type)&&qh(),mn(e),null;case 3:return r=e.stateNode,Gl(),_t(Wn),_t(En),Vw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(Uy(jr),jr=null))),Dy(t,e),mn(e),null;case 5:Lw(e);var s=Qo(zu.current);if(n=e.type,t!==null&&e.stateNode!=null)NP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return mn(e),null}if(t=Qo(gs.current),kf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ds]=e,r[Bu]=i,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(s=0;s<iu.length;s++)pt(iu[s],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":iS(r,i),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pt("invalid",r);break;case"textarea":aS(r,i),pt("invalid",r)}oy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rf(r.textContent,a,t),s=["children",""+a]):Nu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pt("scroll",r)}switch(n){case"input":xf(r),oS(r,i,!0);break;case"textarea":xf(r),lS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ds]=e,t[Bu]=r,kP(t,e,!1,!1),e.stateNode=t;e:{switch(o=ay(n,r),n){case"dialog":pt("cancel",t),pt("close",t),s=r;break;case"iframe":case"object":case"embed":pt("load",t),s=r;break;case"video":case"audio":for(s=0;s<iu.length;s++)pt(iu[s],t);s=r;break;case"source":pt("error",t),s=r;break;case"img":case"image":case"link":pt("error",t),pt("load",t),s=r;break;case"details":pt("toggle",t),s=r;break;case"input":iS(t,r),s=ty(t,r),pt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ct({},r,{value:void 0}),pt("invalid",t);break;case"textarea":aS(t,r),s=sy(t,r),pt("invalid",t);break;default:s=r}oy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Du(t,l):typeof l=="number"&&Du(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pt("scroll",t):l!=null&&pw(t,i,l,o))}switch(n){case"input":xf(t),oS(t,r,!1);break;case"textarea":xf(t),lS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+co(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wl(t,!!r.multiple,i,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)DP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Qo(zu.current),Qo(gs.current),kf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ds]=e,(i=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:Rf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ds]=e,e.stateNode=r}return mn(e),null;case 13:if(_t(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&Xn!==null&&e.mode&1&&!(e.flags&128))ZI(),ql(),e.flags|=98560,i=!1;else if(i=kf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[ds]=e}else ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),i=!1}else jr!==null&&(Uy(jr),jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?Gt===0&&(Gt=3):Yw())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Gl(),Dy(t,e),t===null&&$u(e.stateNode.containerInfo),mn(e),null;case 10:return Dw(e.type._context),mn(e),null;case 17:return zn(e.type)&&qh(),mn(e),null;case 19:if(_t(bt),i=e.memoizedState,i===null)return mn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gc(i,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jh(t),o!==null){for(e.flags|=128,Gc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(bt,bt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Dt()>Yl&&(e.flags|=128,r=!0,Gc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return mn(e),null}else 2*Dt()-i.renderingStartTime>Yl&&n!==1073741824&&(e.flags|=128,r=!0,Gc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Dt(),e.sibling=null,n=bt.current,lt(bt,r?n&1|2:n&1),e):(mn(e),null);case 22:case 23:return Qw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function LF(t,e){switch(Aw(e),e.tag){case 1:return zn(e.type)&&qh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gl(),_t(Wn),_t(En),Vw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lw(e),null;case 13:if(_t(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(bt),null;case 4:return Gl(),null;case 10:return Dw(e.type._context),null;case 22:case 23:return Qw(),null;case 24:return null;default:return null}}var Of=!1,_n=!1,VF=typeof WeakSet=="function"?WeakSet:Set,le=null;function ml(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function Oy(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var ZS=!1;function FF(t,e){if(vy=Bh,t=VI(),Iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++f===r&&(l=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yy={focusedElem:t,selectionRange:n},Bh=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var g=S.memoizedProps,w=S.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:Pr(e.type,g),w);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){Rt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return S=ZS,ZS=!1,S}function Eu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oy(e,n,i)}s=s.next}while(s!==r)}}function um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function My(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OP(t){var e=t.alternate;e!==null&&(t.alternate=null,OP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ds],delete e[Bu],delete e[Ey],delete e[EF],delete e[xF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MP(t){return t.tag===5||t.tag===3||t.tag===4}function XS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hh));else if(r!==4&&(t=t.child,t!==null))for(jy(t,e,n),t=t.sibling;t!==null;)jy(t,e,n),t=t.sibling}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}var rn=null,Nr=!1;function _i(t,e,n){for(n=n.child;n!==null;)jP(t,e,n),n=n.sibling}function jP(t,e,n){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(nm,n)}catch{}switch(n.tag){case 5:_n||ml(n,e);case 6:var r=rn,s=Nr;rn=null,_i(t,e,n),rn=r,Nr=s,rn!==null&&(Nr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Nr?(t=rn,n=n.stateNode,t.nodeType===8?Kg(t.parentNode,n):t.nodeType===1&&Kg(t,n),Lu(t)):Kg(rn,n.stateNode));break;case 4:r=rn,s=Nr,rn=n.stateNode.containerInfo,Nr=!0,_i(t,e,n),rn=r,Nr=s;break;case 0:case 11:case 14:case 15:if(!_n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oy(n,e,o),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!_n&&(ml(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(_n=(r=_n)||n.memoizedState!==null,_i(t,e,n),_n=r):_i(t,e,n);break;default:_i(t,e,n)}}function JS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VF),e.forEach(function(r){var s=GF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,Nr=!1;break e;case 3:rn=a.stateNode.containerInfo,Nr=!0;break e;case 4:rn=a.stateNode.containerInfo,Nr=!0;break e}a=a.return}if(rn===null)throw Error(Y(160));jP(i,o,s),rn=null,Nr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LP(e,t),e=e.sibling}function LP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(e,t),ts(t),r&4){try{Eu(3,t,t.return),um(3,t)}catch(g){Rt(t,t.return,g)}try{Eu(5,t,t.return)}catch(g){Rt(t,t.return,g)}}break;case 1:Cr(e,t),ts(t),r&512&&n!==null&&ml(n,n.return);break;case 5:if(Cr(e,t),ts(t),r&512&&n!==null&&ml(n,n.return),t.flags&32){var s=t.stateNode;try{Du(s,"")}catch(g){Rt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iI(s,i),ay(a,o);var c=ay(a,i);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?uI(s,p):f==="dangerouslySetInnerHTML"?lI(s,p):f==="children"?Du(s,p):pw(s,f,p,c)}switch(a){case"input":ny(s,i);break;case"textarea":oI(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?wl(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?wl(s,!!i.multiple,i.defaultValue,!0):wl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bu]=i}catch(g){Rt(t,t.return,g)}}break;case 6:if(Cr(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Rt(t,t.return,g)}}break;case 3:if(Cr(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(g){Rt(t,t.return,g)}break;case 4:Cr(e,t),ts(t);break;case 13:Cr(e,t),ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kw=Dt())),r&4&&JS(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(_n=(c=_n)||f,Cr(e,t),_n=c):Cr(e,t),ts(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(le=t,f=t.child;f!==null;){for(p=le=f;le!==null;){switch(m=le,y=m.child,m.tag){case 0:case 11:case 14:case 15:Eu(4,m,m.return);break;case 1:ml(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(g){Rt(r,n,g)}}break;case 5:ml(m,m.return);break;case 22:if(m.memoizedState!==null){tb(p);continue}}y!==null?(y.return=m,le=y):tb(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cI("display",o))}catch(g){Rt(t,t.return,g)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Rt(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cr(e,t),ts(t),r&4&&JS(t);break;case 21:break;default:Cr(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MP(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Du(s,""),r.flags&=-33);var i=XS(t);Ly(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XS(t);jy(t,a,o);break;default:throw Error(Y(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $F(t,e,n){le=t,VP(t)}function VP(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Of;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_n;a=Of;var c=_n;if(Of=o,(_n=l)&&!c)for(le=s;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?nb(s):l!==null?(l.return=o,le=l):nb(s);for(;i!==null;)le=i,VP(i),i=i.sibling;le=s,Of=a,_n=c}eb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):eb(t)}}function eb(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_n)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&VS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Lu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}_n||e.flags&512&&My(e)}catch(m){Rt(e,e.return,m)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function tb(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function nb(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{um(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Rt(e,s,l)}}var i=e.return;try{My(e)}catch(l){Rt(e,i,l)}break;case 5:var o=e.return;try{My(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var UF=Math.ceil,np=ui.ReactCurrentDispatcher,Hw=ui.ReactCurrentOwner,yr=ui.ReactCurrentBatchConfig,ze=0,en=null,Ut=null,an=0,Yn=0,gl=Co(0),Gt=0,Gu=null,fa=0,dm=0,qw=0,xu=null,Fn=null,Kw=0,Yl=1/0,Fs=null,rp=!1,Vy=null,Zi=null,Mf=!1,zi=null,sp=0,Su=0,Fy=null,vh=-1,yh=0;function Nn(){return ze&6?Dt():vh!==-1?vh:vh=Dt()}function Xi(t){return t.mode&1?ze&2&&an!==0?an&-an:bF.transition!==null?(yh===0&&(yh=xI()),yh):(t=tt,t!==0||(t=window.event,t=t===void 0?16:AI(t.type)),t):1}function $r(t,e,n,r){if(50<Su)throw Su=0,Fy=null,Error(Y(185));Pd(t,n,r),(!(ze&2)||t!==en)&&(t===en&&(!(ze&2)&&(dm|=n),Gt===4&&Ni(t,an)),Hn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Yl=Dt()+500,am&&Io()))}function Hn(t,e){var n=t.callbackNode;bV(t,e);var r=Uh(t,t===en?an:0);if(r===0)n!==null&&dS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dS(n),e===1)t.tag===0?SF(rb.bind(null,t)):GI(rb.bind(null,t)),_F(function(){!(ze&6)&&Io()}),n=null;else{switch(SI(r)){case 1:n=_w;break;case 4:n=wI;break;case 16:n=$h;break;case 536870912:n=EI;break;default:n=$h}n=qP(n,FP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FP(t,e){if(vh=-1,yh=0,ze&6)throw Error(Y(327));var n=t.callbackNode;if(Tl()&&t.callbackNode!==n)return null;var r=Uh(t,t===en?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var s=ze;ze|=2;var i=UP();(en!==t||an!==e)&&(Fs=null,Yl=Dt()+500,sa(t,e));do try{zF();break}catch(a){$P(t,a)}while(!0);Nw(),np.current=i,ze=s,Ut!==null?e=0:(en=null,an=0,e=Gt)}if(e!==0){if(e===2&&(s=fy(t),s!==0&&(r=s,e=$y(t,s))),e===1)throw n=Gu,sa(t,0),Ni(t,r),Hn(t,Dt()),n;if(e===6)Ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!BF(s)&&(e=ip(t,r),e===2&&(i=fy(t),i!==0&&(r=i,e=$y(t,i))),e===1))throw n=Gu,sa(t,0),Ni(t,r),Hn(t,Dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:zo(t,Fn,Fs);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=Kw+500-Dt(),10<e)){if(Uh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wy(zo.bind(null,t,Fn,Fs),e);break}zo(t,Fn,Fs);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UF(r/1960))-r,10<r){t.timeoutHandle=wy(zo.bind(null,t,Fn,Fs),r);break}zo(t,Fn,Fs);break;case 5:zo(t,Fn,Fs);break;default:throw Error(Y(329))}}}return Hn(t,Dt()),t.callbackNode===n?FP.bind(null,t):null}function $y(t,e){var n=xu;return t.current.memoizedState.isDehydrated&&(sa(t,e).flags|=256),t=ip(t,e),t!==2&&(e=Fn,Fn=n,e!==null&&Uy(e)),t}function Uy(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function BF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~qw,e&=~dm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function rb(t){if(ze&6)throw Error(Y(327));Tl();var e=Uh(t,0);if(!(e&1))return Hn(t,Dt()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=fy(t);r!==0&&(e=r,n=$y(t,r))}if(n===1)throw n=Gu,sa(t,0),Ni(t,e),Hn(t,Dt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zo(t,Fn,Fs),Hn(t,Dt()),null}function Gw(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Yl=Dt()+500,am&&Io())}}function ha(t){zi!==null&&zi.tag===0&&!(ze&6)&&Tl();var e=ze;ze|=1;var n=yr.transition,r=tt;try{if(yr.transition=null,tt=1,t)return t()}finally{tt=r,yr.transition=n,ze=e,!(ze&6)&&Io()}}function Qw(){Yn=gl.current,_t(gl)}function sa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yF(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(Aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qh();break;case 3:Gl(),_t(Wn),_t(En),Vw();break;case 5:Lw(r);break;case 4:Gl();break;case 13:_t(bt);break;case 19:_t(bt);break;case 10:Dw(r.type._context);break;case 22:case 23:Qw()}n=n.return}if(en=t,Ut=t=Ji(t.current,null),an=Yn=e,Gt=0,Gu=null,qw=dm=fa=0,Fn=xu=null,Go!==null){for(e=0;e<Go.length;e++)if(n=Go[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Go=null}return t}function $P(t,e){do{var n=Ut;try{if(Nw(),ph.current=tp,ep){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ep=!1}if(da=0,Jt=qt=Tt=null,wu=!1,Hu=0,Hw.current=null,n===null||n.return===null){Gt=1,Gu=e,Ut=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=an,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=zS(o);if(y!==null){y.flags&=-257,HS(y,o,a,i,e),y.mode&1&&WS(i,c,e),e=y,l=c;var S=e.updateQueue;if(S===null){var g=new Set;g.add(l),e.updateQueue=g}else S.add(l);break e}else{if(!(e&1)){WS(i,c,e),Yw();break e}l=Error(Y(426))}}else if(Et&&a.mode&1){var w=zS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),HS(w,o,a,i,e),Rw(Ql(l,a));break e}}i=l=Ql(l,a),Gt!==4&&(Gt=2),xu===null?xu=[i]:xu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=SP(i,l,e);LS(i,E);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zi===null||!Zi.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=bP(i,a,e);LS(i,I);break e}}i=i.return}while(i!==null)}WP(n)}catch(N){e=N,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function UP(){var t=np.current;return np.current=tp,t===null?tp:t}function Yw(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),en===null||!(fa&268435455)&&!(dm&268435455)||Ni(en,an)}function ip(t,e){var n=ze;ze|=2;var r=UP();(en!==t||an!==e)&&(Fs=null,sa(t,e));do try{WF();break}catch(s){$P(t,s)}while(!0);if(Nw(),ze=n,np.current=r,Ut!==null)throw Error(Y(261));return en=null,an=0,Gt}function WF(){for(;Ut!==null;)BP(Ut)}function zF(){for(;Ut!==null&&!mV();)BP(Ut)}function BP(t){var e=HP(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?WP(t):Ut=e,Hw.current=null}function WP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LF(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Ut=null;return}}else if(n=jF(n,e,Yn),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Gt===0&&(Gt=5)}function zo(t,e,n){var r=tt,s=yr.transition;try{yr.transition=null,tt=1,HF(t,e,n,r)}finally{yr.transition=s,tt=r}return null}function HF(t,e,n,r){do Tl();while(zi!==null);if(ze&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TV(t,i),t===en&&(Ut=en=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mf||(Mf=!0,qP($h,function(){return Tl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yr.transition,yr.transition=null;var o=tt;tt=1;var a=ze;ze|=4,Hw.current=null,FF(t,n),LP(n,t),dF(yy),Bh=!!vy,yy=vy=null,t.current=n,$F(n),gV(),ze=a,tt=o,yr.transition=i}else t.current=n;if(Mf&&(Mf=!1,zi=t,sp=s),i=t.pendingLanes,i===0&&(Zi=null),_V(n.stateNode),Hn(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rp)throw rp=!1,t=Vy,Vy=null,t;return sp&1&&t.tag!==0&&Tl(),i=t.pendingLanes,i&1?t===Fy?Su++:(Su=0,Fy=t):Su=0,Io(),null}function Tl(){if(zi!==null){var t=SI(sp),e=yr.transition,n=tt;try{if(yr.transition=null,tt=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,sp=0,ze&6)throw Error(Y(331));var s=ze;for(ze|=4,le=t.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var f=le;switch(f.tag){case 0:case 11:case 15:Eu(8,f,i)}var p=f.child;if(p!==null)p.return=f,le=p;else for(;le!==null;){f=le;var m=f.sibling,y=f.return;if(OP(f),f===c){le=null;break}if(m!==null){m.return=y,le=m;break}le=y}}}var S=i.alternate;if(S!==null){var g=S.child;if(g!==null){S.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eu(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,le=E;break e}le=i.return}}var _=t.current;for(le=_;le!==null;){o=le;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,le=x;else e:for(o=_;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:um(9,a)}}catch(N){Rt(a,a.return,N)}if(a===o){le=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,le=I;break e}le=a.return}}if(ze=s,Io(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(nm,t)}catch{}r=!0}return r}finally{tt=n,yr.transition=e}}return!1}function sb(t,e,n){e=Ql(n,e),e=SP(t,e,1),t=Yi(t,e,1),e=Nn(),t!==null&&(Pd(t,1,e),Hn(t,e))}function Rt(t,e,n){if(t.tag===3)sb(t,t,n);else for(;e!==null;){if(e.tag===3){sb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=Ql(n,t),t=bP(e,t,1),e=Yi(e,t,1),t=Nn(),e!==null&&(Pd(e,1,t),Hn(e,t));break}}e=e.return}}function qF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(an&n)===n&&(Gt===4||Gt===3&&(an&130023424)===an&&500>Dt()-Kw?sa(t,0):qw|=n),Hn(t,e)}function zP(t,e){e===0&&(t.mode&1?(e=Tf,Tf<<=1,!(Tf&130023424)&&(Tf=4194304)):e=1);var n=Nn();t=ei(t,e),t!==null&&(Pd(t,e,n),Hn(t,n))}function KF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zP(t,n)}function GF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),zP(t,n)}var HP;HP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,MF(t,e,n);Un=!!(t.flags&131072)}else Un=!1,Et&&e.flags&1048576&&QI(e,Qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gh(t,e),t=e.pendingProps;var s=Hl(e,En.current);bl(e,n),s=$w(null,e,r,t,s,n);var i=Uw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(i=!0,Kh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mw(e),s.updater=cm,e.stateNode=s,s._reactInternals=e,Iy(e,r,t,n),e=Ry(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&Pw(e),Cn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YF(r),t=Pr(r,t),s){case 0:e=Ay(null,e,r,t,n);break e;case 1:e=GS(null,e,r,t,n);break e;case 11:e=qS(null,e,r,t,n);break e;case 14:e=KS(null,e,r,Pr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),Ay(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),GS(t,e,r,s,n);case 3:e:{if(PP(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tP(t,e),Xh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ql(Error(Y(423)),e),e=QS(t,e,r,n,s);break e}else if(r!==s){s=Ql(Error(Y(424)),e),e=QS(t,e,r,n,s);break e}else for(Xn=Qi(e.stateNode.containerInfo.firstChild),er=e,Et=!0,jr=null,n=JI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ql(),r===s){e=ti(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return nP(e),t===null&&by(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_y(r,s)?o=null:i!==null&&_y(r,i)&&(e.flags|=32),IP(t,e),Cn(t,e,o,n),e.child;case 6:return t===null&&by(e),null;case 13:return AP(t,e,n);case 4:return jw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kl(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),qS(t,e,r,s,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,lt(Yh,r._currentValue),r._currentValue=o,i!==null)if(Wr(i.value,o)){if(i.children===s.children&&!Wn.current){e=ti(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ty(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ty(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bl(e,n),s=xr(s),r=r(s),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,s=Pr(r,e.pendingProps),s=Pr(r.type,s),KS(t,e,r,s,n);case 15:return TP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pr(r,s),gh(t,e),e.tag=1,zn(r)?(t=!0,Kh(e)):t=!1,bl(e,n),xP(e,r,s),Iy(e,r,s,n),Ry(null,e,r,!0,t,n);case 19:return RP(t,e,n);case 22:return CP(t,e,n)}throw Error(Y(156,e.tag))};function qP(t,e){return _I(t,e)}function QF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new QF(t,e,n,r)}function Zw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YF(t){if(typeof t=="function")return Zw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gw)return 11;if(t===vw)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _h(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ol:return ia(n.children,s,i,e);case mw:o=8,s|=8;break;case Zv:return t=vr(12,n,e,s|2),t.elementType=Zv,t.lanes=i,t;case Xv:return t=vr(13,n,e,s),t.elementType=Xv,t.lanes=i,t;case Jv:return t=vr(19,n,e,s),t.elementType=Jv,t.lanes=i,t;case nI:return fm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:o=10;break e;case tI:o=9;break e;case gw:o=11;break e;case vw:o=14;break e;case Ai:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=vr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ia(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function fm(t,e,n,r){return t=vr(22,t,r,e),t.elementType=nI,t.lanes=n,t.stateNode={isHidden:!1},t}function tv(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function nv(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xw(t,e,n,r,s,i,o,a,l){return t=new ZF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mw(i),t}function XF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KP(t){if(!t)return uo;t=t._reactInternals;e:{if(ka(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(zn(n))return KI(t,n,e)}return e}function GP(t,e,n,r,s,i,o,a,l){return t=Xw(n,r,!0,t,s,i,o,a,l),t.context=KP(null),n=t.current,r=Nn(),s=Xi(n),i=Qs(r,s),i.callback=e??null,Yi(n,i,s),t.current.lanes=s,Pd(t,s,r),Hn(t,r),t}function hm(t,e,n,r){var s=e.current,i=Nn(),o=Xi(s);return n=KP(n),e.context===null?e.context=n:e.pendingContext=n,e=Qs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yi(s,e,o),t!==null&&($r(t,s,o,i),hh(t,s,o)),o}function op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ib(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jw(t,e){ib(t,e),(t=t.alternate)&&ib(t,e)}function JF(){return null}var QP=typeof reportError=="function"?reportError:function(t){console.error(t)};function e0(t){this._internalRoot=t}pm.prototype.render=e0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));hm(t,e,null,null)};pm.prototype.unmount=e0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ha(function(){hm(null,t,null,null)}),e[Js]=null}};function pm(t){this._internalRoot=t}pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=CI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&PI(t)}};function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ob(){}function e4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=op(o);i.call(c)}}var o=GP(e,r,t,0,null,!1,!1,"",ob);return t._reactRootContainer=o,t[Js]=o.current,$u(t.nodeType===8?t.parentNode:t),ha(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=op(l);a.call(c)}}var l=Xw(t,0,!1,null,null,!1,!1,"",ob);return t._reactRootContainer=l,t[Js]=l.current,$u(t.nodeType===8?t.parentNode:t),ha(function(){hm(e,l,n,r)}),l}function gm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=op(o);a.call(l)}}hm(e,o,t,s)}else o=e4(n,e,t,s,r);return op(o)}bI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=su(e.pendingLanes);n!==0&&(ww(e,n|1),Hn(e,Dt()),!(ze&6)&&(Yl=Dt()+500,Io()))}break;case 13:ha(function(){var r=ei(t,1);if(r!==null){var s=Nn();$r(r,t,1,s)}}),Jw(t,1)}};Ew=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=Nn();$r(e,t,134217728,n)}Jw(t,134217728)}};TI=function(t){if(t.tag===13){var e=Xi(t),n=ei(t,e);if(n!==null){var r=Nn();$r(n,t,e,r)}Jw(t,e)}};CI=function(){return tt};II=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};cy=function(t,e,n){switch(e){case"input":if(ny(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=om(r);if(!s)throw Error(Y(90));sI(r),ny(r,s)}}}break;case"textarea":oI(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};hI=Gw;pI=ha;var t4={usingClientEntryPoint:!1,Events:[Rd,ul,om,dI,fI,Gw]},Qc={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n4={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vI(t),t===null?null:t.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||JF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{nm=jf.inject(n4),ms=jf}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t4;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(e))throw Error(Y(200));return XF(t,e,null,n)};lr.createRoot=function(t,e){if(!t0(t))throw Error(Y(299));var n=!1,r="",s=QP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xw(t,1,!1,null,null,n,!1,r,s),t[Js]=e.current,$u(t.nodeType===8?t.parentNode:t),new e0(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=vI(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return ha(t)};lr.hydrate=function(t,e,n){if(!mm(e))throw Error(Y(200));return gm(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!t0(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=QP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GP(e,null,t,1,n??null,s,!1,i,o),t[Js]=e.current,$u(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pm(e)};lr.render=function(t,e,n){if(!mm(e))throw Error(Y(200));return gm(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!mm(t))throw Error(Y(40));return t._reactRootContainer?(ha(function(){gm(null,null,t,!1,function(){t._reactRootContainer=null,t[Js]=null})}),!0):!1};lr.unstable_batchedUpdates=Gw;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mm(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return gm(t,e,n,!1,r)};lr.version="18.3.1-next-f1338f8080-20240426";function YP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YP)}catch(t){console.error(t)}}YP(),Y1.exports=lr;var As=Y1.exports;const vm=L1(As);var ZP,ab=As;ZP=ab.createRoot,ab.hydrateRoot;function r4(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var XP={exports:{}},JP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=h;function s4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i4=typeof Object.is=="function"?Object.is:s4,o4=Zl.useState,a4=Zl.useEffect,l4=Zl.useLayoutEffect,c4=Zl.useDebugValue;function u4(t,e){var n=e(),r=o4({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return l4(function(){s.value=n,s.getSnapshot=e,rv(s)&&i({inst:s})},[t,n,e]),a4(function(){return rv(s)&&i({inst:s}),t(function(){rv(s)&&i({inst:s})})},[t]),c4(n),n}function rv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i4(t,n)}catch{return!0}}function d4(t,e){return e()}var f4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d4:u4;JP.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:f4;XP.exports=JP;var h4=XP.exports;const p4=G1.useInsertionEffect,m4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g4=m4?h.useLayoutEffect:h.useEffect,v4=p4||g4,eA=t=>{const e=h.useRef([t,(...n)=>e[0](...n)]).current;return v4(()=>{e[0]=t}),e[1]},y4="popstate",n0="pushState",r0="replaceState",_4="hashchange",lb=[y4,n0,r0,_4],w4=t=>{for(const e of lb)addEventListener(e,t);return()=>{for(const e of lb)removeEventListener(e,t)}},tA=(t,e)=>h4.useSyncExternalStore(w4,t,e),E4=()=>location.search,x4=({ssrSearch:t=""}={})=>tA(E4,()=>t),cb=()=>location.pathname,S4=({ssrPath:t}={})=>tA(cb,t?()=>t:cb),b4=(t,{replace:e=!1,state:n=null}={})=>history[e?r0:n0](n,"",t),T4=(t={})=>[S4(t),b4],ub=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ub]>"u"){for(const t of[n0,r0]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ub,{value:!0})}const C4=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nA=(t="")=>t==="/"?"":t,I4=(t,e)=>t[0]==="~"?t.slice(1):nA(e)+t,P4=(t="",e)=>C4(db(nA(t)),db(e)),db=t=>{try{return decodeURI(t)}catch{return t}},rA={hook:T4,searchHook:x4,parser:r4,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},sA=h.createContext(rA),Nd=()=>h.useContext(sA),iA={},oA=h.createContext(iA),A4=()=>h.useContext(oA),ym=t=>{const[e,n]=t.hook(t);return[P4(t.base,e),eA((r,s)=>n(I4(r,t.base),s))]},di=()=>ym(Nd()),aA=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((p,m)=>[p,l[m]])):o.groups;let f={...l};return c&&Object.assign(f,c),f})(),...r?[a]:[]]:[!1,null]},R4=({children:t,...e})=>{var f,p;const n=Nd(),r=e.hook?rA:n;let s=r;const[i,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let a=h.useRef({}),l=a.current,c=l;for(let m in r){const y=m==="base"?r[m]+(e[m]||""):e[m]||r[m];l===c&&y!==c[m]&&(a.current=c={...c}),c[m]=y,y!==r[m]&&(s=c)}return h.createElement(sA.Provider,{value:s,children:t})},fb=({children:t,component:e},n)=>e?h.createElement(e,{params:n}):typeof t=="function"?t(n):t,k4=t=>{let e=h.useRef(iA),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ds=({path:t,nest:e,match:n,...r})=>{const s=Nd(),[i]=ym(s),[o,a,l]=n??aA(s.parser,t,i,e),c=k4({...A4(),...a});if(!o)return null;const f=l?h.createElement(R4,{base:l},fb(r,c)):fb(r,c);return h.createElement(oA.Provider,{value:c,children:f})},Lf=h.forwardRef((t,e)=>{const n=Nd(),[r,s]=ym(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:f,replace:p,state:m,...y}=t,S=eA(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&h.isValidElement(c)?h.cloneElement(c,{onClick:S,href:g}):h.createElement("a",{...y,onClick:S,href:g,className:f!=null&&f.call?f(r===o):f,children:c,ref:e})}),lA=t=>Array.isArray(t)?t.flatMap(e=>lA(e&&e.type===h.Fragment?e.props.children:e)):[t],N4=({children:t,location:e})=>{const n=Nd(),[r]=ym(n);for(const s of lA(t)){let i=0;if(h.isValidElement(s)&&(i=aA(n.parser,s.props.path,e||r,s.props.nest))[0])return h.cloneElement(s,{match:i})}return null};var _m=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wm=typeof window>"u"||"Deno"in globalThis;function Ar(){}function D4(t,e){return typeof t=="function"?t(e):t}function O4(t){return typeof t=="number"&&t>=0&&t!==1/0}function M4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hb(t,e){return typeof t=="function"?t(e):t}function j4(t,e){return typeof t=="function"?t(e):t}function pb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==s0(o,e.options))return!1}else if(!Yu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qu(e.options.mutationKey)!==Qu(i))return!1}else if(!Yu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function s0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qu)(t)}function Qu(t){return JSON.stringify(t,(e,n)=>By(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yu(t[n],e[n])):!1}function cA(t,e){if(t===e)return t;const n=gb(t)&&gb(e);if(n||By(t)&&By(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const f=n?c:i[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=cA(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function gb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function By(t){if(!vb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!vb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vb(t){return Object.prototype.toString.call(t)==="[object Object]"}function L4(t){return new Promise(e=>{setTimeout(e,t)})}function V4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cA(t,e):e}function F4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var i0=Symbol();function uA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===i0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Jo,Vi,Ml,A1,U4=(A1=class extends _m{constructor(){super();Ke(this,Jo);Ke(this,Vi);Ke(this,Ml);Pe(this,Ml,e=>{if(!wm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Vi)||this.setEventListener(H(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Vi))==null||e.call(this),Pe(this,Vi,void 0))}setEventListener(e){var n;Pe(this,Ml,e),(n=H(this,Vi))==null||n.call(this),Pe(this,Vi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Jo)!==e&&(Pe(this,Jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Jo)=="boolean"?H(this,Jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jo=new WeakMap,Vi=new WeakMap,Ml=new WeakMap,A1),dA=new U4,jl,Fi,Ll,R1,B4=(R1=class extends _m{constructor(){super();Ke(this,jl,!0);Ke(this,Fi);Ke(this,Ll);Pe(this,Ll,e=>{if(!wm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Fi)||this.setEventListener(H(this,Ll))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Fi))==null||e.call(this),Pe(this,Fi,void 0))}setEventListener(e){var n;Pe(this,Ll,e),(n=H(this,Fi))==null||n.call(this),Pe(this,Fi,e(this.setOnline.bind(this)))}setOnline(e){H(this,jl)!==e&&(Pe(this,jl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,jl)}},jl=new WeakMap,Fi=new WeakMap,Ll=new WeakMap,R1),ap=new B4;function W4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function z4(t){return Math.min(1e3*2**t,3e4)}function fA(t){return(t??"online")==="online"?ap.isOnline():!0}var hA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sv(t){return t instanceof hA}function pA(t){let e=!1,n=0,r=!1,s;const i=W4(),o=g=>{var w;r||(m(new hA(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>dA.isFocused()&&(t.networkMode==="always"||ap.isOnline())&&t.canRun(),f=()=>fA(t.networkMode)&&t.canRun(),p=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},m=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},y=()=>new Promise(g=>{var w;s=E=>{(r||c())&&g(E)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),S=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(p).catch(E=>{var M;if(r)return;const _=t.retry??(wm?0:3),x=t.retryDelay??z4,I=typeof x=="function"?x(n,E):x,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!N){m(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),L4(I).then(()=>c()?void 0:y()).then(()=>{e?m(E):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?S():y().then(S),i)}}function H4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var An=H4(),ea,k1,mA=(k1=class{constructor(){Ke(this,ea)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O4(this.gcTime)&&Pe(this,ea,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wm?1/0:5*60*1e3))}clearGcTimeout(){H(this,ea)&&(clearTimeout(H(this,ea)),Pe(this,ea,void 0))}},ea=new WeakMap,k1),Vl,Fl,fr,ta,vn,Td,na,Rr,Ls,N1,q4=(N1=class extends mA{constructor(n){super();Ke(this,Rr);Ke(this,Vl);Ke(this,Fl);Ke(this,fr);Ke(this,ta);Ke(this,vn);Ke(this,Td);Ke(this,na);Pe(this,na,!1),Pe(this,Td,n.defaultOptions),this.setOptions(n.options),this.observers=[],Pe(this,ta,n.client),Pe(this,fr,H(this,ta).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Pe(this,Vl,G4(this.options)),this.state=n.state??H(this,Vl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,vn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,Td),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,fr).remove(this)}setData(n,r){const s=V4(this.state.data,n,this.options);return hn(this,Rr,Ls).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){hn(this,Rr,Ls).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,vn))==null?void 0:s.promise;return(i=H(this,vn))==null||i.cancel(n),r?r.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Vl))}isActive(){return this.observers.some(n=>j4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!M4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,vn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,vn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,fr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,vn)&&(H(this,na)?H(this,vn).cancel({revert:!0}):H(this,vn).cancelRetry()),this.scheduleGc()),H(this,fr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,Rr,Ls).call(this,{type:"invalidate"})}fetch(n,r){var c,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,vn))return H(this,vn).continueRetry(),H(this,vn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Pe(this,na,!0),s.signal)})},o=()=>{const m=uA(this.options,r),y={client:H(this,ta),queryKey:this.queryKey,meta:this.meta};return i(y),Pe(this,na,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,ta),state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Pe(this,Fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&hn(this,Rr,Ls).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=m=>{var y,S,g,w;sv(m)&&m.silent||hn(this,Rr,Ls).call(this,{type:"error",error:m}),sv(m)||((S=(y=H(this,fr).config).onError)==null||S.call(y,m,this),(w=(g=H(this,fr).config).onSettled)==null||w.call(g,this.state.data,m,this)),this.scheduleGc()};return Pe(this,vn,pA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,S,g,w;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){l(E);return}(S=(y=H(this,fr).config).onSuccess)==null||S.call(y,m,this),(w=(g=H(this,fr).config).onSettled)==null||w.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{hn(this,Rr,Ls).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{hn(this,Rr,Ls).call(this,{type:"pause"})},onContinue:()=>{hn(this,Rr,Ls).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,vn).start()}},Vl=new WeakMap,Fl=new WeakMap,fr=new WeakMap,ta=new WeakMap,vn=new WeakMap,Td=new WeakMap,na=new WeakMap,Rr=new WeakSet,Ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...K4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return sv(i)&&i.revert&&H(this,Fl)?{...H(this,Fl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),An.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,fr).notify({query:this,type:"updated",action:n})})},N1);function K4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var os,D1,Q4=(D1=class extends _m{constructor(e={}){super();Ke(this,os);this.config=e,Pe(this,os,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??s0(s,n);let o=this.get(i);return o||(o=new q4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,os).has(e.queryHash)||(H(this,os).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,os).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,os).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,os).get(e)}getAll(){return[...H(this,os).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pb(e,r)):n}notify(e){An.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},os=new WeakMap,D1),as,Tn,ra,ls,bi,O1,Y4=(O1=class extends mA{constructor(n){super();Ke(this,ls);Ke(this,as);Ke(this,Tn);Ke(this,ra);this.mutationId=n.mutationId,Pe(this,Tn,n.mutationCache),Pe(this,as,[]),this.state=n.state||Z4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,as).includes(n)||(H(this,as).push(n),this.clearGcTimeout(),H(this,Tn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Pe(this,as,H(this,as).filter(r=>r!==n)),this.scheduleGc(),H(this,Tn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,as).length||(this.state.status==="pending"?this.scheduleGc():H(this,Tn).remove(this))}continue(){var n;return((n=H(this,ra))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,f,p,m,y,S,g,w,E,_,x,I,N,M,C,T;Pe(this,ra,pA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{hn(this,ls,bi).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{hn(this,ls,bi).call(this,{type:"pause"})},onContinue:()=>{hn(this,ls,bi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Tn).canRun(this)}));const r=this.state.status==="pending",s=!H(this,ra).canStart();try{if(!r){hn(this,ls,bi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Tn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&hn(this,ls,bi).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const A=await H(this,ra).start();return await((f=(c=H(this,Tn).config).onSuccess)==null?void 0:f.call(c,A,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,A,n,this.state.context)),await((S=(y=H(this,Tn).config).onSettled)==null?void 0:S.call(y,A,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,A,null,n,this.state.context)),hn(this,ls,bi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=H(this,Tn).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((I=(x=this.options).onError)==null?void 0:I.call(x,A,n,this.state.context)),await((M=(N=H(this,Tn).config).onSettled)==null?void 0:M.call(N,void 0,A,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,A,n,this.state.context)),A}finally{hn(this,ls,bi).call(this,{type:"error",error:A})}}finally{H(this,Tn).runNext(this)}}},as=new WeakMap,Tn=new WeakMap,ra=new WeakMap,ls=new WeakSet,bi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),An.batch(()=>{H(this,as).forEach(s=>{s.onMutationUpdate(n)}),H(this,Tn).notify({mutation:this,type:"updated",action:n})})},O1);function Z4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ws,kr,Cd,M1,X4=(M1=class extends _m{constructor(e={}){super();Ke(this,Ws);Ke(this,kr);Ke(this,Cd);this.config=e,Pe(this,Ws,new Set),Pe(this,kr,new Map),Pe(this,Cd,0)}build(e,n,r){const s=new Y4({mutationCache:this,mutationId:++_f(this,Cd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){H(this,Ws).add(e);const n=Vf(e);if(typeof n=="string"){const r=H(this,kr).get(n);r?r.push(e):H(this,kr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,Ws).delete(e)){const n=Vf(e);if(typeof n=="string"){const r=H(this,kr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&H(this,kr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Vf(e);if(typeof n=="string"){const r=H(this,kr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Vf(e);if(typeof n=="string"){const s=(r=H(this,kr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{H(this,Ws).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,Ws).clear(),H(this,kr).clear()})}getAll(){return Array.from(H(this,Ws))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mb(n,r))}findAll(e={}){return this.getAll().filter(n=>mb(e,n))}notify(e){An.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return An.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ar))))}},Ws=new WeakMap,kr=new WeakMap,Cd=new WeakMap,M1);function Vf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function yb(t){return{onFetch:(e,n)=>{var f,p,m,y,S;const r=e.options,s=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=uA(e.options,e.fetchOptions),_=async(x,I,N)=>{if(g)return Promise.reject();if(I==null&&x.pages.length)return Promise.resolve(x);const M={client:e.client,queryKey:e.queryKey,pageParam:I,direction:N?"backward":"forward",meta:e.options.meta};w(M);const C=await E(M),{maxPages:T}=e.options,A=N?$4:F4;return{pages:A(x.pages,C,T),pageParams:A(x.pageParams,I,T)}};if(s&&i.length){const x=s==="backward",I=x?J4:_b,N={pages:i,pageParams:o},M=I(r,N);a=await _(N,M,x)}else{const x=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:_b(r,a);if(l>0&&I==null)break;a=await _(a,I),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function _b(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var At,$i,Ui,$l,Ul,Bi,Bl,Wl,j1,e$=(j1=class{constructor(t={}){Ke(this,At);Ke(this,$i);Ke(this,Ui);Ke(this,$l);Ke(this,Ul);Ke(this,Bi);Ke(this,Bl);Ke(this,Wl);Pe(this,At,t.queryCache||new Q4),Pe(this,$i,t.mutationCache||new X4),Pe(this,Ui,t.defaultOptions||{}),Pe(this,$l,new Map),Pe(this,Ul,new Map),Pe(this,Bi,0)}mount(){_f(this,Bi)._++,H(this,Bi)===1&&(Pe(this,Bl,dA.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,At).onFocus())})),Pe(this,Wl,ap.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,At).onOnline())})))}unmount(){var t,e;_f(this,Bi)._--,H(this,Bi)===0&&((t=H(this,Bl))==null||t.call(this),Pe(this,Bl,void 0),(e=H(this,Wl))==null||e.call(this),Pe(this,Wl,void 0))}isFetching(t){return H(this,At).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,$i).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,At).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,At).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(hb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,At).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,At).get(r.queryHash),i=s==null?void 0:s.state.data,o=D4(e,i);if(o!==void 0)return H(this,At).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return An.batch(()=>H(this,At).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,At).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,At);An.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,At),r={type:"active",...t};return An.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=An.batch(()=>H(this,At).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(t,e={}){return An.batch(()=>{if(H(this,At).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const n={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=An.batch(()=>H(this,At).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ar)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ar)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,At).build(this,e);return n.isStaleByTime(hb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ar).catch(Ar)}fetchInfiniteQuery(t){return t.behavior=yb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ar).catch(Ar)}ensureInfiniteQueryData(t){return t.behavior=yb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ap.isOnline()?H(this,$i).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,At)}getMutationCache(){return H(this,$i)}getDefaultOptions(){return H(this,Ui)}setDefaultOptions(t){Pe(this,Ui,t)}setQueryDefaults(t,e){H(this,$l).set(Qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,$l).values()],n={};return e.forEach(r=>{Yu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,Ul).set(Qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Ul).values()];let n={};return e.forEach(r=>{Yu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Ui).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=s0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===i0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Ui).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,At).clear(),H(this,$i).clear()}},At=new WeakMap,$i=new WeakMap,Ui=new WeakMap,$l=new WeakMap,Ul=new WeakMap,Bi=new WeakMap,Bl=new WeakMap,Wl=new WeakMap,j1),t$=h.createContext(void 0),n$=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(t$.Provider,{value:t,children:e}));async function r$(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const s$=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await r$(n),await n.json())},i$=new e$({defaultOptions:{queries:{queryFn:s$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),o$=1,a$=1e6;let iv=0;function l$(){return iv=(iv+1)%Number.MAX_SAFE_INTEGER,iv.toString()}const ov=new Map,wb=t=>{if(ov.has(t))return;const e=setTimeout(()=>{ov.delete(t),bu({type:"REMOVE_TOAST",toastId:t})},a$);ov.set(t,e)},c$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,o$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wb(n):t.toasts.forEach(r=>{wb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},wh=[];let Eh={toasts:[]};function bu(t){Eh=c$(Eh,t),wh.forEach(e=>{e(Eh)})}function u$({...t}){const e=l$(),n=s=>bu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>bu({type:"DISMISS_TOAST",toastId:e});return bu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function mc(){const[t,e]=h.useState(Eh);return h.useEffect(()=>(wh.push(e),()=>{const n=wh.indexOf(e);n>-1&&wh.splice(n,1)}),[t]),{...t,toast:u$,dismiss:n=>bu({type:"DISMISS_TOAST",toastId:n})}}function Kt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function d$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function gA(...t){return e=>t.forEach(n=>d$(n,e))}function or(...t){return h.useCallback(gA(...t),t)}function f$(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:m,children:y,...S}=p,g=(m==null?void 0:m[t][l])||a,w=h.useMemo(()=>S,Object.values(S));return d.jsx(g.Provider,{value:w,children:y})}function f(p,m){const y=(m==null?void 0:m[t][l])||a,S=h.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,h$(s,...e)]}function h$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var pa=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(p$);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(Wy,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(Wy,{...r,ref:e,children:n})});pa.displayName="Slot";var Wy=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=g$(n);return h.cloneElement(n,{...m$(r,n.props),ref:e?gA(e,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});Wy.displayName="SlotClone";var vA=({children:t})=>d.jsx(d.Fragment,{children:t});function p$(t){return h.isValidElement(t)&&t.type===vA}function m$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function g$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function v$(t){const e=t+"CollectionProvider",[n,r]=f$(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:S,children:g}=y,w=me.useRef(null),E=me.useRef(new Map).current;return d.jsx(s,{scope:S,itemMap:E,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=me.forwardRef((y,S)=>{const{scope:g,children:w}=y,E=i(a,g),_=or(S,E.collectionRef);return d.jsx(pa,{ref:_,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",p=me.forwardRef((y,S)=>{const{scope:g,children:w,...E}=y,_=me.useRef(null),x=or(S,_),I=i(c,g);return me.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),d.jsx(pa,{[f]:"",ref:x,children:w})});p.displayName=c;function m(y){const S=i(t+"CollectionConsumer",y);return me.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((I,N)=>E.indexOf(I.ref.current)-E.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},m,r]}function yA(t,e){const n=h.createContext(e),r=i=>{const{children:o,...a}=i,l=h.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=h.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ur(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];const c=p=>{var E;const{scope:m,children:y,...S}=p,g=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,w=h.useMemo(()=>S,Object.values(S));return d.jsx(g.Provider,{value:w,children:y})};c.displayName=i+"Provider";function f(p,m){var g;const y=((g=m==null?void 0:m[t])==null?void 0:g[l])||a,S=h.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,y$(s,...e)]}function y$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zt=_$.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?pa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _A(t,e){t&&As.flushSync(()=>t.dispatchEvent(e))}function at(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Em(t,e=globalThis==null?void 0:globalThis.document){const n=at(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var w$="DismissableLayer",zy="dismissableLayer.update",E$="dismissableLayer.pointerDownOutside",x$="dismissableLayer.focusOutside",Eb,wA=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o0=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=h.useContext(wA),[f,p]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),S=or(e,C=>p(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(w),_=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=b$(C=>{const T=C.target,A=[...c.branches].some(P=>P.contains(T));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=T$(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return Em(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),h.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),xb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Eb)}},[f,m,n,c]),h.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),xb())},[f,c]),h.useEffect(()=>{const C=()=>y({});return document.addEventListener(zy,C),()=>document.removeEventListener(zy,C)},[]),d.jsx(Zt.div,{...l,ref:S,style:{pointerEvents:x?I?"auto":"none":void 0,...t.style},onFocusCapture:Kt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Kt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Kt(t.onPointerDownCapture,N.onPointerDownCapture)})});o0.displayName=w$;var S$="DismissableLayerBranch",EA=h.forwardRef((t,e)=>{const n=h.useContext(wA),r=h.useRef(null),s=or(e,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Zt.div,{...t,ref:s})});EA.displayName=S$;function b$(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){xA(E$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T$(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&xA(x$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xb(){const t=new CustomEvent(zy);document.dispatchEvent(t)}function xA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_A(s,i):s.dispatchEvent(i)}var C$=o0,I$=EA,nt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},P$="Portal",a0=h.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=h.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vm.createPortal(d.jsx(Zt.div,{...r,ref:e}),o):null});a0.displayName=P$;function A$(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Dd=t=>{const{present:e,children:n}=t,r=R$(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=or(r.ref,k$(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};Dd.displayName="Presence";function R$(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=A$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Ff(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,f=s.current;if(f!==t){const m=i.current,y=Ff(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,p=y=>{const g=Ff(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=Ff(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ff(t){return(t==null?void 0:t.animationName)||"none"}function k$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ni({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=N$({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=at(n),l=h.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,l]}function N$({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,s=h.useRef(r),i=at(e);return h.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var D$="VisuallyHidden",l0=h.forwardRef((t,e)=>d.jsx(Zt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));l0.displayName=D$;var c0="ToastProvider",[u0,O$,M$]=v$("Toast"),[SA,Eee]=ur("Toast",[M$]),[j$,xm]=SA(c0),bA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=h.useState(null),[c,f]=h.useState(0),p=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${c0}\`. Expected non-empty \`string\`.`),d.jsx(u0.Provider,{scope:e,children:d.jsx(j$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>f(y=>y+1),[]),onToastRemove:h.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};bA.displayName=c0;var TA="ToastViewport",L$=["F8"],Hy="toast.viewportPause",qy="toast.viewportResume",CA=h.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=L$,label:s="Notifications ({hotkey})",...i}=t,o=xm(TA,n),a=O$(n),l=h.useRef(null),c=h.useRef(null),f=h.useRef(null),p=h.useRef(null),m=or(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;h.useEffect(()=>{const w=E=>{var x;r.length!==0&&r.every(I=>E[I]||E.code===I)&&((x=p.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=l.current,E=p.current;if(S&&w&&E){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Hy);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(qy);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!w.contains(M.relatedTarget)&&x()},N=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",_),w.addEventListener("focusout",I),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",N),window.addEventListener("blur",_),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",I),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",_),window.removeEventListener("focus",x)}}},[S,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const _=a().map(x=>{const I=x.ref.current,N=[I,...Y$(I)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return h.useEffect(()=>{const w=p.current;if(w){const E=_=>{var N,M,C;const x=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!x){const T=document.activeElement,A=_.shiftKey;if(_.target===w&&A){(N=c.current)==null||N.focus();return}const D=g({tabbingDirection:A?"backwards":"forwards"}),k=D.findIndex(z=>z===T);av(D.slice(k+1))?_.preventDefault():A?(M=c.current)==null||M.focus():(C=f.current)==null||C.focus()}};return w.addEventListener("keydown",E),()=>w.removeEventListener("keydown",E)}},[a,g]),d.jsxs(I$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&d.jsx(Ky,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});av(w)}}),d.jsx(u0.Slot,{scope:n,children:d.jsx(Zt.ol,{tabIndex:-1,...i,ref:m})}),S&&d.jsx(Ky,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});av(w)}})]})});CA.displayName=TA;var IA="ToastFocusProxy",Ky=h.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xm(IA,n);return d.jsx(l0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Ky.displayName=IA;var Sm="Toast",V$="toast.swipeStart",F$="toast.swipeMove",$$="toast.swipeCancel",U$="toast.swipeEnd",PA=h.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ni({prop:r,defaultProp:s,onChange:i});return d.jsx(Dd,{present:n||a,children:d.jsx(z$,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:at(t.onPause),onResume:at(t.onResume),onSwipeStart:Kt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(t.onSwipeMove,c=>{const{x:f,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Kt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(t.onSwipeEnd,c=>{const{x:f,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});PA.displayName=Sm;var[B$,W$]=SA(Sm,{onClose(){}}),z$=h.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:y,...S}=t,g=xm(Sm,n),[w,E]=h.useState(null),_=or(e,z=>E(z)),x=h.useRef(null),I=h.useRef(null),N=s||g.duration,M=h.useRef(0),C=h.useRef(N),T=h.useRef(0),{onToastAdd:A,onToastRemove:P}=g,O=at(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),o()}),D=h.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(O,z))},[O]);h.useEffect(()=>{const z=g.viewport;if(z){const J=()=>{D(C.current),c==null||c()},Z=()=>{const B=new Date().getTime()-M.current;C.current=C.current-B,window.clearTimeout(T.current),l==null||l()};return z.addEventListener(Hy,Z),z.addEventListener(qy,J),()=>{z.removeEventListener(Hy,Z),z.removeEventListener(qy,J)}}},[g.viewport,N,l,c,D]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(N)},[i,N,g.isClosePausedRef,D]),h.useEffect(()=>(A(),()=>P()),[A,P]);const k=h.useMemo(()=>w?MA(w):null,[w]);return g.viewport?d.jsxs(d.Fragment,{children:[k&&d.jsx(H$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),d.jsx(B$,{scope:n,onClose:O,children:As.createPortal(d.jsx(u0.ItemSlot,{scope:n,children:d.jsx(C$,{asChild:!0,onEscapeKeyDown:Kt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Kt(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Kt(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:Kt(t.onPointerMove,z=>{if(!x.current)return;const J=z.clientX-x.current.x,Z=z.clientY-x.current.y,B=!!I.current,L=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=L?F(0,J):0,re=L?0:F(0,Z),ge=z.pointerType==="touch"?10:2,Te={x:G,y:re},Ge={originalEvent:z,delta:Te};B?(I.current=Te,$f(F$,p,Ge,{discrete:!1})):Sb(Te,g.swipeDirection,ge)?(I.current=Te,$f(V$,f,Ge,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(J)>ge||Math.abs(Z)>ge)&&(x.current=null)}),onPointerUp:Kt(t.onPointerUp,z=>{const J=I.current,Z=z.target;if(Z.hasPointerCapture(z.pointerId)&&Z.releasePointerCapture(z.pointerId),I.current=null,x.current=null,J){const B=z.currentTarget,L={originalEvent:z,delta:J};Sb(J,g.swipeDirection,g.swipeThreshold)?$f(U$,y,L,{discrete:!0}):$f($$,m,L,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),H$=t=>{const{__scopeToast:e,children:n,...r}=t,s=xm(Sm,e),[i,o]=h.useState(!1),[a,l]=h.useState(!1);return G$(()=>o(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(a0,{asChild:!0,children:d.jsx(l0,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},q$="ToastTitle",AA=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Zt.div,{...r,ref:e})});AA.displayName=q$;var K$="ToastDescription",RA=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Zt.div,{...r,ref:e})});RA.displayName=K$;var kA="ToastAction",NA=h.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(OA,{altText:n,asChild:!0,children:d.jsx(d0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kA}\`. Expected non-empty \`string\`.`),null)});NA.displayName=kA;var DA="ToastClose",d0=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=W$(DA,n);return d.jsx(OA,{asChild:!0,children:d.jsx(Zt.button,{type:"button",...r,ref:e,onClick:Kt(t.onClick,s.onClose)})})});d0.displayName=DA;var OA=h.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function MA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Q$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...MA(r))}}),e}function $f(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_A(s,i):s.dispatchEvent(i)}var Sb=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function G$(t=()=>{}){const e=at(t);nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Q$(t){return t.nodeType===t.ELEMENT_NODE}function Y$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function av(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Z$=bA,jA=CA,LA=PA,VA=AA,FA=RA,$A=NA,UA=d0;function BA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=BA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function WA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=BA(t))&&(r&&(r+=" "),r+=e);return r}const bb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tb=WA,f0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Tb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],p=i==null?void 0:i[c];if(f===null)return null;const m=bb(f)||bb(p);return s[c][m]}),a=n&&Object.entries(n).reduce((c,f)=>{let[p,m]=f;return m===void 0||(c[p]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:p,className:m,...y}=f;return Object.entries(y).every(S=>{let[g,w]=S;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,p,m]:c},[]);return Tb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zA=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>h.createElement("svg",{ref:l,...J$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zA("lucide",s),...a},[...o.map(([c,f])=>h.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(t,e)=>{const n=h.forwardRef(({className:r,...s},i)=>h.createElement(eU,{ref:i,iconNode:e,className:zA(`lucide-${X$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Mt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=Mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Mt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Mt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Mt("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p0="-",dU=t=>{const e=hU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(p0);return a[0]===""&&a.length!==1&&a.shift(),XA(a,e)||fU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},XA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?XA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(p0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Pb=/^\[(.+)\]$/,fU=t=>{if(Pb.test(t)){const e=Pb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mU(Object.entries(t.classGroups),n).forEach(([i,o])=>{Gy(o,r,i,e)}),r},Gy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ab(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(pU(s)){Gy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Gy(o,Ab(e,i),n,r)})})},Ab=(t,e)=>{let n=t;return e.split(p0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pU=t=>t.isThemeGetter,mU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,gU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},JA="!",vU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,f=0,p;for(let w=0;w<a.length;w++){let E=a[w];if(c===0){if(E===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(f,w)),f=w+i;continue}if(E==="/"){p=w;continue}}E==="["?c++:E==="]"&&c--}const m=l.length===0?a:a.substring(f),y=m.startsWith(JA),S=y?m.substring(1):m,g=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},yU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_U=t=>({cache:gU(t.cacheSize),parseClassName:vU(t),...dU(t)}),wU=/\s+/,EU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(wU);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=n(c);let S=!!y,g=r(S?m.substring(0,y):m);if(!g){if(!S){a=c+(a.length>0?" "+a:a);continue}if(g=r(m),!g){a=c+(a.length>0?" "+a:a);continue}S=!1}const w=yU(f).join(":"),E=p?w+JA:w,_=E+g;if(i.includes(_))continue;i.push(_);const x=s(g,S);for(let I=0;I<x.length;++I){const N=x[I];i.push(E+N)}a=c+(a.length>0?" "+a:a)}return a};function xU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eR(e))&&(r&&(r+=" "),r+=n);return r}const eR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eR(t[r]))&&(n&&(n+=" "),n+=e);return n};function SU(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((f,p)=>p(f),t());return n=_U(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=EU(l,n);return s(l,f),f}return function(){return i(xU.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tR=/^\[(?:([a-z-]+):)?(.+)\]$/i,bU=/^\d+\/\d+$/,TU=new Set(["px","full","screen"]),CU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=t=>Cl(t)||TU.has(t)||bU.test(t),wi=t=>gc(t,"length",VU),Cl=t=>!!t&&!Number.isNaN(Number(t)),lv=t=>gc(t,"number",Cl),Yc=t=>!!t&&Number.isInteger(Number(t)),kU=t=>t.endsWith("%")&&Cl(t.slice(0,-1)),ke=t=>tR.test(t),Ei=t=>CU.test(t),NU=new Set(["length","size","percentage"]),DU=t=>gc(t,NU,nR),OU=t=>gc(t,"position",nR),MU=new Set(["image","url"]),jU=t=>gc(t,MU,$U),LU=t=>gc(t,"",FU),Zc=()=>!0,gc=(t,e,n)=>{const r=tR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},VU=t=>IU.test(t)&&!PU.test(t),nR=()=>!1,FU=t=>AU.test(t),$U=t=>RU.test(t),UU=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),s=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),l=ht("contrast"),c=ht("grayscale"),f=ht("hueRotate"),p=ht("invert"),m=ht("gap"),y=ht("gradientColorStops"),S=ht("gradientColorStopPositions"),g=ht("inset"),w=ht("margin"),E=ht("opacity"),_=ht("padding"),x=ht("saturate"),I=ht("scale"),N=ht("sepia"),M=ht("skew"),C=ht("space"),T=ht("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ke,e],D=()=>[ke,e],k=()=>["",Os,wi],z=()=>["auto",Cl,ke],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ke],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Cl,ke];return{cacheSize:500,separator:":",theme:{colors:[Zc],spacing:[Os,wi],blur:["none","",Ei,ke],brightness:re(),borderColor:[t],borderRadius:["none","","full",Ei,ke],borderSpacing:D(),borderWidth:k(),contrast:re(),grayscale:F(),hueRotate:re(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[kU,wi],inset:O(),margin:O(),opacity:re(),padding:D(),saturate:re(),scale:re(),sepia:F(),skew:re(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ke]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yc,ke]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Yc,ke]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Yc,ke]},ke]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Yc,ke]},ke]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lv]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Cl,lv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Os,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Os,wi]}],"underline-offset":[{"underline-offset":["auto",Os,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),OU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Os,ke]}],"outline-w":[{outline:[Os,wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Os,wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,LU]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ei,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Yc,ke]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Os,wi,lv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BU=SU(UU);function fe(...t){return BU(WA(t))}const WU=Z$,rR=h.forwardRef(({className:t,...e},n)=>d.jsx(jA,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rR.displayName=jA.displayName;const zU=f0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sR=h.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(LA,{ref:r,className:fe(zU({variant:e}),t),...n}));sR.displayName=LA.displayName;const HU=h.forwardRef(({className:t,...e},n)=>d.jsx($A,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));HU.displayName=$A.displayName;const iR=h.forwardRef(({className:t,...e},n)=>d.jsx(UA,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(ZA,{className:"h-4 w-4"})}));iR.displayName=UA.displayName;const oR=h.forwardRef(({className:t,...e},n)=>d.jsx(VA,{ref:n,className:fe("text-sm font-semibold",t),...e}));oR.displayName=VA.displayName;const aR=h.forwardRef(({className:t,...e},n)=>d.jsx(FA,{ref:n,className:fe("text-sm opacity-90",t),...e}));aR.displayName=FA.displayName;function qU(){const{toasts:t}=mc();return d.jsxs(WU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(sR,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(oR,{children:n}),r&&d.jsx(aR,{children:r})]}),s,d.jsx(iR,{})]},e)}),d.jsx(rR,{})]})}var Rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new GU;const m=i<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const S=c<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QU=function(t){const e=lR(t);return cR.encodeByteArray(e,!0)},cp=function(t){return QU(t).replace(/\./g,"")},uR=function(t){try{return cR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=()=>YU().__FIREBASE_DEFAULTS__,XU=()=>{if(typeof process>"u"||typeof Rb>"u")return;const t=Rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uR(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return ZU()||XU()||JU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dR=t=>{var e,n;return(n=(e=bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e3=t=>{const e=dR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fR=()=>{var t;return(t=bm())===null||t===void 0?void 0:t.config},hR=t=>{var e;return(e=bm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cp(JSON.stringify(n)),cp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function s3(){var t;const e=(t=bm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l3(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c3(){return!s3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u3(){try{return typeof indexedDB=="object"}catch{return!1}}function d3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f3,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Od.prototype.create)}}class Od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?h3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new fi(s,a,r)}}function h3(t,e){return t.replace(p3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p3=/\{\$([^}]+)}/g;function m3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function up(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kb(i)&&kb(o)){if(!up(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g3(t,e){const n=new v3(t,e);return n.subscribe.bind(n)}class v3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cv),s.error===void 0&&(s.error=cv),s.complete===void 0&&(s.complete=cv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new t3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E3(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w3(t){return t===Ho?void 0:t}function E3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const S3={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},b3=je.INFO,T3={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},C3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=T3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m0{constructor(e){this.name=e,this._logLevel=b3,this._logHandler=C3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const I3=(t,e)=>e.some(n=>t instanceof n);let Nb,Db;function P3(){return Nb||(Nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pR=new WeakMap,Qy=new WeakMap,mR=new WeakMap,uv=new WeakMap,g0=new WeakMap;function R3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(eo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,t)}).catch(()=>{}),g0.set(e,t),e}function k3(t){if(Qy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qy.set(t,e)}let Yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N3(t){Yy=t(Yy)}function D3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dv(this),e,...n);return mR.set(r,e.sort?e.sort():[e]),eo(r)}:A3().includes(t)?function(...e){return t.apply(dv(this),e),eo(pR.get(this))}:function(...e){return eo(t.apply(dv(this),e))}}function O3(t){return typeof t=="function"?D3(t):(t instanceof IDBTransaction&&k3(t),I3(t,P3())?new Proxy(t,Yy):t)}function eo(t){if(t instanceof IDBRequest)return R3(t);if(uv.has(t))return uv.get(t);const e=O3(t);return e!==t&&(uv.set(t,e),g0.set(e,t)),e}const dv=t=>g0.get(t);function M3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=eo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(eo(o.result),l.oldVersion,l.newVersion,eo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const j3=["get","getKey","getAll","getAllKeys","count"],L3=["put","add","delete","clear"],fv=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fv.get(e))return fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=L3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||j3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return fv.set(e,i),i}N3(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zy="@firebase/app",Mb="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new m0("@firebase/app"),$3="@firebase/app-compat",U3="@firebase/analytics-compat",B3="@firebase/analytics",W3="@firebase/app-check-compat",z3="@firebase/app-check",H3="@firebase/auth",q3="@firebase/auth-compat",K3="@firebase/database",G3="@firebase/data-connect",Q3="@firebase/database-compat",Y3="@firebase/functions",Z3="@firebase/functions-compat",X3="@firebase/installations",J3="@firebase/installations-compat",e9="@firebase/messaging",t9="@firebase/messaging-compat",n9="@firebase/performance",r9="@firebase/performance-compat",s9="@firebase/remote-config",i9="@firebase/remote-config-compat",o9="@firebase/storage",a9="@firebase/storage-compat",l9="@firebase/firestore",c9="@firebase/vertexai",u9="@firebase/firestore-compat",d9="firebase",f9="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",h9={[Zy]:"fire-core",[$3]:"fire-core-compat",[B3]:"fire-analytics",[U3]:"fire-analytics-compat",[z3]:"fire-app-check",[W3]:"fire-app-check-compat",[H3]:"fire-auth",[q3]:"fire-auth-compat",[K3]:"fire-rtdb",[G3]:"fire-data-connect",[Q3]:"fire-rtdb-compat",[Y3]:"fire-fn",[Z3]:"fire-fn-compat",[X3]:"fire-iid",[J3]:"fire-iid-compat",[e9]:"fire-fcm",[t9]:"fire-fcm-compat",[n9]:"fire-perf",[r9]:"fire-perf-compat",[s9]:"fire-rc",[i9]:"fire-rc-compat",[o9]:"fire-gcs",[a9]:"fire-gcs-compat",[l9]:"fire-fst",[u9]:"fire-fst-compat",[c9]:"fire-vertex","fire-js":"fire-js",[d9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new Map,p9=new Map,Jy=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xl(t){const e=t.name;if(Jy.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,t);for(const n of dp.values())jb(n,t);for(const n of p9.values())jb(n,t);return!0}function v0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new Od("app","Firebase",m9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=f9;function gR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(n||(n=fR()),!n)throw to.create("no-options");const i=dp.get(s);if(i){if(up(n,i.options)&&up(r,i.config))return i;throw to.create("duplicate-app",{appName:s})}const o=new x3(s);for(const l of Jy.values())o.addComponent(l);const a=new g9(n,r,o);return dp.set(s,a),a}function vR(t=Xy){const e=dp.get(t);if(!e&&t===Xy&&fR())return gR();if(!e)throw to.create("no-app",{appName:t});return e}function no(t,e,n){var r;let s=(r=h9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}Xl(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="firebase-heartbeat-database",y9=1,Zu="firebase-heartbeat-store";let hv=null;function yR(){return hv||(hv=M3(v9,y9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),hv}async function _9(t){try{const n=(await yR()).transaction(Zu),r=await n.objectStore(Zu).get(_R(t));return await n.done,r}catch(e){if(e instanceof fi)ri.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function Lb(t,e){try{const r=(await yR()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,_R(t)),await r.done}catch(n){if(n instanceof fi)ri.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(r.message)}}}function _R(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=1024,E9=30;class x9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>E9){const o=T9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vb(),{heartbeatsToSend:r,unsentEntries:s}=S9(this._heartbeatsCache.heartbeats),i=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ri.warn(n),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function S9(t,e=w9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Fb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u3()?d3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fb(t){return cp(JSON.stringify({version:2,heartbeats:t})).length}function T9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){Xl(new ma("platform-logger",e=>new V3(e),"PRIVATE")),Xl(new ma("heartbeat",e=>new x9(e),"PRIVATE")),no(Zy,Mb,t),no(Zy,Mb,"esm2017"),no("fire-js","")}C9("");var I9="firebase",P9="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(I9,P9,"app");var st=function(){return st=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},st.apply(this,arguments)};function Po(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tm(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A9=wR,ER=new Od("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new m0("@firebase/auth");function R9(t,...e){fp.logLevel<=je.WARN&&fp.warn(`Auth (${vc}): ${t}`,...e)}function xh(t,...e){fp.logLevel<=je.ERROR&&fp.error(`Auth (${vc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw y0(t,...e)}function vs(t,...e){return y0(t,...e)}function xR(t,e,n){const r=Object.assign(Object.assign({},A9()),{[e]:n});return new Od("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return xR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ER.create(t,...e)}function _e(t,e,...n){if(!t)throw y0(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function si(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k9(){return $b()==="http:"||$b()==="https:"}function $b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k9()||o3()||"connection"in navigator)?navigator.onLine:!0}function D9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=r3()||a3()}get(){return N9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new jd(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ro(t,e,n,r,s={}){return bR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Md(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return i3()||(c.referrerPolicy="no-referrer"),SR.fetch()(TR(t,t.config.apiHost,n,a),c)})}async function bR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O9),e);try{const s=new L9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uf(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xR(t,f,c);zr(t,f)}}catch(s){if(s instanceof fi)throw s;zr(t,"network-request-failed",{message:String(s)})}}async function Ld(t,e,n,r,s={}){const i=await Ro(t,e,n,r,s);return"mfaPendingCredential"in i&&zr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TR(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?_0(t.config,s):`${t.config.apiScheme}://${s}`}function j9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),M9.get())})}}function Uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=vs(t,e,r);return s.customData._tokenResponse=n,s}function Ub(t){return t!==void 0&&t.enterprise!==void 0}class V9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F9(t,e){return Ro(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return Ro(t,"POST","/v1/accounts:delete",e)}async function CR(t,e){return Ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U9(t,e=!1){const n=tn(t),r=await n.getIdToken(e),s=w0(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tu(pv(s.auth_time)),issuedAtTime:Tu(pv(s.iat)),expirationTime:Tu(pv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pv(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=uR(n);return s?JSON.parse(s):(xh("Failed to decode base64 JWT payload"),null)}catch(s){return xh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bb(t){const e=w0(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&B9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Xu(t,CR(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?IR(i.providerUserInfo):[],a=H9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function z9(t){const e=tn(t);await hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IR(t){return t.map(e=>{var{providerId:n}=e,r=Po(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){const n=await bR(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=TR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K9(t,e){return Ro(t,"POST","/v2/accounts:revokeToken",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Bb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await q9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Il;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Po(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new t_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U9(this,e)}reload(){return z9(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Xu(this,$9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:x,emailVerified:I,isAnonymous:N,providerData:M,stsTokenManager:C}=n;_e(x&&C,e,"internal-error");const T=Il.fromJSON(this.name,C);_e(typeof x=="string",e,"internal-error"),xi(p,e.name),xi(m,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof N=="boolean",e,"internal-error"),xi(y,e.name),xi(S,e.name),xi(g,e.name),xi(w,e.name),xi(E,e.name),xi(_,e.name);const A=new Ks({uid:x,auth:e,email:m,emailVerified:I,displayName:p,isAnonymous:N,photoURL:S,phoneNumber:y,tenantId:g,stsTokenManager:T,createdAt:E,lastLoginAt:_});return M&&Array.isArray(M)&&(A.providerData=M.map(P=>Object.assign({},P))),w&&(A._redirectEventId=w),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Il;s.updateFromServerResponse(n);const i=new Ks({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?IR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Il;a.updateFromIdToken(r);const l=new Ks({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new t_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;function Gs(t){si(t instanceof Function,"Expected a class definition");let e=Wb.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PR.type="NONE";const zb=PR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Gs(zb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Gs(zb);const o=Sh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const p=Ks._fromJSON(e,f);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Pl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Pl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(MR(e))return"Webos";if(RR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(DR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AR(t=xn()){return/firefox\//i.test(t)}function RR(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=xn()){return/crios\//i.test(t)}function NR(t=xn()){return/iemobile/i.test(t)}function DR(t=xn()){return/android/i.test(t)}function OR(t=xn()){return/blackberry/i.test(t)}function MR(t=xn()){return/webos/i.test(t)}function E0(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G9(t=xn()){var e;return E0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q9(){return l3()&&document.documentMode===10}function jR(t=xn()){return E0(t)||DR(t)||MR(t)||OR(t)||/windows phone/i.test(t)||NR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e=[]){let n;switch(t){case"Browser":n=Hb(xn());break;case"Worker":n=`${Hb(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e={}){return Ro(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=6;class J9{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qb(this),this.idTokenSubscription=new qb(this),this.beforeStateQueue=new Y9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ER,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CR(this,{idToken:e}),r=await Ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Ys(this));const n=e?tn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z9(this),n=new J9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Na(t){return tn(t)}class qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=g3(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tB(t){Cm=t}function VR(t){return Cm.loadJS(t)}function nB(){return Cm.recaptchaEnterpriseScript}function rB(){return Cm.gapiScript}function sB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iB{constructor(){this.enterprise=new oB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aB="recaptcha-enterprise",FR="NO_RECAPTCHA";class lB{constructor(e){this.type=aB,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{F9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new V9(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ub(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(FR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iB().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ub(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nB();l.length!==0&&(l+=a),VR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Kb(t,e,n,r=!1,s=!1){const i=new lB(t);let o;if(s)o=FR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function n_(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Kb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e){const n=v0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(up(i,e??{}))return s;zr(s,"already-initialized")}return n.initialize({options:e})}function uB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dB(t,e,n){const r=Na(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=$R(e),{host:o,port:a}=fB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),hB()}function $R(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fB(t){const e=$R(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Gb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Gb(o)}}}function Gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function pB(t,e){return Ro(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return Ld(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function vB(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends x0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,n,"signInWithPassword",mB);case"emailLink":return gB(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,r,"signUpPassword",pB);case"emailLink":return vB(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return Ld(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB="http://localhost";class ga extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Po(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ga(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:yB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wB(t){const e=ou(au(t)).link,n=e?ou(au(e)).deep_link_id:null,r=ou(au(t)).deep_link_id;return(r?ou(au(r)).link:null)||r||n||e||t}class S0{constructor(e){var n,r,s,i,o,a;const l=ou(au(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=_B((s=l.mode)!==null&&s!==void 0?s:null);_e(c&&f&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=f,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wB(e);try{return new S0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=S0.parseLink(n);return _e(r,"argument-error"),Ju._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends UR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Vd{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Vd{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Vd{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e){return Ld(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ks._fromIdTokenResponse(e,r,s),o=Qb(r);return new va({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Qb(r);return new va({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends fi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pp(e,n,r,s)}}function BR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(t,i,e,r):i})}async function xB(t,e,n=!1){const r=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(Ys(r));const s="reauthenticate";try{const i=await Xu(t,BR(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=w0(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),va._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e,n=!1){if(gr(t.app))return Promise.reject(Ys(t));const r="signIn",s=await BR(t,r,e),i=await va._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function bB(t,e){return WR(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TB(t,e,n){if(gr(t.app))return Promise.reject(Ys(t));const r=Na(t),o=await n_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zR(t),l}),a=await va._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function CB(t,e,n){return gr(t.app)?Promise.reject(Ys(t)):bB(tn(t),yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zR(t),r})}function IB(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function PB(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}async function AB(t){return tn(t).delete()}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=1e3,kB=10;class qR extends HR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Q9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const NB=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends HR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KR.type="SESSION";const GR=KR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await DB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=b0("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function MB(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function jB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VB(){return QR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebaseLocalStorageDb",FB=1,gp="firebaseLocalStorage",ZR="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pm(t,e){return t.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function $B(){const t=indexedDB.deleteDatabase(YR);return new Fd(t).toPromise()}function r_(){const t=indexedDB.open(YR,FB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gp,{keyPath:ZR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await $B(),e(await r_()))})})}async function Yb(t,e,n){const r=Pm(t,!0).put({[ZR]:e,value:n});return new Fd(r).toPromise()}async function UB(t,e){const n=Pm(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function Zb(t,e){const n=Pm(t,!0).delete(e);return new Fd(n).toPromise()}const BB=800,WB=3;class XR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(VB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jB(),!this.activeServiceWorker)return;this.sender=new OB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r_();return await Yb(e,mp,"1"),await Zb(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Pm(s,!1).getAll();return new Fd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XR.type="LOCAL";const zB=XR;new jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){return e?Gs(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qB(t){return WR(t.auth,new T0(t),t.bypassAuthState)}function KB(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),SB(n,new T0(t),t.bypassAuthState)}async function GB(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),xB(n,new T0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qB;case"linkViaPopup":case"linkViaRedirect":return GB;case"reauthViaPopup":case"reauthViaRedirect":return KB;default:zr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new jd(2e3,1e4);class vl extends JR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=b0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QB.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="pendingRedirect",bh=new Map;class ZB extends JR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await XB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XB(t,e){const n=t6(e),r=e6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function JB(t,e){bh.set(t._key(),e)}function e6(t){return Gs(t._redirectPersistence)}function t6(t){return Sh(YB,t.config.apiKey,t.name)}async function n6(t,e,n=!1){if(gr(t.app))return Promise.reject(Ys(t));const r=Na(t),s=HB(r,e),o=await new ZB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=10*60*1e3;class s6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ek(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(e))}saveEventToCache(e){this.cachedEventUids.add(Xb(e)),this.lastProcessedEventTime=Date.now()}}function Xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ek({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e={}){return Ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l6=/^https?/;async function c6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o6(t);for(const n of e)try{if(u6(n))return}catch{}zr(t,"unauthorized-domain")}function u6(t){const e=e_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l6.test(n))return!1;if(a6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new jd(3e4,6e4);function Jb(){const t=ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f6(t){return new Promise((e,n)=>{var r,s,i;function o(){Jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jb(),n(vs(t,"network-request-failed"))},timeout:d6.get()})}if(!((s=(r=ys().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ys().gapi)===null||i===void 0)&&i.load)o();else{const a=sB("iframefcb");return ys()[a]=()=>{gapi.load?o():n(vs(t,"network-request-failed"))},VR(`${rB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Th=null,e})}let Th=null;function h6(t){return Th=Th||f6(t),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new jd(5e3,15e3),m6="__/auth/iframe",g6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _6(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,g6):`https://${t.config.authDomain}/${m6}`,r={apiKey:e.apiKey,appName:t.name,v:vc},s=y6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Md(r).slice(1)}`}async function w6(t){const e=await h6(t),n=ys().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:_6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),a=ys().setTimeout(()=>{i(o)},p6.get());function l(){ys().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x6=500,S6=600,b6="_blank",T6="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C6(t,e,n,r=x6,s=S6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=xn().toLowerCase();n&&(a=kR(c)?b6:n),AR(c)&&(e=e||T6,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(G9(c)&&a!=="_self")return I6(e||"",a),new eT(null);const p=window.open(e||"",a,f);_e(p,t,"popup-blocked");try{p.focus()}catch{}return new eT(p)}function I6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",A6="emulator/auth/handler",R6=encodeURIComponent("fac");async function tT(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vc,eventId:s};if(e instanceof UR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Vd){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${R6}=${encodeURIComponent(l)}`:"";return`${k6(t)}?${Md(a).slice(1)}${c}`}function k6({config:t}){return t.emulator?_0(t,A6):`https://${t.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GR,this._completeRedirectFn=n6,this._overrideRedirectResult=JB}async _openPopup(e,n,r,s){var i;si((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await tT(e,n,r,e_(),s);return C6(e,o,b0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await tT(e,n,r,e_(),s);return MB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(si(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w6(e),r=new s6(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mv,{type:mv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[mv];o!==void 0&&n(!!o),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||RR()||E0()}}const D6=N6;var nT="@firebase/auth",rT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j6(t){Xl(new ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(t)},c=new eB(r,s,i,l);return uB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xl(new ma("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new O6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(nT,rT,M6(t)),no(nT,rT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=5*60,V6=hR("authIdTokenMaxAge")||L6;let sT=null;const F6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V6)return;const s=n==null?void 0:n.token;sT!==s&&(sT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tk(t=vR()){const e=v0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cB(t,{popupRedirectResolver:D6,persistence:[zB,NB,GR]}),r=hR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=F6(i.toString());PB(n,o,()=>o(n.currentUser)),IB(n,a=>o(a))}}const s=dR("auth");return s&&dB(n,`http://${s}`),n}function $6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=vs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",$6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j6("Browser");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,nk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,O,D){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return T.prototype[O].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(O=0;16>O;++O)P[O]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],O=C.g[2];var D=C.g[3],k=T+(D^A&(O^D))+P[0]+3614090360&4294967295;T=A+(k<<7&4294967295|k>>>25),k=D+(O^T&(A^O))+P[1]+3905402710&4294967295,D=T+(k<<12&4294967295|k>>>20),k=O+(A^D&(T^A))+P[2]+606105819&4294967295,O=D+(k<<17&4294967295|k>>>15),k=A+(T^O&(D^T))+P[3]+3250441966&4294967295,A=O+(k<<22&4294967295|k>>>10),k=T+(D^A&(O^D))+P[4]+4118548399&4294967295,T=A+(k<<7&4294967295|k>>>25),k=D+(O^T&(A^O))+P[5]+1200080426&4294967295,D=T+(k<<12&4294967295|k>>>20),k=O+(A^D&(T^A))+P[6]+2821735955&4294967295,O=D+(k<<17&4294967295|k>>>15),k=A+(T^O&(D^T))+P[7]+4249261313&4294967295,A=O+(k<<22&4294967295|k>>>10),k=T+(D^A&(O^D))+P[8]+1770035416&4294967295,T=A+(k<<7&4294967295|k>>>25),k=D+(O^T&(A^O))+P[9]+2336552879&4294967295,D=T+(k<<12&4294967295|k>>>20),k=O+(A^D&(T^A))+P[10]+4294925233&4294967295,O=D+(k<<17&4294967295|k>>>15),k=A+(T^O&(D^T))+P[11]+2304563134&4294967295,A=O+(k<<22&4294967295|k>>>10),k=T+(D^A&(O^D))+P[12]+1804603682&4294967295,T=A+(k<<7&4294967295|k>>>25),k=D+(O^T&(A^O))+P[13]+4254626195&4294967295,D=T+(k<<12&4294967295|k>>>20),k=O+(A^D&(T^A))+P[14]+2792965006&4294967295,O=D+(k<<17&4294967295|k>>>15),k=A+(T^O&(D^T))+P[15]+1236535329&4294967295,A=O+(k<<22&4294967295|k>>>10),k=T+(O^D&(A^O))+P[1]+4129170786&4294967295,T=A+(k<<5&4294967295|k>>>27),k=D+(A^O&(T^A))+P[6]+3225465664&4294967295,D=T+(k<<9&4294967295|k>>>23),k=O+(T^A&(D^T))+P[11]+643717713&4294967295,O=D+(k<<14&4294967295|k>>>18),k=A+(D^T&(O^D))+P[0]+3921069994&4294967295,A=O+(k<<20&4294967295|k>>>12),k=T+(O^D&(A^O))+P[5]+3593408605&4294967295,T=A+(k<<5&4294967295|k>>>27),k=D+(A^O&(T^A))+P[10]+38016083&4294967295,D=T+(k<<9&4294967295|k>>>23),k=O+(T^A&(D^T))+P[15]+3634488961&4294967295,O=D+(k<<14&4294967295|k>>>18),k=A+(D^T&(O^D))+P[4]+3889429448&4294967295,A=O+(k<<20&4294967295|k>>>12),k=T+(O^D&(A^O))+P[9]+568446438&4294967295,T=A+(k<<5&4294967295|k>>>27),k=D+(A^O&(T^A))+P[14]+3275163606&4294967295,D=T+(k<<9&4294967295|k>>>23),k=O+(T^A&(D^T))+P[3]+4107603335&4294967295,O=D+(k<<14&4294967295|k>>>18),k=A+(D^T&(O^D))+P[8]+1163531501&4294967295,A=O+(k<<20&4294967295|k>>>12),k=T+(O^D&(A^O))+P[13]+2850285829&4294967295,T=A+(k<<5&4294967295|k>>>27),k=D+(A^O&(T^A))+P[2]+4243563512&4294967295,D=T+(k<<9&4294967295|k>>>23),k=O+(T^A&(D^T))+P[7]+1735328473&4294967295,O=D+(k<<14&4294967295|k>>>18),k=A+(D^T&(O^D))+P[12]+2368359562&4294967295,A=O+(k<<20&4294967295|k>>>12),k=T+(A^O^D)+P[5]+4294588738&4294967295,T=A+(k<<4&4294967295|k>>>28),k=D+(T^A^O)+P[8]+2272392833&4294967295,D=T+(k<<11&4294967295|k>>>21),k=O+(D^T^A)+P[11]+1839030562&4294967295,O=D+(k<<16&4294967295|k>>>16),k=A+(O^D^T)+P[14]+4259657740&4294967295,A=O+(k<<23&4294967295|k>>>9),k=T+(A^O^D)+P[1]+2763975236&4294967295,T=A+(k<<4&4294967295|k>>>28),k=D+(T^A^O)+P[4]+1272893353&4294967295,D=T+(k<<11&4294967295|k>>>21),k=O+(D^T^A)+P[7]+4139469664&4294967295,O=D+(k<<16&4294967295|k>>>16),k=A+(O^D^T)+P[10]+3200236656&4294967295,A=O+(k<<23&4294967295|k>>>9),k=T+(A^O^D)+P[13]+681279174&4294967295,T=A+(k<<4&4294967295|k>>>28),k=D+(T^A^O)+P[0]+3936430074&4294967295,D=T+(k<<11&4294967295|k>>>21),k=O+(D^T^A)+P[3]+3572445317&4294967295,O=D+(k<<16&4294967295|k>>>16),k=A+(O^D^T)+P[6]+76029189&4294967295,A=O+(k<<23&4294967295|k>>>9),k=T+(A^O^D)+P[9]+3654602809&4294967295,T=A+(k<<4&4294967295|k>>>28),k=D+(T^A^O)+P[12]+3873151461&4294967295,D=T+(k<<11&4294967295|k>>>21),k=O+(D^T^A)+P[15]+530742520&4294967295,O=D+(k<<16&4294967295|k>>>16),k=A+(O^D^T)+P[2]+3299628645&4294967295,A=O+(k<<23&4294967295|k>>>9),k=T+(O^(A|~D))+P[0]+4096336452&4294967295,T=A+(k<<6&4294967295|k>>>26),k=D+(A^(T|~O))+P[7]+1126891415&4294967295,D=T+(k<<10&4294967295|k>>>22),k=O+(T^(D|~A))+P[14]+2878612391&4294967295,O=D+(k<<15&4294967295|k>>>17),k=A+(D^(O|~T))+P[5]+4237533241&4294967295,A=O+(k<<21&4294967295|k>>>11),k=T+(O^(A|~D))+P[12]+1700485571&4294967295,T=A+(k<<6&4294967295|k>>>26),k=D+(A^(T|~O))+P[3]+2399980690&4294967295,D=T+(k<<10&4294967295|k>>>22),k=O+(T^(D|~A))+P[10]+4293915773&4294967295,O=D+(k<<15&4294967295|k>>>17),k=A+(D^(O|~T))+P[1]+2240044497&4294967295,A=O+(k<<21&4294967295|k>>>11),k=T+(O^(A|~D))+P[8]+1873313359&4294967295,T=A+(k<<6&4294967295|k>>>26),k=D+(A^(T|~O))+P[15]+4264355552&4294967295,D=T+(k<<10&4294967295|k>>>22),k=O+(T^(D|~A))+P[6]+2734768916&4294967295,O=D+(k<<15&4294967295|k>>>17),k=A+(D^(O|~T))+P[13]+1309151649&4294967295,A=O+(k<<21&4294967295|k>>>11),k=T+(O^(A|~D))+P[4]+4149444226&4294967295,T=A+(k<<6&4294967295|k>>>26),k=D+(A^(T|~O))+P[11]+3174756917&4294967295,D=T+(k<<10&4294967295|k>>>22),k=O+(T^(D|~A))+P[2]+718787259&4294967295,O=D+(k<<15&4294967295|k>>>17),k=A+(D^(O|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,P=this.B,O=this.h,D=0;D<T;){if(O==0)for(;D<=A;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<T;)if(P[O++]=C.charCodeAt(D++),O==this.blockSize){s(this,P),O=0;break}}else for(;D<T;)if(P[O++]=C[D++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)C[A++]=this.g[T]>>>P&255;return C};function i(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],P=!0,O=C.length-1;0<=O;O--){var D=C[O]|0;P&&D==T||(A[O]=D,P=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return w(c(-C));for(var T=[],A=1,P=0;C>=A;P++)T[P]=C/A|0,A*=4294967296;return new o(T,0)}function f(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return w(f(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(T,8)),P=p,O=0;O<C.length;O+=8){var D=Math.min(8,C.length-O),k=parseInt(C.substring(O,O+D),T);8>D?(D=c(Math.pow(T,D)),P=P.j(D).add(c(k))):(P=P.j(A),P=P.add(c(k)))}return P}var p=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(g(this))return"-"+w(this).toString(C);for(var T=c(Math.pow(C,6)),A=this,P="";;){var O=I(A,T).g;A=E(A,O.j(T));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=O,S(A))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=E(this,C),g(C)?-1:S(C)?0:1};function w(C){for(var T=C.g.length,A=[],P=0;P<T;P++)A[P]=~C.g[P];return new o(A,~C.h).add(m)}t.abs=function(){return g(this)?w(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0,O=0;O<=T;O++){var D=P+(this.i(O)&65535)+(C.i(O)&65535),k=(D>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=k>>>16,D&=65535,k&=65535,A[O]=k<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(C,T){return C.add(w(T))}t.j=function(C){if(S(this)||S(C))return p;if(g(this))return g(C)?w(this).j(w(C)):w(w(this).j(C));if(g(C))return w(this.j(w(C)));if(0>this.l(y)&&0>C.l(y))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var D=this.i(P)>>>16,k=this.i(P)&65535,z=C.i(O)>>>16,J=C.i(O)&65535;A[2*P+2*O]+=k*J,_(A,2*P+2*O),A[2*P+2*O+1]+=D*J,_(A,2*P+2*O+1),A[2*P+2*O+1]+=k*z,_(A,2*P+2*O+1),A[2*P+2*O+2]+=D*z,_(A,2*P+2*O+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new o(A,0)};function _(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function x(C,T){this.g=C,this.h=T}function I(C,T){if(S(T))throw Error("division by zero");if(S(C))return new x(p,p);if(g(C))return T=I(w(C),T),new x(w(T.g),w(T.h));if(g(T))return T=I(C,w(T)),new x(w(T.g),T.h);if(30<C.g.length){if(g(C)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=T;0>=P.l(C);)A=N(A),P=N(P);var O=M(A,1),D=M(P,1);for(P=M(P,2),A=M(A,2);!S(P);){var k=D.add(P);0>=k.l(C)&&(O=O.add(A),D=k),P=M(P,1),A=M(A,1)}return T=E(C,O.j(T)),new x(O,T)}for(O=p;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(A),k=D.j(T);g(k)||0<k.l(C);)A-=P,D=c(A),k=D.j(T);S(D)&&(D=m),O=O.add(D),C=E(C,k)}return new x(O,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function N(C){for(var T=C.g.length+1,A=[],P=0;P<T;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function M(C,T){var A=T>>5;T%=32;for(var P=C.g.length-A,O=[],D=0;D<P;D++)O[D]=0<T?C.i(D+A)>>>T|C.i(D+A+1)<<32-T:C.i(D+A);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,ro=o}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rk,lu,sk,Ch,s_,ik,ok,ak;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,b){return u==Array.prototype||u==Object.prototype||(u[v]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var V=u[R];if(!(V in b))break e;b=b[V]}u=u[u.length-1],R=b[u],v=v(R),v!=R&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var b=0,R=!1,V={next:function(){if(!R&&b<u.length){var U=b++;return{value:v(U,u[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function c(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function f(u,v,b){return u.call.apply(u.bind,arguments)}function p(u,v,b){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),u.apply(v,V)}}return function(){return u.apply(v,arguments)}}function m(u,v,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function S(u,v){function b(){}b.prototype=v.prototype,u.aa=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(R,V,U){for(var ee=Array(arguments.length-2),it=2;it<arguments.length;it++)ee[it-2]=arguments[it];return v.prototype[V].apply(R,ee)}}function g(u){const v=u.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=u[R];return b}return[]}function w(u,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const V=u.length||0,U=R.length||0;u.length=V+U;for(let ee=0;ee<U;ee++)u[V+ee]=R[ee]}else u.push(R)}}class E{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var N=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,v,b){for(const R in u)v.call(b,u[R],R,u)}function C(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function T(u){const v={};for(const b in u)v[b]=u[b];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,v){let b,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(b in R)u[b]=R[b];for(let U=0;U<A.length;U++)b=A[U],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function O(u){var v=1;u=u.split(":");const b=[];for(;0<v&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function D(u){a.setTimeout(()=>{throw u},0)}function k(){var u=F;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,b){const R=J.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new E(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let B,L=!1,F=new z,G=()=>{const u=a.Promise.resolve(void 0);B=()=>{u.then(re)}};var re=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(b){D(b)}var v=J;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}L=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,v),a.removeEventListener("test",b,v)}catch{}return u}();function We(u,v){if(Te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(N){e:{try{I(v.nodeName);var V=!0;break e}catch{}V=!1}V||(v=null)}}else b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&We.aa.h.call(this)}}S(We,Te);var rt={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Xe(u,v,b,R,V){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=V,this.key=++Se,this.da=this.fa=!1}function Oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u){this.src=u,this.g={},this.h=0}Ie.prototype.add=function(u,v,b,R,V){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var ee=Je(u,v,R,V);return-1<ee?(v=u[ee],b||(v.fa=!1)):(v=new Xe(v,this.src,U,!!R,V),v.fa=b,u.push(v)),v};function De(u,v){var b=v.type;if(b in u.g){var R=u.g[b],V=Array.prototype.indexOf.call(R,v,void 0),U;(U=0<=V)&&Array.prototype.splice.call(R,V,1),U&&(Oe(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Je(u,v,b,R){for(var V=0;V<u.length;++V){var U=u[V];if(!U.da&&U.listener==v&&U.capture==!!b&&U.ha==R)return V}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),dr={};function br(u,v,b,R,V){if(Array.isArray(v)){for(var U=0;U<v.length;U++)br(u,v[U],b,R,V);return null}return b=Re(b),u&&u[ue]?u.K(v,b,c(R)?!!R.capture:!!R,V):es(u,v,b,!1,R,V)}function es(u,v,b,R,V,U){if(!v)throw Error("Invalid event type");var ee=c(V)?!!V.capture:!!V,it=X(u);if(it||(u[jt]=it=new Ie(u)),b=it.add(v,b,R,ee,U),b.proxy)return b;if(R=j(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)Ge||(V=ee),V===void 0&&(V=!1),u.addEventListener(v.toString(),R,V);else if(u.attachEvent)u.attachEvent(ie(v.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function j(){function u(b){return v.call(u.src,u.listener,b)}const v=ne;return u}function $(u,v,b,R,V){if(Array.isArray(v))for(var U=0;U<v.length;U++)$(u,v[U],b,R,V);else R=c(R)?!!R.capture:!!R,b=Re(b),u&&u[ue]?(u=u.i,v=String(v).toString(),v in u.g&&(U=u.g[v],b=Je(U,b,R,V),-1<b&&(Oe(U[b]),Array.prototype.splice.call(U,b,1),U.length==0&&(delete u.g[v],u.h--)))):u&&(u=X(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Je(v,b,R,V)),(b=-1<u?v[u]:null)&&W(b))}function W(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ue])De(v.i,u);else{var b=u.type,R=u.proxy;v.removeEventListener?v.removeEventListener(b,R,u.capture):v.detachEvent?v.detachEvent(ie(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=X(v))?(De(b,u),b.h==0&&(b.src=null,v[jt]=null)):Oe(u)}}}function ie(u){return u in dr?dr[u]:dr[u]="on"+u}function ne(u,v){if(u.da)u=!0;else{v=new We(v,this);var b=u.listener,R=u.ha||u.src;u.fa&&W(u),u=b.call(R,v)}return u}function X(u){return u=u[jt],u instanceof Ie?u:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(u){return typeof u=="function"?u:(u[he]||(u[he]=function(v){return u.handleEvent(v)}),u[he])}function Ve(){ge.call(this),this.i=new Ie(this),this.M=this,this.F=null}S(Ve,ge),Ve.prototype[ue]=!0,Ve.prototype.removeEventListener=function(u,v,b,R){$(this,u,v,b,R)};function $e(u,v){var b,R=u.F;if(R)for(b=[];R;R=R.F)b.push(R);if(u=u.M,R=v.type||v,typeof v=="string")v=new Te(v,u);else if(v instanceof Te)v.target=v.target||u;else{var V=v;v=new Te(R,u),P(v,V)}if(V=!0,b)for(var U=b.length-1;0<=U;U--){var ee=v.g=b[U];V=Gn(ee,R,!0,v)&&V}if(ee=v.g=u,V=Gn(ee,R,!0,v)&&V,V=Gn(ee,R,!1,v)&&V,b)for(U=0;U<b.length;U++)ee=v.g=b[U],V=Gn(ee,R,!1,v)&&V}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var b=u.g[v],R=0;R<b.length;R++)Oe(b[R]);delete u.g[v],u.h--}}this.F=null},Ve.prototype.K=function(u,v,b,R){return this.i.add(String(u),v,!1,b,R)},Ve.prototype.L=function(u,v,b,R){return this.i.add(String(u),v,!0,b,R)};function Gn(u,v,b,R){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,U=0;U<v.length;++U){var ee=v[U];if(ee&&!ee.da&&ee.capture==b){var it=ee.listener,nn=ee.ha||ee.src;ee.fa&&De(u.i,ee),V=it.call(nn,R)!==!1&&V}}return V&&!R.defaultPrevented}function tf(u,v,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function ja(u){u.g=tf(()=>{u.g=null,u.i&&(u.i=!1,ja(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Pc extends ge{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(u){ge.call(this),this.h=u,this.g={}}S(Vo,ge);var Ac=[];function nf(u){M(u.g,function(v,b){this.g.hasOwnProperty(b)&&W(v)},u),u.g={}}Vo.prototype.N=function(){Vo.aa.N.call(this),nf(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var La=a.JSON.stringify,oL=a.JSON.parse,aL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function mg(){}mg.prototype.h=null;function ax(u){return u.h||(u.h=u.i())}function lx(){}var Rc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gg(){Te.call(this,"d")}S(gg,Te);function vg(){Te.call(this,"c")}S(vg,Te);var Fo={},cx=null;function rf(){return cx=cx||new Ve}Fo.La="serverreachability";function ux(u){Te.call(this,Fo.La,u)}S(ux,Te);function kc(u){const v=rf();$e(v,new ux(v))}Fo.STAT_EVENT="statevent";function dx(u,v){Te.call(this,Fo.STAT_EVENT,u),this.stat=v}S(dx,Te);function bn(u){const v=rf();$e(v,new dx(v,u))}Fo.Ma="timingevent";function fx(u,v){Te.call(this,Fo.Ma,u),this.size=v}S(fx,Te);function Nc(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function Dc(){this.g=!0}Dc.prototype.xa=function(){this.g=!1};function lL(u,v,b,R,V,U){u.info(function(){if(u.g)if(U)for(var ee="",it=U.split("&"),nn=0;nn<it.length;nn++){var qe=it[nn].split("=");if(1<qe.length){var dn=qe[0];qe=qe[1];var fn=dn.split("_");ee=2<=fn.length&&fn[1]=="type"?ee+(dn+"="+qe+"&"):ee+(dn+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+v+`
`+b+`
`+ee})}function cL(u,v,b,R,V,U,ee){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+v+`
`+b+`
`+U+" "+ee})}function Va(u,v,b,R){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+dL(u,b)+(R?" "+R:"")})}function uL(u,v){u.info(function(){return"TIMEOUT: "+v})}Dc.prototype.info=function(){};function dL(u,v){if(!u.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var R=b[u];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return La(b)}catch{return v}}var sf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yg;function of(){}S(of,mg),of.prototype.g=function(){return new XMLHttpRequest},of.prototype.i=function(){return{}},yg=new of;function gi(u,v,b,R){this.j=u,this.i=v,this.l=b,this.R=R||1,this.U=new Vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new px}function px(){this.i=null,this.g="",this.h=!1}var mx={},_g={};function wg(u,v,b){u.L=1,u.v=uf(ks(v)),u.m=b,u.P=!0,gx(u,null)}function gx(u,v){u.F=Date.now(),af(u),u.A=ks(u.v);var b=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),Rx(b.i,"t",R),u.C=0,b=u.j.J,u.h=new px,u.g=Gx(u.j,b?v:null,!u.m),0<u.O&&(u.M=new Pc(m(u.Y,u,u.g),u.O)),v=u.U,b=u.g,R=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ac[0]=V.toString()),V=Ac);for(var U=0;U<V.length;U++){var ee=br(b,V[U],R||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),kc(),lL(u.i,u.u,u.A,u.l,u.R,u.m)}gi.prototype.ca=function(u){u=u.target;const v=this.M;v&&Ns(u)==3?v.j():this.Y(u)},gi.prototype.Y=function(u){try{if(u==this.g)e:{const fn=Ns(this.g);var v=this.g.Ba();const Ua=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||Lx(this.g)))){this.J||fn!=4||v==7||(v==8||0>=Ua?kc(3):kc(2)),Eg(this);var b=this.g.Z();this.X=b;t:if(vx(this)){var R=Lx(this.g);u="";var V=R.length,U=Ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),Oc(this);var ee="";break t}this.h.i=new a.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,u+=this.h.i.decode(R[v],{stream:!(U&&v==V-1)});R.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=b==200,cL(this.i,this.u,this.A,this.l,this.R,fn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var it,nn=this.g;if((it=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(it)){var qe=it;break t}}qe=null}if(b=qe)Va(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,b);else{this.o=!1,this.s=3,bn(12),$o(this),Oc(this);break e}}if(this.P){b=!0;let Tr;for(;!this.J&&this.C<ee.length;)if(Tr=fL(this,ee),Tr==_g){fn==4&&(this.s=4,bn(14),b=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==mx){this.s=4,bn(15),Va(this.i,this.l,ee,"[Invalid Chunk]"),b=!1;break}else Va(this.i,this.l,Tr,null),xg(this,Tr);if(vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ee.length!=0||this.h.h||(this.s=1,bn(16),b=!1),this.o=this.o&&b,!b)Va(this.i,this.l,ee,"[Invalid Chunked Response]"),$o(this),Oc(this);else if(0<ee.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Pg(dn),dn.M=!0,bn(11))}}else Va(this.i,this.l,ee,null),xg(this,ee);fn==4&&$o(this),this.o&&!this.J&&(fn==4?zx(this.j,this):(this.o=!1,af(this)))}else AL(this.g),b==400&&0<ee.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),$o(this),Oc(this)}}}catch{}finally{}};function vx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fL(u,v){var b=u.C,R=v.indexOf(`
`,b);return R==-1?_g:(b=Number(v.substring(b,R)),isNaN(b)?mx:(R+=1,R+b>v.length?_g:(v=v.slice(R,R+b),u.C=R+b,v)))}gi.prototype.cancel=function(){this.J=!0,$o(this)};function af(u){u.S=Date.now()+u.I,yx(u,u.I)}function yx(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nc(m(u.ba,u),v)}function Eg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}gi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(uL(this.i,this.A),this.L!=2&&(kc(),bn(17)),$o(this),this.s=2,Oc(this)):yx(this,this.S-u)};function Oc(u){u.j.G==0||u.J||zx(u.j,u)}function $o(u){Eg(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,nf(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function xg(u,v){try{var b=u.j;if(b.G!=0&&(b.g==u||Sg(b.h,u))){if(!u.K&&Sg(b.h,u)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)gf(b),pf(b);else break e;Ig(b),bn(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=Nc(m(b.Za,b),6e3));if(1>=Ex(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Bo(b,11)}else if((u.K||b.g==u)&&gf(b),!_(v))for(V=b.Da.g.parse(v),v=0;v<V.length;v++){let qe=V[v];if(b.T=qe[0],qe=qe[1],b.G==2)if(qe[0]=="c"){b.K=qe[1],b.ia=qe[2];const dn=qe[3];dn!=null&&(b.la=dn,b.j.info("VER="+b.la));const fn=qe[4];fn!=null&&(b.Aa=fn,b.j.info("SVER="+b.Aa));const Ua=qe[5];Ua!=null&&typeof Ua=="number"&&0<Ua&&(R=1.5*Ua,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Tr=u.g;if(Tr){const yf=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yf){var U=R.h;U.g||yf.indexOf("spdy")==-1&&yf.indexOf("quic")==-1&&yf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(bg(U,U.h),U.h=null))}if(R.D){const Ag=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ag&&(R.ya=Ag,ft(R.I,R.D,Ag))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ee=u;if(R.qa=Kx(R,R.J?R.ia:null,R.W),ee.K){xx(R.h,ee);var it=ee,nn=R.L;nn&&(it.I=nn),it.B&&(Eg(it),af(it)),R.g=ee}else Bx(R);0<b.i.length&&mf(b)}else qe[0]!="stop"&&qe[0]!="close"||Bo(b,7);else b.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Bo(b,7):Cg(b):qe[0]!="noop"&&b.l&&b.l.ta(qe),b.v=0)}}kc(4)}catch{}}var hL=class{constructor(u,v){this.g=u,this.map=v}};function _x(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ex(u){return u.h?1:u.g?u.g.size:0}function Sg(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function bg(u,v){u.g?u.g.add(v):u.h=v}function xx(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}_x.prototype.cancel=function(){if(this.i=Sx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.D);return v}return g(u.i)}function pL(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],b=u.length,R=0;R<b;R++)v.push(u[R]);return v}v=[],b=0;for(R in u)v[b++]=u[R];return v}function mL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var b=0;b<u;b++)v.push(b);return v}v=[],b=0;for(const R in u)v[b++]=R;return v}}}function bx(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var b=mL(u),R=pL(u),V=R.length,U=0;U<V;U++)v.call(void 0,R[U],b&&b[U],u)}var Tx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gL(u,v){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var R=u[b].indexOf("="),V=null;if(0<=R){var U=u[b].substring(0,R);V=u[b].substring(R+1)}else U=u[b];v(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Uo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Uo){this.h=u.h,lf(this,u.j),this.o=u.o,this.g=u.g,cf(this,u.s),this.l=u.l;var v=u.i,b=new Lc;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Cx(this,b),this.m=u.m}else u&&(v=String(u).match(Tx))?(this.h=!1,lf(this,v[1]||"",!0),this.o=Mc(v[2]||""),this.g=Mc(v[3]||"",!0),cf(this,v[4]),this.l=Mc(v[5]||"",!0),Cx(this,v[6]||"",!0),this.m=Mc(v[7]||"")):(this.h=!1,this.i=new Lc(null,this.h))}Uo.prototype.toString=function(){var u=[],v=this.j;v&&u.push(jc(v,Ix,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(jc(v,Ix,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(jc(b,b.charAt(0)=="/"?_L:yL,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",jc(b,EL)),u.join("")};function ks(u){return new Uo(u)}function lf(u,v,b){u.j=b?Mc(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function cf(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Cx(u,v,b){v instanceof Lc?(u.i=v,xL(u.i,u.h)):(b||(v=jc(v,wL)),u.i=new Lc(v,u.h))}function ft(u,v,b){u.i.set(v,b)}function uf(u){return ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mc(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jc(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,vL),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ix=/[#\/\?@]/g,yL=/[#\?:]/g,_L=/[#\?]/g,wL=/[#\?@]/g,EL=/#/g;function Lc(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function vi(u){u.g||(u.g=new Map,u.h=0,u.i&&gL(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Lc.prototype,t.add=function(u,v){vi(this),this.i=null,u=Fa(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Px(u,v){vi(u),v=Fa(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ax(u,v){return vi(u),v=Fa(u,v),u.g.has(v)}t.forEach=function(u,v){vi(this),this.g.forEach(function(b,R){b.forEach(function(V){u.call(v,V,R,this)},this)},this)},t.na=function(){vi(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const V=u[R];for(let U=0;U<V.length;U++)b.push(v[R])}return b},t.V=function(u){vi(this);let v=[];if(typeof u=="string")Ax(this,u)&&(v=v.concat(this.g.get(Fa(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)v=v.concat(u[b])}return v},t.set=function(u,v){return vi(this),this.i=null,u=Fa(this,u),Ax(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Rx(u,v,b){Px(u,v),0<b.length&&(u.i=null,u.g.set(Fa(u,v),g(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const U=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var V=U;ee[R]!==""&&(V+="="+encodeURIComponent(String(ee[R]))),u.push(V)}}return this.i=u.join("&")};function Fa(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function xL(u,v){v&&!u.j&&(vi(u),u.i=null,u.g.forEach(function(b,R){var V=R.toLowerCase();R!=V&&(Px(this,R),Rx(this,V,b))},u)),u.j=v}function SL(u,v){const b=new Dc;if(a.Image){const R=new Image;R.onload=y(yi,b,"TestLoadImage: loaded",!0,v,R),R.onerror=y(yi,b,"TestLoadImage: error",!1,v,R),R.onabort=y(yi,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(yi,b,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else v(!1)}function bL(u,v){const b=new Dc,R=new AbortController,V=setTimeout(()=>{R.abort(),yi(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:R.signal}).then(U=>{clearTimeout(V),U.ok?yi(b,"TestPingServer: ok",!0,v):yi(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),yi(b,"TestPingServer: error",!1,v)})}function yi(u,v,b,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(b)}catch{}}function TL(){this.g=new aL}function CL(u,v,b){const R=b||"";try{bx(u,function(V,U){let ee=V;c(V)&&(ee=La(V)),v.push(R+U+"="+encodeURIComponent(ee))})}catch(V){throw v.push(R+"type="+encodeURIComponent("_badmap")),V}}function df(u){this.l=u.Ub||null,this.j=u.eb||!1}S(df,mg),df.prototype.g=function(){return new ff(this.l,this.j)},df.prototype.i=function(u){return function(){return u}}({});function ff(u,v){Ve.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ff,Ve),t=ff.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Fc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Vc(this):Fc(this),this.readyState==3&&kx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vc(this))},t.Qa=function(u){this.g&&(this.response=u,Vc(this))},t.ga=function(){this.g&&Vc(this)};function Vc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fc(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Fc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nx(u){let v="";return M(u,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Tg(u,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Nx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):ft(u,v,b))}function Pt(u){Ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pt,Ve);var IL=/^https?$/i,PL=["POST","PUT"];t=Pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yg.g(),this.v=this.o?ax(this.o):ax(yg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(U){Dx(this,U);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)b.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())b.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PL,v,void 0))||R||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of b)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jx(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){Dx(this,U)}};function Dx(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Ox(u),hf(u)}function Ox(u){u.A||(u.A=!0,$e(u,"complete"),$e(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$e(this,"complete"),$e(this,"abort"),hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hf(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mx(this):this.bb())},t.bb=function(){Mx(this)};function Mx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ns(u)!=4||u.Z()!=2)){if(u.u&&Ns(u)==4)tf(u.Ea,0,u);else if($e(u,"readystatechange"),Ns(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=ee===0){var V=String(u.D).match(Tx)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!IL.test(V?V.toLowerCase():"")}b=R}if(b)$e(u,"complete"),$e(u,"success");else{u.m=6;try{var U=2<Ns(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",Ox(u)}}finally{hf(u)}}}}function hf(u,v){if(u.g){jx(u);const b=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||$e(u,"ready");try{b.onreadystatechange=R}catch{}}}function jx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ns(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),oL(v)}};function Lx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function AL(u){const v={};u=(u.g&&2<=Ns(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(_(u[R]))continue;var b=O(u[R]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const U=v[V]||[];v[V]=U,U.push(b)}C(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $c(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Vx(u){this.Aa=0,this.i=[],this.j=new Dc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$c("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$c("baseRetryDelayMs",5e3,u),this.cb=$c("retryDelaySeedMs",1e4,u),this.Wa=$c("forwardChannelMaxRetries",2,u),this.wa=$c("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _x(u&&u.concurrentRequestLimit),this.Da=new TL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vx.prototype,t.la=8,t.G=1,t.connect=function(u,v,b,R){bn(0),this.W=u,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Kx(this,null,this.W),mf(this)};function Cg(u){if(Fx(u),u.G==3){var v=u.U++,b=ks(u.I);if(ft(b,"SID",u.K),ft(b,"RID",v),ft(b,"TYPE","terminate"),Uc(u,b),v=new gi(u,u.j,v),v.L=2,v.v=uf(ks(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=v.v,b=!0),b||(v.g=Gx(v.j,null),v.g.ea(v.v)),v.F=Date.now(),af(v)}qx(u)}function pf(u){u.g&&(Pg(u),u.g.cancel(),u.g=null)}function Fx(u){pf(u),u.u&&(a.clearTimeout(u.u),u.u=null),gf(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function mf(u){if(!wx(u.h)&&!u.s){u.s=!0;var v=u.Ga;B||G(),L||(B(),L=!0),F.add(v,u),u.B=0}}function RL(u,v){return Ex(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nc(m(u.Ga,u,v),Hx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new gi(this,this.j,u);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ux(this,V,v),b=ks(this.I),ft(b,"RID",u),ft(b,"CVER",22),this.D&&ft(b,"X-HTTP-Session-Id",this.D),Uc(this,b),U&&(this.O?v="headers="+encodeURIComponent(String(Nx(U)))+"&"+v:this.m&&Tg(b,this.m,U)),bg(this.h,V),this.Ua&&ft(b,"TYPE","init"),this.P?(ft(b,"$req",v),ft(b,"SID","null"),V.T=!0,wg(V,b,null)):wg(V,b,v),this.G=2}}else this.G==3&&(u?$x(this,u):this.i.length==0||wx(this.h)||$x(this))};function $x(u,v){var b;v?b=v.l:b=u.U++;const R=ks(u.I);ft(R,"SID",u.K),ft(R,"RID",b),ft(R,"AID",u.T),Uc(u,R),u.m&&u.o&&Tg(R,u.m,u.o),b=new gi(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Ux(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bg(u.h,b),wg(b,R,v)}function Uc(u,v){u.H&&M(u.H,function(b,R){ft(v,R,b)}),u.l&&bx({},function(b,R){ft(v,R,b)})}function Ux(u,v,b){b=Math.min(u.i.length,b);var R=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let U=-1;for(;;){const ee=["count="+b];U==-1?0<b?(U=V[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let it=!0;for(let nn=0;nn<b;nn++){let qe=V[nn].g;const dn=V[nn].map;if(qe-=U,0>qe)U=Math.max(0,V[nn].g-100),it=!1;else try{CL(dn,ee,"req"+qe+"_")}catch{R&&R(dn)}}if(it){R=ee.join("&");break e}}}return u=u.i.splice(0,b),v.D=u,R}function Bx(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;B||G(),L||(B(),L=!0),F.add(v,u),u.v=0}}function Ig(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nc(m(u.Fa,u),Hx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nc(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),pf(this),Wx(this))};function Pg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Wx(u){u.g=new gi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=ks(u.qa);ft(v,"RID","rpc"),ft(v,"SID",u.K),ft(v,"AID",u.T),ft(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&ft(v,"TO",u.ja),ft(v,"TYPE","xmlhttp"),Uc(u,v),u.m&&u.o&&Tg(v,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=uf(ks(v)),b.m=null,b.P=!0,gx(b,u)}t.Za=function(){this.C!=null&&(this.C=null,pf(this),Ig(this),bn(19))};function gf(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function zx(u,v){var b=null;if(u.g==v){gf(u),Pg(u),u.g=null;var R=2}else if(Sg(u.h,v))b=v.D,xx(u.h,v),R=1;else return;if(u.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var V=u.B;R=rf(),$e(R,new fx(R,b)),mf(u)}else Bx(u);else if(V=v.s,V==3||V==0&&0<v.X||!(R==1&&RL(u,v)||R==2&&Ig(u)))switch(b&&0<b.length&&(v=u.h,v.i=v.i.concat(b)),V){case 1:Bo(u,5);break;case 4:Bo(u,10);break;case 3:Bo(u,6);break;default:Bo(u,2)}}}function Hx(u,v){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*v}function Bo(u,v){if(u.j.info("Error code "+v),v==2){var b=m(u.fb,u),R=u.Xa;const V=!R;R=new Uo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lf(R,"https"),uf(R),V?SL(R.toString(),b):bL(R.toString(),b)}else bn(2);u.G=0,u.l&&u.l.sa(v),qx(u),Fx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function qx(u){if(u.G=0,u.ka=[],u.l){const v=Sx(u.h);(v.length!=0||u.i.length!=0)&&(w(u.ka,v),w(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function Kx(u,v,b){var R=b instanceof Uo?ks(b):new Uo(b);if(R.g!="")v&&(R.g=v+"."+R.g),cf(R,R.s);else{var V=a.location;R=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var U=new Uo(null);R&&lf(U,R),v&&(U.g=v),V&&cf(U,V),b&&(U.l=b),R=U}return b=u.D,v=u.ya,b&&v&&ft(R,b,v),ft(R,"VER",u.la),Uc(u,R),R}function Gx(u,v,b){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Pt(new df({eb:b})):new Pt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qx(){}t=Qx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vf(){}vf.prototype.g=function(u,v){return new Qn(u,v)};function Qn(u,v){Ve.call(this),this.g=new Vx(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!_(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!_(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new $a(this)}S(Qn,Ve),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Cg(this.g)},Qn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=La(u),u=b);v.i.push(new hL(v.Ya++,u)),v.G==3&&mf(v)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,Qn.aa.N.call(this)};function Yx(u){gg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}S(Yx,gg);function Zx(){vg.call(this),this.status=1}S(Zx,vg);function $a(u){this.g=u}S($a,Qx),$a.prototype.ua=function(){$e(this.g,"a")},$a.prototype.ta=function(u){$e(this.g,new Yx(u))},$a.prototype.sa=function(u){$e(this.g,new Zx)},$a.prototype.ra=function(){$e(this.g,"b")},vf.prototype.createWebChannel=vf.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,ak=function(){return new vf},ok=function(){return rf()},ik=Fo,s_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,Ch=sf,hx.COMPLETE="complete",sk=hx,lx.EventType=Rc,Rc.OPEN="a",Rc.CLOSE="b",Rc.ERROR="c",Rc.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,lu=lx,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,rk=Pt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",aT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new m0("@firebase/firestore");function el(){return ya.logLevel}function ae(t,...e){if(ya.logLevel<=je.DEBUG){const n=e.map(C0);ya.debug(`Firestore (${_c}): ${t}`,...n)}}function ii(t,...e){if(ya.logLevel<=je.ERROR){const n=e.map(C0);ya.error(`Firestore (${_c}): ${t}`,...n)}}function Jl(t,...e){if(ya.logLevel<=je.WARN){const n=e.map(C0);ya.warn(`Firestore (${_c}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function Ze(t,e){t||Ee()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new so;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new so,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new so)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new lk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new yn(e)}}class z6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class H6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q6{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0);const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new lT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=K6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=-62135596800,uT=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uT);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cT)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Qt(0,0))}static max(){return new be(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__name__";class rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=rs.isNumericId(e),s=rs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rs.extractNumericId(e).compare(rs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class gt extends rs{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends rs{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return G6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dT}static keyField(){return new on([dT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ce(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ce(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(gt.fromString(e))}static fromName(e){return new pe(gt.fromString(e).popFirst(5))}static empty(){return new pe(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function Q6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new fo(s,pe.empty(),e)}function Y6(t){return new fo(t.readTime,t.key,ed)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(be.min(),pe.empty(),ed)}static max(){return new fo(be.max(),pe.empty(),ed)}}function Z6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==X6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function eW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Am.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function Rm(t){return t==null}function vp(t){return t===0&&1/t==-1/0}function tW(t){return typeof t=="number"&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="";function nW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fT(e)),e=rW(t.get(n),e);return fT(e)}function rW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uk:n+="";break;default:n+=i}}return n}function fT(t){return t+uk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=i??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Yt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fk("Invalid base64 string: "+i):i}}(e);return new cn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const sW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=sW.exec(t);if(Ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="server_timestamp",pk="__type__",mk="__previous_value__",gk="__local_write_time__";function P0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pk])===null||n===void 0?void 0:n.stringValue)===hk}function km(t){const e=t.mapValue.fields[mk];return P0(e)?km(e):e}function td(t){const e=ho(t.mapValue.fields[gk].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const yp="(default)";class nd{constructor(e,n){this.projectId=e,this.database=n||yp}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===yp}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__type__",yk="__max__",zf={mapValue:{fields:{__type__:{stringValue:yk}}}},_k="__vector__",_p="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P0(t)?4:aW(t)?9007199254740991:oW(t)?10:11:Ee()}function bs(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ho(s.timestampValue),a=ho(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return po(s.bytesValue).isEqual(po(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=kt(s.doubleValue),a=kt(i.doubleValue);return o===a?vp(o)===vp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hT(o)!==hT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bs(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function rd(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function tc(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=kt(i.integerValue||i.doubleValue),l=kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mT(t.timestampValue,e.timestampValue);case 4:return mT(td(t),td(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=po(i),l=po(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Fe(a[c],l[c]);if(f!==0)return f}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Fe(kt(i.latitude),kt(o.latitude));return a!==0?a:Fe(kt(i.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,f;const p=i.fields||{},m=o.fields||{},y=(a=p[_p])===null||a===void 0?void 0:a.arrayValue,S=(l=m[_p])===null||l===void 0?void 0:l.arrayValue,g=Fe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:gT(y,S)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zf.mapValue&&o===zf.mapValue)return 0;if(i===zf.mapValue)return 1;if(o===zf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const m=Fe(l[p],f[p]);if(m!==0)return m;const y=tc(a[l[p]],c[f[p]]);if(y!==0)return y}return Fe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function mT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ho(t),r=ho(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function gT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=tc(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function nc(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=i_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${i_(n.fields[o])}`;return s+"}"}(t.mapValue):Ee()}function Ih(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(t);return e?16+Ih(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ih(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ko(r.fields,(i,o)=>{s+=i.length+Ih(o)}),s}(t.mapValue);default:throw Ee()}}function vT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function o_(t){return!!t&&"integerValue"in t}function A0(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function _T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}function oW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vk])===null||n===void 0?void 0:n.stringValue)===_k}function Cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=on.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Cu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ph(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $n(Cu(this.value))}}function wk(t){const e=[];return ko(t.fields,(n,r)=>{const s=new on([n]);if(Ph(r)){const i=wk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,be.min(),be.min(),be.min(),$n.empty(),0)}static newFoundDocument(e,n,r,s){return new wn(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new wn(e,2,n,be.min(),be.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,be.min(),be.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.position=e,this.inclusive=n}}function wT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=tc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ET(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function lW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class Bt extends Ek{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uW(e,n,r):n==="array-contains"?new hW(e,r):n==="in"?new pW(e,r):n==="not-in"?new mW(e,r):n==="array-contains-any"?new gW(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dW(e,r):new fW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tc(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Ek{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Hr(e,n)}matches(e){return xk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xk(t){return t.op==="and"}function Sk(t){return cW(t)&&xk(t)}function cW(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function a_(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(Sk(t))return t.filters.map(e=>a_(e)).join(",");{const e=t.filters.map(n=>a_(n)).join(",");return`${t.op}(${e})`}}function bk(t,e){return t instanceof Bt?function(r,s){return s instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&bs(r.value,s.value)}(t,e):t instanceof Hr?function(r,s){return s instanceof Hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&bk(o,s.filters[a]),!0):!1}(t,e):void Ee()}function Tk(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(Tk).join(" ,")+"}"}(t):"Filter"}class uW extends Bt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class dW extends Bt{constructor(e,n){super(e,"in",n),this.keys=Ck("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fW extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=Ck("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ck(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class hW extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A0(n)&&rd(n.arrayValue,this.value)}}class pW extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class mW extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rd(this.value.arrayValue,n)}}class gW extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function xT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new vW(t,e,n,r,s,i,o)}function R0(t){const e=Ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.le=n}return e.le}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ET(t.startAt,e.startAt)&&ET(t.endAt,e.endAt)}function l_(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yW(t,e,n,r,s,i,o,a){return new xc(t,e,n,r,s,i,o,a)}function N0(t){return new xc(t)}function ST(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ik(t){return t.collectionGroup!==null}function Iu(t){const e=Ce(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yt(on.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new sd(i,r))}),n.has(on.keyField().canonicalString())||e.he.push(new sd(on.keyField(),r))}return e.he}function _s(t){const e=Ce(t);return e.Pe||(e.Pe=_W(e,Iu(t))),e.Pe}function _W(t,e){if(t.limitType==="F")return xT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new sd(s.field,i)});const n=t.endAt?new wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wp(t.startAt.position,t.startAt.inclusive):null;return xT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c_(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u_(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return k0(_s(t),_s(e))&&t.limitType===e.limitType}function Pk(t){return`${R0(_s(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Tk(s)).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nc(s)).join(",")),`Target(${r})`}(_s(t))}; limitType=${t.limitType})`}function Dm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Iu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=wT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Iu(r),s)||r.endAt&&!function(o,a,l){const c=wT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Iu(r),s))}(t,e)}function wW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ak(t){return(e,n)=>{let r=!1;for(const s of Iu(t)){const i=EW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EW(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?tc(l,c):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return dk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=new It(pe.comparator);function oi(){return xW}const Rk=new It(pe.comparator);function cu(...t){let e=Rk;for(const n of t)e=e.insert(n.key,n);return e}function kk(t){let e=Rk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return Pu()}function Nk(){return Pu()}function Pu(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const SW=new It(pe.comparator),bW=new Yt(pe.comparator);function Le(...t){let e=bW;for(const n of t)e=e.add(n);return e}const TW=new Yt(Fe);function CW(){return TW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function Dk(t){return{integerValue:""+t}}function IW(t,e){return tW(e)?Dk(e):D0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function PW(t,e,n){return t instanceof Ep?function(s,i){const o={fields:{[pk]:{stringValue:hk},[gk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&P0(i)&&(i=km(i)),i&&(o.fields[mk]=i),{mapValue:o}}(n,e):t instanceof id?Mk(t,e):t instanceof od?jk(t,e):function(s,i){const o=Ok(s,i),a=bT(o)+bT(s.Ie);return o_(o)&&o_(s.Ie)?Dk(a):D0(s.serializer,a)}(t,e)}function AW(t,e,n){return t instanceof id?Mk(t,e):t instanceof od?jk(t,e):n}function Ok(t,e){return t instanceof xp?function(r){return o_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ep extends Om{}class id extends Om{constructor(e){super(),this.elements=e}}function Mk(t,e){const n=Lk(e);for(const r of t.elements)n.some(s=>bs(s,r))||n.push(r);return{arrayValue:{values:n}}}class od extends Om{constructor(e){super(),this.elements=e}}function jk(t,e){let n=Lk(e);for(const r of t.elements)n=n.filter(s=>!bs(s,r));return{arrayValue:{values:n}}}class xp extends Om{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function bT(t){return kt(t.integerValue||t.doubleValue)}function Lk(t){return A0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof id&&s instanceof id||r instanceof od&&s instanceof od?ec(r.elements,s.elements,bs):r instanceof xp&&s instanceof xp?bs(r.Ie,s.Ie):r instanceof Ep&&s instanceof Ep}(t.transform,e.transform)}class kW{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mm{}function Vk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O0(t.key,Ur.none()):new $d(t.key,t.data,Ur.none());{const n=t.data,r=$n.empty();let s=new Yt(on.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new No(t.key,r,new Jn(s.toArray()),Ur.none())}}function NW(t,e,n){t instanceof $d?function(s,i,o){const a=s.value.clone(),l=CT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof No?function(s,i,o){if(!Ah(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=CT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Fk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Au(t,e,n,r){return t instanceof $d?function(i,o,a,l){if(!Ah(i.precondition,o))return a;const c=i.value.clone(),f=IT(i.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(i,o,a,l){if(!Ah(i.precondition,o))return a;const c=IT(i.fieldTransforms,l,o),f=o.data;return f.setAll(Fk(i)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Ah(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ok(r.transform,s||null);i!=null&&(n===null&&(n=$n.empty()),n.set(r.field,i))}return n||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ec(r,s,(i,o)=>RW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends Mm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class No extends Mm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CT(t,e,n){const r=new Map;Ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,AW(o,a,n[s]))}return r}function IT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PW(i,o,e))}return r}class O0 extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OW extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&NW(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Vk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>TT(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>TT(n,r))}}class M0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length);let s=function(){return SW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new M0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jW=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ue;function VW(t){switch(t){case K.OK:return Ee();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ee()}}function $k(t){if(t===void 0)return ii("GRPC error has no .code"),K.UNKNOWN;switch(t){case Lt.OK:return K.OK;case Lt.CANCELLED:return K.CANCELLED;case Lt.UNKNOWN:return K.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return K.INTERNAL;case Lt.UNAVAILABLE:return K.UNAVAILABLE;case Lt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Lt.NOT_FOUND:return K.NOT_FOUND;case Lt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Lt.ABORTED:return K.ABORTED;case Lt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Lt.DATA_LOSS:return K.DATA_LOSS;default:return Ee()}}(Ue=Lt||(Lt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=new ro([4294967295,4294967295],0);function PT(t){const e=FW().encode(t),n=new nk;return n.update(e),new Uint8Array(n.digest())}function AT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ro([n,r],0),new ro([s,i],0)]}class j0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ro.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(ro.fromNumber(r)));return s.compare($W)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=PT(e),[r,s]=AT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new j0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=PT(e),[r,s]=AT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jm(be.min(),s,new It(Fe),oi(),Le())}}class Ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ud(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class Uk{constructor(e,n){this.targetId=e,this.ge=n}}class Bk{constructor(e,n,r=cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class RT{constructor(){this.pe=0,this.ye=kT(),this.we=cn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),r=Le();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee()}}),new Ud(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=kT()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class UW{constructor(e){this.ke=e,this.qe=new Map,this.Qe=oi(),this.$e=Hf(),this.Ke=Hf(),this.Ue=new It(Fe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(l_(i))if(r===0){const o=new pe(i.path);this.ze(n,o,wn.newNoDocument(o,be.min()))}else Ze(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=po(r).toUint8Array()}catch(l){if(l instanceof fk)return Jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new j0(o,s,i)}catch(l){return Jl(l instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&l_(a.target)){const l=new pe(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,wn.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Le();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new jm(e,n,this.Ue,this.Qe,r);return this.Qe=oi(),this.$e=Hf(),this.Ke=Hf(),this.Ue=new It(Fe),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new RT,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Yt(Fe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Yt(Fe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new RT),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Hf(){return new It(pe.comparator)}function kT(){return new It(pe.comparator)}const BW={asc:"ASCENDING",desc:"DESCENDING"},WW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zW={and:"AND",or:"OR"};class HW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d_(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qW(t,e){return Sp(t,e.toTimestamp())}function ws(t){return Ze(!!t),be.fromTimestamp(function(n){const r=ho(n);return new Qt(r.seconds,r.nanos)}(t))}function L0(t,e){return f_(t,e).canonicalString()}function f_(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zk(t){const e=gt.fromString(t);return Ze(Qk(e)),e}function h_(t,e){return L0(t.databaseId,e.path)}function gv(t,e){const n=zk(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(qk(n))}function Hk(t,e){return L0(t.databaseId,e)}function KW(t){const e=zk(t);return e.length===4?gt.emptyPath():qk(e)}function p_(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qk(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NT(t,e,n){return{name:h_(t,e),fields:n.value.mapValue.fields}}function GW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(Ze(f===void 0||typeof f=="string"),cn.fromBase64String(f||"")):(Ze(f===void 0||f instanceof Buffer||f instanceof Uint8Array),cn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?K.UNKNOWN:$k(c.code);return new ce(f,c.message||"")}(o);n=new Bk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gv(t,r.document.name),i=ws(r.document.updateTime),o=r.document.createTime?ws(r.document.createTime):be.min(),a=new $n({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(s,i,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Rh(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gv(t,r.document),i=r.readTime?ws(r.readTime):be.min(),o=wn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Rh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gv(t,r.document),i=r.removedTargetIds||[];n=new Rh([],i,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new LW(s,i),a=r.targetId;n=new Uk(a,o)}}return n}function QW(t,e){let n;if(e instanceof $d)n={update:NT(t,e.key,e.value)};else if(e instanceof O0)n={delete:h_(t,e.key)};else if(e instanceof No)n={update:NT(t,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof OW))return Ee();n={verify:h_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof id)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof od)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:qW(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function YW(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ws(s.updateTime):ws(i);return o.isEqual(be.min())&&(o=ws(i)),new kW(o,s.transformResults||[])}(n,e))):[]}function ZW(t,e){return{documents:[Hk(t,e.path)]}}function XW(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hk(t,s);const i=function(c){if(c.length!==0)return Gk(Hr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:nl(m.field),direction:t5(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=d_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function JW(t){let e=KW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const m=Kk(p);return m instanceof Hr&&Sk(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new sd(rl(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(p){const m=!!p.before,y=p.values||[];return new wp(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,y=p.values||[];return new wp(y,m)}(n.endAt)),yW(e,s,o,i,a,"F",l,c)}function e5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rl(n.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rl(n.unaryFilter.field);return Bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rl(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(rl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>Kk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function t5(t){return BW[t]}function n5(t){return WW[t]}function r5(t){return zW[t]}function nl(t){return{fieldPath:t.canonicalString()}}function rl(t){return on.fromServerFormat(t.fieldPath)}function Gk(t){return t instanceof Bt?function(n){if(n.op==="=="){if(_T(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_T(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:n5(n.op),value:n.value}}}(t):t instanceof Hr?function(n){const r=n.getFilters().map(s=>Gk(s));return r.length===1?r[0]:{compositeFilter:{op:r5(n.op),filters:r}}}(t):Ee()}function s5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,s,i=be.min(),o=be.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.Tt=e}}function o5(t){const e=JW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.Tn=new l5}addToCollectionParentIndex(e,n){return this.Tn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(fo.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Yt(gt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Yt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yk=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(Yk,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rc(0)}static Un(){return new rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="LruGarbageCollector",c5=1048576;function MT([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class u5{constructor(e){this.Hn=e,this.buffer=new Yt(MT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(OT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ec(n)?ae(OT,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.er(3e5)})}}class f5{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Am.ae);const r=new u5(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(DT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),el()<=je.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function h5(t,e){return new f5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Au(r.mutation,s,Jn.empty(),Qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const s=Yo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=oi();const o=Pu(),a=function(){return Pu()}();return n.forEach((l,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof No)?i=i.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Au(f.mutation,c,f.mutation.getFieldMask(),Qt.now())):o.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return a.set(c,new m5(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pu();let s=new It((o,a)=>o-a),i=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Jn.empty();f=a.applyToLocalView(c,f),r.set(l,f);const p=(s.get(a.batchId)||Le()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,p=Nk();f.forEach(m=>{if(!i.has(m)){const y=Vk(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ik(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Yo());let a=ed,l=i;return o.next(c=>q.forEach(c,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(f)?q.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{l=l.insert(f,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Le())).next(f=>({batchId:a,changes:kk(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cu();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const c=function(p,m){return new xc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,wn.newInvalidDocument(f)))});let a=cu();return o.forEach((l,c)=>{const f=i.get(l);f!==void 0&&Au(f.mutation,c,Jn.empty(),Qt.now()),Dm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return q.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ws(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:o5(s.bundledQuery),readTime:ws(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.overlays=new It(pe.comparator),this.Rr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Yo(),i=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new It((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=i.get(c.largestBatchId);f===null&&(f=Yo(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Yo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return q.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jW(n,r));let i=this.Rr.get(n);i===void 0&&(i=Le(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Vr=new Yt(Xt.mr),this.gr=new Yt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Xt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new pe(new gt([])),r=new Xt(n,e),s=new Xt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new gt([])),r=new Xt(n,e),s=new Xt(n,e+1);let i=Le();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Fe(e.Cr,n.Cr)}static pr(e,n){return Fe(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Yt(Xt.mr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MW(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?I0:this.Fr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Fe);return n.forEach(s=>{const i=new Xt(s,0),o=new Xt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new Xt(new pe(i),0);let a=new Yt(Fe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),q.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return q.forEach(n.mutations,s=>{const i=new Xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Xt(n,0),s=this.Mr.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.kr=e,this.docs=function(){return new It(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wn.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=oi();const o=n.path,a=new pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Z6(Y6(f),r)<=0||(s.has(f.key)||Dm(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee()}qr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x5(this)}getSize(e){return q.resolve(this.size)}}class x5 extends p5{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.persistence=e,this.Qr=new Da(n=>R0(n),k0),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new V0,this.targetCount=0,this.Ur=rc.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),q.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.zn(n),q.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Am(0),this.zr=!1,this.zr=!0,this.jr=new _5,this.referenceDelegate=e(this),this.Hr=new S5(this),this.indexManager=new a5,this.remoteDocumentCache=function(s){return new E5(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new i5(n),this.Yr=new v5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new w5(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new b5(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class b5 extends J6{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.ti=new V0,this.ni=null}static ri(e){return new F0(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),q.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ii,r=>{const s=pe.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return q.or([()=>q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class bp{constructor(e,n){this.persistence=e,this.oi=new Da(r=>nW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=h5(this,n)}static ri(e,n){return new bp(e,n)}Zr(){}Xr(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return q.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,be.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),q.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}ar(e,n,r){return q.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Le(),s=Le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return c3()?8:eW(xn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new T5;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(el()<=je.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),q.resolve()):(el()<=je.DEBUG&&ae("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(el()<=je.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):q.resolve())}rs(e,n){if(ST(n))return q.resolve(null);let r=_s(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=u_(n,null,"F"),r=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Le(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,u_(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return ST(n)||s.isEqual(be.min())?q.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?q.resolve(null):(el()<=je.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tl(n)),this.hs(e,o,n,Q6(s,ed)).next(a=>a))})}cs(e,n){let r=new Yt(Ak(e));return n.forEach((s,i)=>{Dm(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return el()<=je.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ns.getDocumentsMatchingQuery(e,n,fo.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LocalStore",I5=3e8;class P5{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new It(Fe),this.Is=new Da(i=>R0(i),k0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function A5(t,e,n,r){return new P5(t,e,n,r)}async function Xk(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Le();for(const c of s){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of i){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function R5(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const p=c.batch,m=p.keys();let y=q.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(l,S)).next(g=>{const w=c.docVersions.get(S);Ze(w!==null),g.version.compareTo(w)<0&&(p.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),f.addEntry(g)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Jk(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function k5(t,e){const n=Ce(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((f,p)=>{const m=s.get(p);if(!m)return;a.push(n.Hr.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(i,f.addedDocuments,p)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(cn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(p,y),function(g,w,E){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=I5?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,f)&&a.push(n.Hr.updateTargetData(i,y))});let l=oi(),c=Le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(N5(i,o,e.documentUpdates).next(f=>{l=f.Vs,c=f.fs})),!r.isEqual(be.min())){const f=n.Hr.getLastRemoteSnapshotVersion(i).next(p=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function N5(t,e,n){let r=Le(),s=Le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=oi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(U0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function D5(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O5(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function m_(t,e,n){const r=Ce(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ec(o))throw o;ae(U0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function jT(t,e,n){const r=Ce(t);let s=be.min(),i=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const p=Ce(l),m=p.Is.get(f);return m!==void 0?q.resolve(p.Ts.get(m)):p.Hr.getTargetData(c,f)}(r,o,_s(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:be.min(),n?i:Le())).next(a=>(M5(r,wW(e),a),{documents:a,gs:i})))}function M5(t,e,n){let r=t.Es.get(e)||be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class LT{constructor(){this.activeTargetIds=CW()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j5{constructor(){this.ho=new LT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new LT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="ConnectivityMonitor";class FT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(VT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(VT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function g_(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="RestConnection",V5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===yp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=g_(),a=this.bo(e,n.toUriEncodedString());ae(vv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(ae(vv,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Jl(vv,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_c}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=V5[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class U5 extends F5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=g_();return new Promise((o,a)=>{const l=new rk;l.setWithCredentials(!0),l.listenOnce(sk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ch.NO_ERROR:const f=l.getResponseJson();ae(gn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case Ch.TIMEOUT:ae(gn,`RPC '${e}' ${i} timed out`),a(new ce(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const p=l.getStatus();if(ae(gn,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const S=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(E)>=0?E:K.UNKNOWN}(y.status);a(new ce(S,y.message))}else a(new ce(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(K.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(gn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ae(gn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=g_(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ak(),a=ok(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");ae(gn,`Creating RPC '${e}' stream ${s}: ${f}`,l);const p=o.createWebChannel(f,l);let m=!1,y=!1;const S=new $5({Fo:w=>{y?ae(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(m||(ae(gn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),ae(gn,`RPC '${e}' stream ${s} sending:`,w),p.send(w))},Mo:()=>p.close()}),g=(w,E,_)=>{w.listen(E,x=>{try{_(x)}catch(I){setTimeout(()=>{throw I},0)}})};return g(p,lu.EventType.OPEN,()=>{y||(ae(gn,`RPC '${e}' stream ${s} transport opened.`),S.Qo())}),g(p,lu.EventType.CLOSE,()=>{y||(y=!0,ae(gn,`RPC '${e}' stream ${s} transport closed`),S.Ko())}),g(p,lu.EventType.ERROR,w=>{y||(y=!0,Jl(gn,`RPC '${e}' stream ${s} transport errored:`,w),S.Ko(new ce(K.UNAVAILABLE,"The operation could not be completed")))}),g(p,lu.EventType.MESSAGE,w=>{var E;if(!y){const _=w.data[0];Ze(!!_);const x=_,I=(x==null?void 0:x.error)||((E=x[0])===null||E===void 0?void 0:E.error);if(I){ae(gn,`RPC '${e}' stream ${s} received error:`,I);const N=I.status;let M=function(A){const P=Lt[A];if(P!==void 0)return $k(P)}(N),C=I.message;M===void 0&&(M=K.INTERNAL,C="Unknown error status: "+N+" with message "+I.message),y=!0,S.Ko(new ce(M,C)),p.close()}else ae(gn,`RPC '${e}' stream ${s} received:`,_),S.Uo(_)}}),g(a,ik.STAT_EVENT,w=>{w.stat===s_.PROXY?ae(gn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===s_.NOPROXY&&ae(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){return new HW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="PersistentStream";class tN{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eN(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ce(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae($T,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae($T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B5 extends tN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=GW(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?ws(o.readTime):be.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=p_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=l_(l)?{documents:ZW(i,l)}:{query:XW(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Wk(i,o.resumeToken);const c=d_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=Sp(i,o.snapshotVersion.toTimestamp());const c=d_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=e5(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=p_(this.serializer),n.removeTarget=e,this.I_(n)}}class W5 extends tN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=YW(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=p_(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QW(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{}class H5 extends z5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,f_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(K.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,f_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(K.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ii(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class K5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Oa(this)&&(ae(_a,"Restarting streams for network reachability change."),await async function(l){const c=Ce(l);c.W_.add(4),await Bd(c),c.j_.set("Unknown"),c.W_.delete(4),await Vm(c)}(this))})}),this.j_=new q5(r,s)}}async function Vm(t){if(Oa(t))for(const e of t.G_)await e(!0)}async function Bd(t){for(const e of t.G_)await e(!1)}function nN(t,e){const n=Ce(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),H0(n)?z0(n):Sc(n).c_()&&W0(n,e))}function B0(t,e){const n=Ce(t),r=Sc(n);n.U_.delete(e),r.c_()&&rN(n,e),n.U_.size===0&&(r.c_()?r.P_():Oa(n)&&n.j_.set("Unknown"))}function W0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sc(t).y_(e)}function rN(t,e){t.H_.Ne(e),Sc(t).w_(e)}function z0(t){t.H_=new UW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Sc(t).start(),t.j_.B_()}function H0(t){return Oa(t)&&!Sc(t).u_()&&t.U_.size>0}function Oa(t){return Ce(t).W_.size===0}function sN(t){t.H_=void 0}async function G5(t){t.j_.set("Online")}async function Q5(t){t.U_.forEach((e,n)=>{W0(t,e)})}async function Y5(t,e){sN(t),H0(t)?(t.j_.q_(e),z0(t)):t.j_.set("Unknown")}async function Z5(t,e,n){if(t.j_.set("Online"),e instanceof Bk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ae(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tp(t,r)}else if(e instanceof Rh?t.H_.We(e):e instanceof Uk?t.H_.Ze(e):t.H_.je(e),!n.isEqual(be.min()))try{const r=await Jk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.U_.get(c);f&&i.U_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=i.U_.get(l);if(!f)return;i.U_.set(l,f.withResumeToken(cn.EMPTY_BYTE_STRING,f.snapshotVersion)),rN(i,l);const p=new Hi(f.target,l,c,f.sequenceNumber);W0(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae(_a,"Failed to raise snapshot:",r),await Tp(t,r)}}async function Tp(t,e,n){if(!Ec(e))throw e;t.W_.add(1),await Bd(t),t.j_.set("Offline"),n||(n=()=>Jk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(_a,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Vm(t)})}function iN(t,e){return e().catch(n=>Tp(t,n,e))}async function Fm(t){const e=Ce(t),n=go(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:I0;for(;X5(e);)try{const s=await D5(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,J5(e,s)}catch(s){await Tp(e,s)}oN(e)&&aN(e)}function X5(t){return Oa(t)&&t.K_.length<10}function J5(t,e){t.K_.push(e);const n=go(t);n.c_()&&n.S_&&n.b_(e.mutations)}function oN(t){return Oa(t)&&!go(t).u_()&&t.K_.length>0}function aN(t){go(t).start()}async function ez(t){go(t).C_()}async function tz(t){const e=go(t);for(const n of t.K_)e.b_(n.mutations)}async function nz(t,e,n){const r=t.K_.shift(),s=M0.from(r,e,n);await iN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Fm(t)}async function rz(t,e){e&&go(t).S_&&await async function(r,s){if(function(o){return VW(o)&&o!==K.ABORTED}(s.code)){const i=r.K_.shift();go(r).h_(),await iN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Fm(r)}}(t,e),oN(t)&&aN(t)}async function UT(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ae(_a,"RemoteStore received new credentials");const r=Oa(n);n.W_.add(3),await Bd(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Vm(n)}async function sz(t,e){const n=Ce(t);e?(n.W_.delete(2),await Vm(n)):e||(n.W_.add(2),await Bd(n),n.j_.set("Unknown"))}function Sc(t){return t.J_||(t.J_=function(n,r,s){const i=Ce(n);return i.M_(),new B5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:G5.bind(null,t),No:Q5.bind(null,t),Lo:Y5.bind(null,t),p_:Z5.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),H0(t)?z0(t):t.j_.set("Unknown")):(await t.J_.stop(),sN(t))})),t.J_}function go(t){return t.Y_||(t.Y_=function(n,r,s){const i=Ce(n);return i.M_(),new W5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ez.bind(null,t),Lo:rz.bind(null,t),D_:tz.bind(null,t),v_:nz.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Fm(t)):(await t.Y_.stop(),t.K_.length>0&&(ae(_a,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new q0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K0(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Ec(t))return new ce(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.Z_=new It(pe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sc(e,n,Rl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oz{constructor(){this.queries=WT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Ce(n),i=s.queries;s.queries=WT(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new ce(K.ABORTED,"Firestore shutting down"))}}function WT(){return new Da(t=>Pk(t),Nm)}async function lN(t,e){const n=Ce(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new iz,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=K0(o,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&G0(n)}async function cN(t,e){const n=Ce(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function az(t,e){const n=Ce(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&G0(n)}function lz(t,e,n){const r=Ce(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function G0(t){t.ia.forEach(e=>{e.next()})}var v_,zT;(zT=v_||(v_={}))._a="default",zT.Cache="cache";class uN{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==v_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class cz{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=Ak(e),this.wa=new Rl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new BT,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const m=s.get(f),y=Dm(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),g=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;m&&y?m.data.isEqual(y.data)?S!==g&&(r.track({type:3,doc:y}),w=!0):this.va(m,y)||(r.track({type:2,doc:y}),w=!0,(l&&this.ya(y,l)>0||c&&this.ya(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),w=!0):m&&!y&&(r.track({type:1,doc:m}),w=!0,(l||c)&&(a=!0)),w&&(y?(o=o.add(y),i=g?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,p)=>function(y,S){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return g(y)-g(S)}(f.type,p.type)||this.ya(f.doc,p.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new sc(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new fN(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new dN(r))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return sc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Q0="SyncEngine";class uz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dz{constructor(e){this.key=e,this.Ba=!1}}class fz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Da(a=>Pk(a),Nm),this.qa=new Map,this.Qa=new Set,this.$a=new It(pe.comparator),this.Ka=new Map,this.Ua=new V0,this.Wa={},this.Ga=new Map,this.za=rc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hz(t,e,n=!0){const r=yN(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await hN(r,e,n,!0),s}async function pz(t,e){const n=yN(t);await hN(n,e,!0,!1)}async function hN(t,e,n,r){const s=await O5(t.localStore,_s(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await mz(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&nN(t.remoteStore,s),a}async function mz(t,e,n,r,s){t.Ha=(p,m,y)=>async function(g,w,E,_){let x=w.view.ba(E);x.ls&&(x=await jT(g.localStore,w.query,!1).then(({documents:C})=>w.view.ba(C,x)));const I=_&&_.targetChanges.get(w.targetId),N=_&&_.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(x,g.isPrimaryClient,I,N);return qT(g,w.targetId,M.Ma),M.snapshot}(t,p,m,y);const i=await jT(t.localStore,e,!0),o=new cz(e,i.gs),a=o.ba(i.documents),l=Ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);qT(t,n,c.Ma);const f=new uz(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function gz(t,e,n){const r=Ce(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Nm(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await m_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&B0(r.remoteStore,s.targetId),y_(r,s.targetId)}).catch(wc)):(y_(r,s.targetId),await m_(r.localStore,s.targetId,!0))}async function vz(t,e){const n=Ce(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),B0(n.remoteStore,r.targetId))}async function yz(t,e,n){const r=Tz(t);try{const s=await function(o,a){const l=Ce(o),c=Qt.now(),f=a.reduce((y,S)=>y.add(S.key),Le());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=oi(),g=Le();return l.ds.getEntries(y,f).next(w=>{S=w,S.forEach((E,_)=>{_.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,S)).next(w=>{p=w;const E=[];for(const _ of a){const x=DW(_,p.get(_.key).overlayedDocument);x!=null&&E.push(new No(_.key,x,wk(x.value.mapValue),Ur.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,E,a)}).next(w=>{m=w;const E=w.applyToLocalDocumentSet(p,g);return l.documentOverlayCache.saveOverlays(y,w.batchId,E)})}).then(()=>({batchId:m.batchId,changes:kk(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new It(Fe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Wd(r,s.changes),await Fm(r.remoteStore)}catch(s){const i=K0(s,"Failed to persist write");n.reject(i)}}async function pN(t,e){const n=Ce(t);try{const r=await k5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Ze(o.Ba):s.removedDocuments.size>0&&(Ze(o.Ba),o.Ba=!1))}),await Wd(n,r,e)}catch(r){await wc(r)}}function HT(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let c=!1;l.queries.forEach((f,p)=>{for(const m of p.ta)m.sa(a)&&(c=!0)}),c&&G0(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _z(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new It(pe.comparator);o=o.insert(i,wn.newNoDocument(i,be.min()));const a=Le().add(i),l=new jm(be.min(),new Map,new It(Fe),o,a);await pN(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),Y0(r)}else await m_(r.localStore,e,!1).then(()=>y_(r,e,n)).catch(wc)}async function wz(t,e){const n=Ce(t),r=e.batch.batchId;try{const s=await R5(n.localStore,e);gN(n,r,null),mN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wd(n,s)}catch(s){await wc(s)}}async function Ez(t,e,n){const r=Ce(t);try{const s=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ze(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);gN(r,e,n),mN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wd(r,s)}catch(s){await wc(s)}}function mN(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function gN(t,e,n){const r=Ce(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||vN(t,r)})}function vN(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(B0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Y0(t))}function qT(t,e,n){for(const r of n)r instanceof dN?(t.Ua.addReference(r.key,e),xz(t,r)):r instanceof fN?(ae(Q0,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||vN(t,r.key)):Ee()}function xz(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ae(Q0,"New document in limbo: "+n),t.Qa.add(r),Y0(t))}function Y0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new pe(gt.fromString(e)),r=t.za.next();t.Ka.set(r,new dz(n)),t.$a=t.$a.insert(n,r),nN(t.remoteStore,new Hi(_s(N0(n.path)),r,"TargetPurposeLimboResolution",Am.ae))}}async function Wd(t,e,n){const r=Ce(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){s.push(c);const p=$0.Yi(l.targetId,c);i.push(p)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const f=Ce(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(c,m=>q.forEach(m.Hi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>q.forEach(m.Ji,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ec(p))throw p;ae(U0,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const y=f.Ts.get(m),S=y.snapshotVersion,g=y.withLastLimboFreeSnapshotVersion(S);f.Ts=f.Ts.insert(m,g)}}}(r.localStore,i))}async function Sz(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ae(Q0,"User change. New user:",e.toKey());const r=await Xk(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new ce(K.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wd(n,r.Rs)}}function bz(t,e){const n=Ce(t),r=n.Ka.get(e);if(r&&r.Ba)return Le().add(r.key);{let s=Le();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function yN(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_z.bind(null,e),e.La.p_=az.bind(null,e.eventManager),e.La.Ja=lz.bind(null,e.eventManager),e}function Tz(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,e),e}class Cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return A5(this.persistence,new C5,e.initialUser,this.serializer)}Xa(e){return new Zk(F0.ri,this.serializer)}Za(e){return new j5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cp.provider={build:()=>new Cp};class Cz extends Cp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ze(this.persistence.referenceDelegate instanceof bp);const r=this.persistence.referenceDelegate.garbageCollector;return new d5(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Zk(r=>bp.ri(r,n),this.serializer)}}class __{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sz.bind(null,this.syncEngine),await sz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oz}()}createDatastore(e){const n=Lm(e.databaseInfo.databaseId),r=function(i){return new U5(i)}(e.databaseInfo);return function(i,o,a,l){return new H5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new K5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return FT.D()?new FT:new L5}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,f){const p=new fz(s,i,o,a,l,c);return f&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ce(s);ae(_a,"RemoteStore shutting down."),i.W_.add(5),await Bd(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}__.provider={build:()=>new __};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="FirestoreClient";class Iz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=ck.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ae(vo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae(vo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=K0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _v(t,e){t.asyncQueue.verifyOperationInProgress(),ae(vo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Xk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pz(t);ae(vo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>UT(e.remoteStore,s)),t._onlineComponents=e}async function Pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(vo,"Using user provided OfflineComponentProvider");try{await _v(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await _v(t,new Cp)}}else ae(vo,"Using default OfflineComponentProvider"),await _v(t,new Cz(void 0));return t._offlineComponents}async function wN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(vo,"Using user provided OnlineComponentProvider"),await KT(t,t._uninitializedComponentsProvider._online)):(ae(vo,"Using default OnlineComponentProvider"),await KT(t,new __))),t._onlineComponents}function Az(t){return wN(t).then(e=>e.syncEngine)}async function w_(t){const e=await wN(t),n=e.eventManager;return n.onListen=hz.bind(null,e.syncEngine),n.onUnlisten=gz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vz.bind(null,e.syncEngine),n}function Rz(t,e,n={}){const r=new so;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const f=new _N({next:m=>{f.su(),o.enqueueAndForget(()=>cN(i,p)),m.fromCache&&l.source==="server"?c.reject(new ce(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new uN(a,f,{includeMetadataChanges:!0,Ta:!0});return lN(i,p)}(await w_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){if(!n)throw new ce(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kz(t,e,n,r){if(e===!0&&r===!0)throw new ce(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QT(t){if(!pe.isDocumentKey(t))throw new ce(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YT(t){if(pe.isDocumentKey(t))throw new ce(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(t);throw new ce(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firestore.googleapis.com",ZT=!0;class XT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SN,this.ssl=ZT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c5)throw new ce(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Um{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U6;switch(r.type){case"firstParty":return new H6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GT.get(n);r&&(ae("ComponentProvider","Removing Datastore"),GT.delete(n),r.terminate())}(this),Promise.resolve()}}function Nz(t,e,n,r={}){var s;const i=(t=Es(t,Um))._getSettings(),o=`${e}:${n}`;if(i.host!==SN&&i.host!==o&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=yn.MOCK_USER;else{a=n3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yn(c)}t._authCredentials=new B6(new lk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class io extends Do{constructor(e,n,r){super(e,n,N0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new pe(e))}withConverter(e){return new io(this.firestore,e,this._path)}}function Qe(t,e,...n){if(t=tn(t),xN("collection","path",e),t instanceof Um){const r=gt.fromString(e,...n);return YT(r),new io(t,null,r)}{if(!(t instanceof qn||t instanceof io))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return YT(r),new io(t.firestore,null,r)}}function wa(t,e,...n){if(t=tn(t),arguments.length===1&&(e=ck.newId()),xN("doc","path",e),t instanceof Um){const r=gt.fromString(e,...n);return QT(r),new qn(t,null,new pe(r))}{if(!(t instanceof qn||t instanceof io))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return QT(r),new qn(t.firestore,t instanceof io?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="AsyncQueue";class eC{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eN(this,"async_queue_retry"),this.Su=()=>{const r=yv();r&&ae(JT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=yv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new so;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ec(e))throw e;ae(JT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ii("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=q0.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function tC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ea extends Um{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new eC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eC(e),this._firestoreClient=void 0,await e}}}function Dz(t,e){const n=typeof t=="object"?t:vR(),r=typeof t=="string"?t:yp,s=v0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=e3("firestore");i&&Nz(s,...i)}return s}function Z0(t){if(t._terminated)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Oz(t),t._firestoreClient}function Oz(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,f){return new iW(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,EN(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Iz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(cn.fromBase64String(e))}catch(n){throw new ce(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=/^__.*__$/;class jz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}class bN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class tE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ip(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TN(this.Lu)&&Mz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Lz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lm(e)}ju(e,n,r,s=!1){return new tE({Lu:e,methodName:n,zu:r,path:on.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nE(t){const e=t._freezeSettings(),n=Lm(t._databaseId);return new Lz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vz(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);rE("Data must be an object, but it was:",o,r);const a=CN(r,o);let l,c;if(i.merge)l=new Jn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=E_(e,p,n);if(!o.contains(m))throw new ce(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PN(f,m)||f.push(m)}l=new Jn(f),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new jz(new $n(a),l,c)}class Wm extends X0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wm}}function Fz(t,e,n,r){const s=t.ju(1,e,n);rE("Data must be an object, but it was:",s,r);const i=[],o=$n.empty();ko(r,(l,c)=>{const f=sE(e,l,n);c=tn(c);const p=s.Ku(f);if(c instanceof Wm)i.push(f);else{const m=zd(c,p);m!=null&&(i.push(f),o.set(f,m))}});const a=new Jn(i);return new bN(o,a,s.fieldTransforms)}function $z(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[E_(e,r,n)],l=[s];if(i.length%2!=0)throw new ce(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(E_(e,i[m])),l.push(i[m+1]);const c=[],f=$n.empty();for(let m=a.length-1;m>=0;--m)if(!PN(c,a[m])){const y=a[m];let S=l[m];S=tn(S);const g=o.Ku(y);if(S instanceof Wm)c.push(y);else{const w=zd(S,g);w!=null&&(c.push(y),f.set(y,w))}}const p=new Jn(c);return new bN(f,p,o.fieldTransforms)}function Uz(t,e,n,r=!1){return zd(n,t.ju(r?4:3,e))}function zd(t,e){if(IN(t=tn(t)))return rE("Unsupported field value:",e,t),CN(t,e);if(t instanceof X0)return function(r,s){if(!TN(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=zd(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qt.fromDate(r);return{timestampValue:Sp(s.serializer,i)}}if(r instanceof Qt){const i=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(s.serializer,i)}}if(r instanceof J0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:Wk(s.serializer,r._byteString)};if(r instanceof qn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:L0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof eE)return function(o,a){return{mapValue:{fields:{[vk]:{stringValue:_k},[_p]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return D0(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${$m(r)}`)}(t,e)}function CN(t,e){const n={};return dk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,s)=>{const i=zd(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function IN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof J0||t instanceof ic||t instanceof qn||t instanceof X0||t instanceof eE)}function rE(t,e,n){if(!IN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$m(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function E_(t,e,n){if((e=tn(e))instanceof Bm)return e._internalPath;if(typeof e=="string")return sE(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bz=new RegExp("[~\\*/\\[\\]]");function sE(t,e,n){if(e.search(Bz)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bm(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ce(K.INVALID_ARGUMENT,a+t+l)}function PN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wz extends AN{data(){return super.data()}}function zm(t,e){return typeof e=="string"?sE(t,e):e instanceof Bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iE{}class kN extends iE{}function Wt(t,e,...n){let r=[];e instanceof iE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof oE).length,a=i.filter(l=>l instanceof Hm).length;if(o>1||o>0&&a>0)throw new ce(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hm extends kN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){const n=this._parse(e);return NN(e._query,n),new Do(e.firestore,e.converter,c_(e._query,n))}_parse(e){const n=nE(e.firestore);return function(i,o,a,l,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ce(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){rC(p,f);const S=[];for(const g of p)S.push(nC(l,i,g));m={arrayValue:{values:S}}}else m=nC(l,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||rC(p,f),m=Uz(a,o,p,f==="in"||f==="not-in");return Bt.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mt(t,e,n){const r=e,s=zm("where",t);return Hm._create(s,r,n)}class oE extends iE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)NN(o,l),o=c_(o,l)}(e._query,n),new Do(e.firestore,e.converter,c_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aE extends kN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ce(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(i,o)}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new xc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function kh(t,e="asc"){const n=e,r=zm("orderBy",t);return aE._create(r,n)}function nC(t,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new ce(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ik(e)&&n.indexOf("/")!==-1)throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!pe.isDocumentKey(r))throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vT(t,new pe(r))}if(n instanceof qn)return vT(t,n._key);throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(n)}.`)}function rC(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NN(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zz{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[_p].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>kt(o.doubleValue));return new eE(i)}convertGeoPoint(e){return new J0(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);Ze(Qk(r));const s=new nd(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||ii(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DN extends AN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nh extends DN{data(e={}){return super.data(e)}}class ON{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nh(this._firestore,this._userDataWriter,r.key,r,new du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Nh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new du(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Nh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new du(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:qz(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class lE extends zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function wt(t){t=Es(t,Do);const e=Es(t.firestore,Ea),n=Z0(e),r=new lE(e);return RN(t._query),Rz(n,t._query).then(s=>new ON(e,r,t,s))}function Pp(t,e,n,...r){t=Es(t,qn);const s=Es(t.firestore,Ea),i=nE(s);let o;return o=typeof(e=tn(e))=="string"||e instanceof Bm?$z(i,"updateDoc",t._key,e,n,r):Fz(i,"updateDoc",t._key,e),cE(s,[o.toMutation(t._key,Ur.exists(!0))])}function MN(t){return cE(Es(t.firestore,Ea),[new O0(t._key,Ur.none())])}function Us(t,e){const n=Es(t.firestore,Ea),r=wa(t),s=Hz(t.converter,e);return cE(n,[Vz(nE(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function x_(t,...e){var n,r,s;t=tn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tC(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(tC(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,c,f;if(t instanceof qn)c=Es(t.firestore,Ea),f=N0(t._key.path),l={next:p=>{e[o]&&e[o](Kz(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Es(t,Do);c=Es(p.firestore,Ea),f=p._query;const m=new lE(c);l={next:y=>{e[o]&&e[o](new ON(c,m,p,y))},error:e[o+1],complete:e[o+2]},RN(t._query)}return function(m,y,S,g){const w=new _N(g),E=new uN(y,w,S);return m.asyncQueue.enqueueAndForget(async()=>lN(await w_(m),E)),()=>{w.su(),m.asyncQueue.enqueueAndForget(async()=>cN(await w_(m),E))}}(Z0(c),f,a,l)}function cE(t,e){return function(r,s){const i=new so;return r.asyncQueue.enqueueAndForget(async()=>yz(await Az(r),s,i)),i.promise}(Z0(t),e)}function Kz(t,e,n){const r=n.docs.get(e._key),s=new lE(t);return new DN(t,s,e._key,r,new du(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_c=s})(vc),Xl(new ma("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ea(new W6(r.getProvider("auth-internal")),new q6(o,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(c.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),no(oT,aT,e),no(oT,aT,"esm2017")})();const Gz={apiKey:"AIzaSyDjkEGX3oaA1I_hVaL6FfOtNTEeF9p5hds",authDomain:"vgse-attendance.firebaseapp.com",projectId:"vgse-attendance",storageBucket:"vgse-attendance.appspot.com",appId:"1:216083193780:web:7cd9fc81994946aaee5ce1"},jN=gR(Gz),qr=tk(jN),ot=Dz(jN),Ft={users:"users",students:"students",attendance:"attendance"},ad=f0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xt=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?pa:"button";return d.jsx(o,{className:fe(ad({variant:e,size:n,className:t})),ref:i,...s})});xt.displayName="Button";function Qz({children:t}){const[e,n]=di(),{toast:r}=mc(),s=async()=>{try{await qr.signOut(),r({title:"Logged out successfully"}),n("/")}catch{r({title:"Error logging out",variant:"destructive"})}};return e==="/"?d.jsx("div",{className:"min-h-screen bg-background",children:t}):d.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[d.jsx("header",{className:"border-b",children:d.jsxs("div",{className:"container flex h-16 items-center px-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h0,{className:"h-6 w-6"}),d.jsx("h1",{className:"text-xl font-bold",children:"Vaageswari College of Engineering"})]}),d.jsx("div",{className:"ml-auto",children:d.jsxs(xt,{variant:"ghost",onClick:s,children:[d.jsx(iU,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})}),d.jsx("main",{className:"container flex-1 py-6",children:t}),d.jsxs("footer",{className:"border-t py-6 text-center text-sm text-muted-foreground",children:[d.jsx("p",{children:"©All Copyrights Reserved By Vaageswari College of Engineering"}),d.jsx("p",{className:"mt-1",children:"Designed & Development By @Sumanth Csy"})]})]})}const ct=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ct.displayName="Card";const vt=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));vt.displayName="CardHeader";const yt=h.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const Yz=h.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Yz.displayName="CardDescription";const ut=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));ut.displayName="CardContent";const Zz=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));Zz.displayName="CardFooter";function Zs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sC(t[s],null)}}}}function Ap(...t){return h.useCallback(LN(...t),t)}var Rp=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(Jz);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(S_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(S_,{...r,ref:e,children:n})});Rp.displayName="Slot";var S_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=tH(n),i=eH(r,n.props);return n.type!==h.Fragment&&(i.ref=e?LN(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});S_.displayName="SlotClone";var Xz=({children:t})=>d.jsx(d.Fragment,{children:t});function Jz(t){return h.isValidElement(t)&&t.type===Xz}function eH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function tH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nH(t){const e=t+"CollectionProvider",[n,r]=ur(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:S,children:g}=y,w=me.useRef(null),E=me.useRef(new Map).current;return d.jsx(s,{scope:S,itemMap:E,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=me.forwardRef((y,S)=>{const{scope:g,children:w}=y,E=i(a,g),_=Ap(S,E.collectionRef);return d.jsx(Rp,{ref:_,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",p=me.forwardRef((y,S)=>{const{scope:g,children:w,...E}=y,_=me.useRef(null),x=Ap(S,_),I=i(c,g);return me.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),d.jsx(Rp,{[f]:"",ref:x,children:w})});p.displayName=c;function m(y){const S=i(t+"CollectionConsumer",y);return me.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((I,N)=>E.indexOf(I.ref.current)-E.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},m,r]}var rH=G1.useId||(()=>{}),sH=0;function _r(t){const[e,n]=h.useState(rH());return nt(()=>{t||n(r=>r??String(sH++))},[t]),t||(e?`radix-${e}`:"")}var iH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bc=iH.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Rp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),oH=h.createContext(void 0);function uE(t){const e=h.useContext(oH);return t||e||"ltr"}var wv="rovingFocusGroup.onEntryFocus",aH={bubbles:!1,cancelable:!0},qm="RovingFocusGroup",[b_,VN,lH]=nH(qm),[cH,FN]=ur(qm,[lH]),[uH,dH]=cH(qm),$N=h.forwardRef((t,e)=>d.jsx(b_.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(b_.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(fH,{...t,ref:e})})}));$N.displayName=qm;var fH=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...p}=t,m=h.useRef(null),y=Ap(e,m),S=uE(i),[g=null,w]=ni({prop:o,defaultProp:a,onChange:l}),[E,_]=h.useState(!1),x=at(c),I=VN(n),N=h.useRef(!1),[M,C]=h.useState(0);return h.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(wv,x),()=>T.removeEventListener(wv,x)},[x]),d.jsx(uH,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(T=>w(T),[w]),onItemShiftTab:h.useCallback(()=>_(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:h.useCallback(()=>C(T=>T-1),[]),children:d.jsx(bc.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Zs(t.onMouseDown,()=>{N.current=!0}),onFocus:Zs(t.onFocus,T=>{const A=!N.current;if(T.target===T.currentTarget&&A&&!E){const P=new CustomEvent(wv,aH);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=I().filter(Z=>Z.focusable),D=O.find(Z=>Z.active),k=O.find(Z=>Z.id===g),J=[D,k,...O].filter(Boolean).map(Z=>Z.ref.current);WN(J,f)}}N.current=!1}),onBlur:Zs(t.onBlur,()=>_(!1))})})}),UN="RovingFocusGroupItem",BN=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=_r(),l=i||a,c=dH(UN,n),f=c.currentTabStopId===l,p=VN(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=c;return h.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),d.jsx(b_.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(bc.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Zs(t.onMouseDown,S=>{r?c.onItemFocus(l):S.preventDefault()}),onFocus:Zs(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Zs(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){c.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const g=mH(S,c.orientation,c.dir);if(g!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=p().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")E.reverse();else if(g==="prev"||g==="next"){g==="prev"&&E.reverse();const _=E.indexOf(S.currentTarget);E=c.loop?gH(E,_+1):E.slice(_+1)}setTimeout(()=>WN(E))}})})})});BN.displayName=UN;var hH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mH(t,e,n){const r=pH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hH[r]}function WN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vH=$N,yH=BN;function _H(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var zN=t=>{const{present:e,children:n}=t,r=wH(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=Ap(r.ref,EH(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};zN.displayName="Presence";function wH(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=_H(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Kf(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,f=s.current;if(f!==t){const m=i.current,y=Kf(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,p=y=>{const g=Kf(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=Kf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Kf(t){return(t==null?void 0:t.animationName)||"none"}function EH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dE="Tabs",[xH,bee]=ur(dE,[FN]),HN=FN(),[SH,fE]=xH(dE),qN=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=uE(a),[p,m]=ni({prop:r,onChange:s,defaultProp:i});return d.jsx(SH,{scope:n,baseId:_r(),value:p,onValueChange:m,orientation:o,dir:f,activationMode:l,children:d.jsx(bc.div,{dir:f,"data-orientation":o,...c,ref:e})})});qN.displayName=dE;var KN="TabsList",GN=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=fE(KN,n),o=HN(n);return d.jsx(vH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(bc.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});GN.displayName=KN;var QN="TabsTrigger",YN=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=fE(QN,n),a=HN(n),l=JN(o.baseId,r),c=eD(o.baseId,r),f=r===o.value;return d.jsx(yH,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(bc.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Zs(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:Zs(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:Zs(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!s&&p&&o.onValueChange(r)})})})});YN.displayName=QN;var ZN="TabsContent",XN=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=fE(ZN,n),l=JN(a.baseId,r),c=eD(a.baseId,r),f=r===a.value,p=h.useRef(f);return h.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),d.jsx(zN,{present:s||f,children:({present:m})=>d.jsx(bc.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});XN.displayName=ZN;function JN(t,e){return`${t}-trigger-${e}`}function eD(t,e){return`${t}-content-${e}`}var bH=qN,tD=GN,nD=YN,rD=XN;const TH=bH,sD=h.forwardRef(({className:t,...e},n)=>d.jsx(tD,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));sD.displayName=tD.displayName;const T_=h.forwardRef(({className:t,...e},n)=>d.jsx(nD,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));T_.displayName=nD.displayName;const C_=h.forwardRef(({className:t,...e},n)=>d.jsx(rD,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));C_.displayName=rD.displayName;const kn=h.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));kn.displayName="Input";function iC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CH(...t){return e=>{let n=!1;const r=t.map(s=>{const i=iC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():iC(t[s],null)}}}}var iD=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(PH);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(I_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(I_,{...r,ref:e,children:n})});iD.displayName="Slot";var I_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=RH(n),i=AH(r,n.props);return n.type!==h.Fragment&&(i.ref=e?CH(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});I_.displayName="SlotClone";var IH=({children:t})=>d.jsx(d.Fragment,{children:t});function PH(t){return h.isValidElement(t)&&t.type===IH}function AH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function RH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],NH=kH.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?iD:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),DH="Label",oD=h.forwardRef((t,e)=>d.jsx(NH.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oD.displayName=DH;var aD=oD;const OH=f0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yl=h.forwardRef(({className:t,...e},n)=>d.jsx(aD,{ref:n,className:fe(OH(),t),...e}));yl.displayName=aD.displayName;function MH(){const[,t]=di(),{toast:e}=mc(),[n,r]=h.useState(""),[s,i]=h.useState(""),[o,a]=h.useState(!1),l=async c=>{a(!0);try{const f=await CB(qr,n,s),p=Qe(ot,Ft.users),m=Wt(p,mt("authUid","==",f.user.uid)),y=await wt(m);if(!y.empty){const S=y.docs[0].data();if(S.role===c){e({title:"Login successful",description:`Welcome back, ${S.name}!`}),t(c==="student"?"/student/dashboard":"/admin/dashboard");return}}if(c==="student"){const S=Qe(ot,Ft.students),g=Wt(S,mt("authUid","==",f.user.uid)),w=await wt(g);if(!w.empty){const E=w.docs[0].data();e({title:"Login successful",description:`Welcome back, ${E.name}!`}),t("/student/dashboard");return}}throw new Error(`User does not have ${c} privileges`)}catch(f){console.error("Login error:",f);let p="Invalid credentials or unauthorized access";f.code==="auth/user-not-found"?p="User not found. Please check your ID.":f.code==="auth/wrong-password"?p="Incorrect password. Please try again.":f.code==="auth/invalid-email"&&(p="Invalid ID format."),e({title:"Login failed",description:p,variant:"destructive"}),await qr.signOut()}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen flex flex-col justify-center bg-gray-50",children:d.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:d.jsxs(ct,{className:"w-full max-w-md",children:[d.jsxs(vt,{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(h0,{className:"h-12 w-12 text-primary"})}),d.jsx(yt,{className:"text-2xl",children:"Vaageswari College of Engineering"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Attendance Management System"})]}),d.jsx(ut,{children:d.jsxs(TH,{defaultValue:"student",children:[d.jsxs(sD,{className:"grid w-full grid-cols-2",children:[d.jsx(T_,{value:"student",children:"Student"}),d.jsx(T_,{value:"admin",children:"Admin"})]}),d.jsx(C_,{value:"student",children:d.jsx("form",{onSubmit:c=>{c.preventDefault(),l("student")},children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(yl,{htmlFor:"student-email",children:"Student ID"}),d.jsx(kn,{id:"student-email",type:"email",value:n,onChange:c=>r(c.target.value),required:!0,placeholder:"Ex: 23s41a66g1@vgsek.ac.in"})]}),d.jsxs("div",{children:[d.jsx(yl,{htmlFor:"student-password",children:"Password"}),d.jsx(kn,{id:"student-password",type:"password",value:s,onChange:c=>i(c.target.value),required:!0})]}),d.jsx(xt,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})]})})}),d.jsx(C_,{value:"admin",children:d.jsx("form",{onSubmit:c=>{c.preventDefault(),l("admin")},children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(yl,{htmlFor:"admin-email",children:"Admin ID"}),d.jsx(kn,{id:"admin-email",type:"email",value:n,onChange:c=>r(c.target.value),placeholder:"Enter your admin ID",required:!0})]}),d.jsxs("div",{children:[d.jsx(yl,{htmlFor:"admin-password",children:"Password"}),d.jsx(kn,{id:"admin-password",type:"password",value:s,onChange:c=>i(c.target.value),required:!0})]}),d.jsx(xt,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})]})})})]})})]})})})}function jH(t,e=[]){let n=[];function r(i,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:m,children:y,...S}=p,g=(m==null?void 0:m[t][l])||a,w=h.useMemo(()=>S,Object.values(S));return d.jsx(g.Provider,{value:w,children:y})}function f(p,m){const y=(m==null?void 0:m[t][l])||a,S=h.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,f]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,LH(s,...e)]}function LH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hE="Progress",pE=100,[VH,Tee]=jH(hE),[FH,$H]=VH(hE),lD=h.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=UH,...o}=t;(s||s===0)&&!oC(s)&&console.error(BH(`${s}`,"Progress"));const a=oC(s)?s:pE;r!==null&&!aC(r,a)&&console.error(WH(`${r}`,"Progress"));const l=aC(r,a)?r:null,c=kp(l)?i(l,a):void 0;return d.jsx(FH,{scope:n,value:l,max:a,children:d.jsx(Zt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":kp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":dD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});lD.displayName=hE;var cD="ProgressIndicator",uD=h.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=$H(cD,n);return d.jsx(Zt.div,{"data-state":dD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});uD.displayName=cD;function UH(t,e){return`${Math.round(t/e*100)}%`}function dD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function kp(t){return typeof t=="number"}function oC(t){return kp(t)&&!isNaN(t)&&t>0}function aC(t,e){return kp(t)&&!isNaN(t)&&t<=e&&t>=0}function BH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pE}\`.`}function WH(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fD=lD,zH=uD;const hD=h.forwardRef(({className:t,value:e,...n},r)=>d.jsx(fD,{ref:r,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(zH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));hD.displayName=fD.displayName;function He(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ar(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function In(t,e){const n=He(t);return isNaN(e)?ar(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Kr(t,e){const n=He(t);if(isNaN(e))return ar(t,NaN);if(!e)return n;const r=n.getDate(),s=ar(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const mE=6048e5,HH=864e5;let qH={};function Hd(){return qH}function Ts(t,e){var a,l,c,f;const n=Hd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function xa(t){return Ts(t,{weekStartsOn:1})}function pD(t){const e=He(t),n=e.getFullYear(),r=ar(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=xa(r),i=ar(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=xa(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function oc(t){const e=He(t);return e.setHours(0,0,0,0),e}function Np(t){const e=He(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hs(t,e){const n=oc(t),r=oc(e),s=+n-Np(n),i=+r-Np(r);return Math.round((s-i)/HH)}function KH(t){const e=pD(t),n=ar(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),xa(n)}function P_(t,e){const n=e*7;return In(t,n)}function GH(t,e){return Kr(t,e*12)}function QH(t){let e;return t.forEach(function(n){const r=He(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function YH(t){let e;return t.forEach(n=>{const r=He(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Bn(t,e){const n=oc(t),r=oc(e);return+n==+r}function gE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZH(t){if(!gE(t)&&typeof t!="number")return!1;const e=He(t);return!isNaN(Number(e))}function ld(t,e){const n=He(t),r=He(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function XH(t,e,n){const r=Ts(t,n),s=Ts(e,n),i=+r-Np(r),o=+s-Np(s);return Math.round((i-o)/mE)}function vE(t){const e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Kn(t){const e=He(t);return e.setDate(1),e.setHours(0,0,0,0),e}function mD(t){const e=He(t),n=ar(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yE(t,e){var a,l,c,f;const n=Hd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function gD(t){return yE(t,{weekStartsOn:1})}const JH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e8=(t,e,n)=>{let r;const s=JH[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ev(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const t8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s8={date:Ev({formats:t8,defaultWidth:"full"}),time:Ev({formats:n8,defaultWidth:"full"}),dateTime:Ev({formats:r8,defaultWidth:"full"})},i8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o8=(t,e,n,r)=>i8[t];function Xc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const a8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},f8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},p8={ordinalNumber:h8,era:Xc({values:a8,defaultWidth:"wide"}),quarter:Xc({values:l8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xc({values:c8,defaultWidth:"wide"}),day:Xc({values:u8,defaultWidth:"wide"}),dayPeriod:Xc({values:d8,defaultWidth:"wide",formattingValues:f8,defaultFormattingWidth:"wide"})};function Jc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?g8(a,p=>p.test(o)):m8(a,p=>p.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(o.length);return{value:c,rest:f}}}function m8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function g8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function v8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const y8=/^(\d+)(th|st|nd|rd)?/i,_8=/\d+/i,w8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E8={any:[/^b/i,/^(a|c)/i]},x8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S8={any:[/1/i,/2/i,/3/i,/4/i]},b8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R8={ordinalNumber:v8({matchPattern:y8,parsePattern:_8,valueCallback:t=>parseInt(t,10)}),era:Jc({matchPatterns:w8,defaultMatchWidth:"wide",parsePatterns:E8,defaultParseWidth:"any"}),quarter:Jc({matchPatterns:x8,defaultMatchWidth:"wide",parsePatterns:S8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jc({matchPatterns:b8,defaultMatchWidth:"wide",parsePatterns:T8,defaultParseWidth:"any"}),day:Jc({matchPatterns:C8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any"}),dayPeriod:Jc({matchPatterns:P8,defaultMatchWidth:"any",parsePatterns:A8,defaultParseWidth:"any"})},vD={code:"en-US",formatDistance:e8,formatLong:s8,formatRelative:o8,localize:p8,match:R8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k8(t){const e=He(t);return hs(e,mD(e))+1}function yD(t){const e=He(t),n=+xa(e)-+KH(e);return Math.round(n/mE)+1}function _D(t,e){var f,p,m,y;const n=He(t),r=n.getFullYear(),s=Hd(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=ar(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Ts(o,e),l=ar(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Ts(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function N8(t,e){var a,l,c,f;const n=Hd(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=_D(t,e),i=ar(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ts(i,e)}function wD(t,e){const n=He(t),r=+Ts(n,e)-+N8(n,e);return Math.round(r/mE)+1}function et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Si={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):et(n+1,2)},d(t,e){return et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return et(t.getHours()%12||12,e.length)},H(t,e){return et(t.getHours(),e.length)},m(t,e){return et(t.getMinutes(),e.length)},s(t,e){return et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return et(s,e.length)}},Wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Si.y(t,e)},Y:function(t,e,n,r){const s=_D(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return et(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):et(i,e.length)},R:function(t,e){const n=pD(t);return et(n,e.length)},u:function(t,e){const n=t.getFullYear();return et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Si.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=wD(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):et(s,e.length)},I:function(t,e,n){const r=yD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Si.d(t,e)},D:function(t,e,n){const r=k8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return et(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Wa.noon:r===0?s=Wa.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Wa.evening:r>=12?s=Wa.afternoon:r>=4?s=Wa.morning:s=Wa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Si.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Si.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Si.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Si.s(t,e)},S:function(t,e){return Si.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return uC(r);case"XXXX":case"XX":return qo(r);case"XXXXX":case"XXX":default:return qo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return uC(r);case"xxxx":case"xx":return qo(r);case"xxxxx":case"xxx":default:return qo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cC(r,":");case"OOOO":default:return"GMT"+qo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cC(r,":");case"zzzz":default:return"GMT"+qo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return et(r,e.length)},T:function(t,e,n){const r=t.getTime();return et(r,e.length)}};function cC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+et(i,2)}function uC(t,e){return t%60===0?(t>0?"-":"+")+et(Math.abs(t)/60,2):qo(t,e)}function qo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=et(Math.trunc(r/60),2),i=et(r%60,2);return n+s+e+i}const dC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ED=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return dC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",dC(r,e)).replace("{{time}}",ED(s,e))},O8={p:ED,P:D8},M8=/^D+$/,j8=/^Y+$/,L8=["D","DD","YY","YYYY"];function V8(t){return M8.test(t)}function F8(t){return j8.test(t)}function $8(t,e,n){const r=U8(t,e,n);if(console.warn(r),L8.includes(t))throw new RangeError(r)}function U8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z8=/^'([^]*?)'?$/,H8=/''/g,q8=/[a-zA-Z]/;function Rn(t,e,n){var f,p,m,y,S,g,w,E;const r=Hd(),s=(n==null?void 0:n.locale)??r.locale??vD,i=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((E=(w=r.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,a=He(t);if(!ZH(a))throw new RangeError("Invalid time value");let l=e.match(W8).map(_=>{const x=_[0];if(x==="p"||x==="P"){const I=O8[x];return I(_,s.formatLong)}return _}).join("").match(B8).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const x=_[0];if(x==="'")return{isToken:!1,value:K8(_)};if(lC[x])return{isToken:!0,value:_};if(x.match(q8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const x=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&F8(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&V8(x))&&$8(x,e,String(t));const I=lC[x[0]];return I(a,x,s.localize,c)}).join("")}function K8(t){const e=t.match(z8);return e?e[1].replace(H8,"'"):t}function G8(t){const e=He(t),n=e.getFullYear(),r=e.getMonth(),s=ar(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Q8(t){return Math.trunc(+He(t)/1e3)}function Y8(t){const e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Z8(t,e){return XH(Y8(t),Kn(t),e)+1}function A_(t,e){const n=He(t),r=He(e);return n.getTime()>r.getTime()}function xD(t,e){const n=He(t),r=He(e);return+n<+r}function _E(t,e){const n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function X8(t,e){const n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()}function xv(t,e){return In(t,-e)}function Sv(t,e){const n=He(t),r=n.getFullYear(),s=n.getDate(),i=ar(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=G8(i);return n.setMonth(e,Math.min(s,o)),n}function fC(t,e){const n=He(t);return isNaN(+n)?ar(t,NaN):(n.setFullYear(e),n)}function J8(){const[,t]=di(),[e,n]=h.useState(null),[r,s]=h.useState(null),[i,o]=h.useState(0);return h.useEffect(()=>{const a=qr.currentUser;if(!a){t("/");return}(async()=>{try{const c=Qe(ot,Ft.students),f=Wt(c,mt("authUid","==",a.uid)),p=await wt(f);if(!p.empty){const m=p.docs[0],y={id:m.id,...m.data()};n(y);const S=new Date;S.setHours(0,0,0,0);const g=Rn(S,"yyyy-MM-dd"),w=Qe(ot,Ft.attendance),E=Wt(w,mt("date","==",g)),_=x_(E,async x=>{let I=null;for(const N of x.docs){const M=N.data();if(M.isDirectEntry&&M.percentage){o(M.percentage);const P=Math.random()<M.percentage/100;s(P);return}const C=Qe(N.ref,"records"),T=Wt(C,mt("studentId","==",m.id)),A=await wt(T);if(!A.empty){I=A.docs[0].data().present;break}}s(I)});return()=>_()}}catch(c){console.error("Error fetching data:",c)}})()},[t]),e?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Dashboard"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(xt,{variant:"outline",onClick:()=>t("/student/results"),children:"View Results"}),d.jsx(xt,{variant:"outline",asChild:!0,children:d.jsxs("a",{href:"https://forms.gle/tB6SFXFxi4Tobkup7",target:"_blank",rel:"noopener noreferrer",children:["Contact Admin",d.jsx(lp,{className:"ml-2 h-4 w-4"})]})})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Today's Status"})}),d.jsx(ut,{children:d.jsx("div",{className:"text-2xl font-bold",children:r===null?"Not marked yet":r?d.jsx("span",{className:"text-green-600",children:"Present"}):d.jsx("span",{className:"text-red-600",children:"Absent"})})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Overall Attendance"})}),d.jsx(ut,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-2xl font-bold",children:[i.toFixed(1),"%"]}),d.jsx(hD,{value:i})]})})]})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Profile Information"})}),d.jsx(ut,{children:d.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),d.jsx("dd",{className:"text-lg",children:e.name})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Roll Number"}),d.jsx("dd",{className:"text-lg",children:e.rollNumber})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Branch"}),d.jsx("dd",{className:"text-lg",children:e.branch})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Batch"}),d.jsx("dd",{className:"text-lg",children:e.batch})]})]})})]})]}):d.jsx("div",{children:"Loading..."})}var eq="Separator",hC="horizontal",tq=["horizontal","vertical"],SD=h.forwardRef((t,e)=>{const{decorative:n,orientation:r=hC,...s}=t,i=nq(r)?r:hC,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Zt.div,{"data-orientation":i,...a,...s,ref:e})});SD.displayName=eq;function nq(t){return tq.includes(t)}var bD=SD;const Dh=h.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(bD,{ref:s,decorative:n,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Dh.displayName=bD.displayName;function rq(){const[,t]=di(),[e,n]=h.useState(null);return h.useEffect(()=>{const r=qr.currentUser;if(!r){t("/");return}(async()=>{const i=Qe(ot,Ft.students),o=Wt(i,mt("authUid","==",r.uid)),a=await wt(o);if(!a.empty){const l=a.docs[0];n({id:l.id,...l.data()})}})()},[t]),e?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Student Profile"}),d.jsx(xt,{variant:"outline",asChild:!0,children:d.jsxs("a",{href:"https://forms.google.com/contact-admin",target:"_blank",rel:"noopener noreferrer",children:["Contact Admin",d.jsx(lp,{className:"ml-2 h-4 w-4"})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:d.jsx(uU,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx(yt,{children:e.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.rollNumber})]})]})}),d.jsx(ut,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[d.jsx(h0,{className:"h-4 w-4"}),"Academic Information"]}),d.jsx(Dh,{className:"my-2"}),d.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm text-muted-foreground",children:"Branch"}),d.jsx("dd",{className:"text-lg font-medium",children:e.branch})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm text-muted-foreground",children:"Current Year"}),d.jsxs("dd",{className:"text-lg font-medium",children:["Year ",e.year]})]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[d.jsx(GA,{className:"h-4 w-4"}),"Batch Information"]}),d.jsx(Dh,{className:"my-2"}),d.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm text-muted-foreground",children:"Batch"}),d.jsx("dd",{className:"text-lg font-medium",children:e.batch})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm text-muted-foreground",children:"Student ID"}),d.jsx("dd",{className:"text-lg font-medium",children:e.username})]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[d.jsx(HA,{className:"h-4 w-4"}),"Account Information"]}),d.jsx(Dh,{className:"my-2"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"To update your profile information or reset your password, please contact the administrator using the contact form above."})]})]})})]})]}):d.jsx("div",{children:"Loading..."})}function pC(t,[e,n]){return Math.min(n,Math.max(e,t))}function Vt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TD(...t){return e=>{let n=!1;const r=t.map(s=>{const i=mC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mC(t[s],null)}}}}function un(...t){return h.useCallback(TD(...t),t)}var cd=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(iq);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(R_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(R_,{...r,ref:e,children:n})});cd.displayName="Slot";var R_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=aq(n),i=oq(r,n.props);return n.type!==h.Fragment&&(i.ref=e?TD(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});R_.displayName="SlotClone";var sq=({children:t})=>d.jsx(d.Fragment,{children:t});function iq(t){return h.isValidElement(t)&&t.type===sq}function oq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function aq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lq(t){const e=t+"CollectionProvider",[n,r]=ur(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:S,children:g}=y,w=me.useRef(null),E=me.useRef(new Map).current;return d.jsx(s,{scope:S,itemMap:E,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=me.forwardRef((y,S)=>{const{scope:g,children:w}=y,E=i(a,g),_=un(S,E.collectionRef);return d.jsx(cd,{ref:_,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",p=me.forwardRef((y,S)=>{const{scope:g,children:w,...E}=y,_=me.useRef(null),x=un(S,_),I=i(c,g);return me.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),d.jsx(cd,{[f]:"",ref:x,children:w})});p.displayName=c;function m(y){const S=i(t+"CollectionConsumer",y);return me.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((I,N)=>E.indexOf(I.ref.current)-E.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},m,r]}var cq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zt=cq.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?cd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function uq(t,e){t&&As.flushSync(()=>t.dispatchEvent(e))}var dq="DismissableLayer",k_="dismissableLayer.update",fq="dismissableLayer.pointerDownOutside",hq="dismissableLayer.focusOutside",gC,CD=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ID=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=h.useContext(CD),[f,p]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),S=un(e,C=>p(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(w),_=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=gq(C=>{const T=C.target,A=[...c.branches].some(P=>P.contains(T));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=vq(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return Em(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),h.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),vC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gC)}},[f,m,n,c]),h.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),vC())},[f,c]),h.useEffect(()=>{const C=()=>y({});return document.addEventListener(k_,C),()=>document.removeEventListener(k_,C)},[]),d.jsx(zt.div,{...l,ref:S,style:{pointerEvents:x?I?"auto":"none":void 0,...t.style},onFocusCapture:Vt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Vt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Vt(t.onPointerDownCapture,N.onPointerDownCapture)})});ID.displayName=dq;var pq="DismissableLayerBranch",mq=h.forwardRef((t,e)=>{const n=h.useContext(CD),r=h.useRef(null),s=un(e,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(zt.div,{...t,ref:s})});mq.displayName=pq;function gq(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){PD(fq,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vq(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&PD(hq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vC(){const t=new CustomEvent(k_);document.dispatchEvent(t)}function PD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uq(s,i):s.dispatchEvent(i)}var bv=0;function Km(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yC()),document.body.insertAdjacentElement("beforeend",t[1]??yC()),bv++,()=>{bv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bv--}},[])}function yC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tv="focusScope.autoFocusOnMount",Cv="focusScope.autoFocusOnUnmount",_C={bubbles:!1,cancelable:!0},yq="FocusScope",AD=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=h.useState(null),c=at(s),f=at(i),p=h.useRef(null),m=un(e,g=>l(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(x){if(y.paused||!a)return;const I=x.target;a.contains(I)?p.current=I:Ti(p.current,{select:!0})},w=function(x){if(y.paused||!a)return;const I=x.relatedTarget;I!==null&&(a.contains(I)||Ti(p.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Ti(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,y.paused]),h.useEffect(()=>{if(a){EC.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(Tv,_C);a.addEventListener(Tv,c),a.dispatchEvent(E),E.defaultPrevented||(_q(bq(RD(a)),{select:!0}),document.activeElement===g&&Ti(a))}return()=>{a.removeEventListener(Tv,c),setTimeout(()=>{const E=new CustomEvent(Cv,_C);a.addEventListener(Cv,f),a.dispatchEvent(E),E.defaultPrevented||Ti(g??document.body,{select:!0}),a.removeEventListener(Cv,f),EC.remove(y)},0)}}},[a,c,f,y]);const S=h.useCallback(g=>{if(!n&&!r||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(w&&E){const _=g.currentTarget,[x,I]=wq(_);x&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&Ti(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),n&&Ti(I,{select:!0})):E===_&&g.preventDefault()}},[n,r,y.paused]);return d.jsx(zt.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});AD.displayName=yq;function _q(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function wq(t){const e=RD(t),n=wC(e,t),r=wC(e.reverse(),t);return[n,r]}function RD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wC(t,e){for(const n of t)if(!Eq(n,{upTo:e}))return n}function Eq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xq(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xq(t)&&e&&t.select()}}var EC=Sq();function Sq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xC(t,e),t.unshift(e)},remove(e){var n;t=xC(t,e),(n=t[0])==null||n.resume()}}}function xC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bq(t){return t.filter(e=>e.tagName!=="A")}const Tq=["top","right","bottom","left"],yo=Math.min,Zn=Math.max,Dp=Math.round,Gf=Math.floor,xs=t=>({x:t,y:t}),Cq={left:"right",right:"left",bottom:"top",top:"bottom"},Iq={start:"end",end:"start"};function N_(t,e,n){return Zn(t,yo(e,n))}function ai(t,e){return typeof t=="function"?t(e):t}function li(t){return t.split("-")[0]}function Tc(t){return t.split("-")[1]}function wE(t){return t==="x"?"y":"x"}function EE(t){return t==="y"?"height":"width"}function _o(t){return["top","bottom"].includes(li(t))?"y":"x"}function xE(t){return wE(_o(t))}function Pq(t,e,n){n===void 0&&(n=!1);const r=Tc(t),s=xE(t),i=EE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Op(o)),[o,Op(o)]}function Aq(t){const e=Op(t);return[D_(t),e,D_(e)]}function D_(t){return t.replace(/start|end/g,e=>Iq[e])}function Rq(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function kq(t,e,n,r){const s=Tc(t);let i=Rq(li(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(D_)))),i}function Op(t){return t.replace(/left|right|bottom|top/g,e=>Cq[e])}function Nq(t){return{top:0,right:0,bottom:0,left:0,...t}}function kD(t){return typeof t!="number"?Nq(t):{top:t,right:t,bottom:t,left:t}}function Mp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function SC(t,e,n){let{reference:r,floating:s}=t;const i=_o(e),o=xE(e),a=EE(o),l=li(e),c=i==="y",f=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:f,y:r.y-s.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(Tc(e)){case"start":y[o]-=m*(n&&c?-1:1);break;case"end":y[o]+=m*(n&&c?-1:1);break}return y}const Dq=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:p}=SC(c,r,l),m=r,y={},S=0;for(let g=0;g<a.length;g++){const{name:w,fn:E}=a[g],{x:_,y:x,data:I,reset:N}=await E({x:f,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});f=_??f,p=x??p,y={...y,[w]:{...y[w],...I}},N&&S<=50&&(S++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:f,y:p}=SC(c,m,l)),g=-1)}return{x:f,y:p,placement:m,strategy:s,middlewareData:y}};async function ud(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=ai(e,t),S=kD(y),w=a[m?p==="floating"?"reference":"floating":p],E=Mp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),_=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},N=Mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(E.top-N.top+S.top)/I.y,bottom:(N.bottom-E.bottom+S.bottom)/I.y,left:(E.left-N.left+S.left)/I.x,right:(N.right-E.right+S.right)/I.x}}const Oq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=ai(t,e)||{};if(c==null)return{};const p=kD(f),m={x:n,y:r},y=xE(s),S=EE(y),g=await o.getDimensions(c),w=y==="y",E=w?"top":"left",_=w?"bottom":"right",x=w?"clientHeight":"clientWidth",I=i.reference[S]+i.reference[y]-m[y]-i.floating[S],N=m[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[x]||i.floating[S]);const T=I/2-N/2,A=C/2-g[S]/2-1,P=yo(p[E],A),O=yo(p[_],A),D=P,k=C-g[S]-O,z=C/2-g[S]/2+T,J=N_(D,z,k),Z=!l.arrow&&Tc(s)!=null&&z!==J&&i.reference[S]/2-(z<D?P:O)-g[S]/2<0,B=Z?z<D?z-D:z-k:0;return{[y]:m[y]+B,data:{[y]:J,centerOffset:z-J-B,...Z&&{alignmentOffset:B}},reset:Z}}}),Mq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:g=!0,...w}=ai(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=li(s),_=_o(a),x=li(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=m||(x||!g?[Op(a)]:Aq(a)),M=S!=="none";!m&&M&&N.push(...kq(a,g,S,I));const C=[a,...N],T=await ud(e,w),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&A.push(T[E]),p){const z=Pq(s,o,I);A.push(T[z[0]],T[z[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(z=>z<=0)){var O,D;const z=(((O=i.flip)==null?void 0:O.index)||0)+1,J=C[z];if(J)return{data:{index:z,overflows:P},reset:{placement:J}};let Z=(D=P.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(y){case"bestFit":{var k;const B=(k=P.filter(L=>{if(M){const F=_o(L.placement);return F===_||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:k[0];B&&(Z=B);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function bC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TC(t){return Tq.some(e=>t[e]>=0)}const jq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ai(t,e);switch(r){case"referenceHidden":{const i=await ud(e,{...s,elementContext:"reference"}),o=bC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TC(o)}}}case"escaped":{const i=await ud(e,{...s,altBoundary:!0}),o=bC(i,n.floating);return{data:{escapedOffsets:o,escaped:TC(o)}}}default:return{}}}}};async function Lq(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=li(n),a=Tc(n),l=_o(n)==="y",c=["left","top"].includes(o)?-1:1,f=i&&l?-1:1,p=ai(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(y=a==="end"?S*-1:S),l?{x:y*f,y:m*c}:{x:m*c,y:y*f}}const Vq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Lq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Fq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:E,y:_}=w;return{x:E,y:_}}},...l}=ai(t,e),c={x:n,y:r},f=await ud(e,l),p=_o(li(s)),m=wE(p);let y=c[m],S=c[p];if(i){const w=m==="y"?"top":"left",E=m==="y"?"bottom":"right",_=y+f[w],x=y-f[E];y=N_(_,y,x)}if(o){const w=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=S+f[w],x=S-f[E];S=N_(_,S,x)}const g=a.fn({...e,[m]:y,[p]:S});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:i,[p]:o}}}}}},$q=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ai(t,e),f={x:n,y:r},p=_o(s),m=wE(p);let y=f[m],S=f[p];const g=ai(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=m==="y"?"height":"width",I=i.reference[m]-i.floating[x]+w.mainAxis,N=i.reference[m]+i.reference[x]-w.mainAxis;y<I?y=I:y>N&&(y=N)}if(c){var E,_;const x=m==="y"?"width":"height",I=["top","left"].includes(li(s)),N=i.reference[p]-i.floating[x]+(I&&((E=o.offset)==null?void 0:E[p])||0)+(I?0:w.crossAxis),M=i.reference[p]+i.reference[x]+(I?0:((_=o.offset)==null?void 0:_[p])||0)-(I?w.crossAxis:0);S<N?S=N:S>M&&(S=M)}return{[m]:y,[p]:S}}}},Uq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ai(t,e),f=await ud(e,c),p=li(s),m=Tc(s),y=_o(s)==="y",{width:S,height:g}=i.floating;let w,E;p==="top"||p==="bottom"?(w=p,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,w=m==="end"?"top":"bottom");const _=g-f.top-f.bottom,x=S-f.left-f.right,I=yo(g-f[w],_),N=yo(S-f[E],x),M=!e.middlewareData.shift;let C=I,T=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),M&&!m){const P=Zn(f.left,0),O=Zn(f.right,0),D=Zn(f.top,0),k=Zn(f.bottom,0);y?T=S-2*(P!==0||O!==0?P+O:Zn(f.left,f.right)):C=g-2*(D!==0||k!==0?D+k:Zn(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return S!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Gm(){return typeof window<"u"}function Cc(t){return ND(t)?(t.nodeName||"").toLowerCase():"#document"}function tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(ND(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ND(t){return Gm()?t instanceof Node||t instanceof tr(t).Node:!1}function Gr(t){return Gm()?t instanceof Element||t instanceof tr(t).Element:!1}function Cs(t){return Gm()?t instanceof HTMLElement||t instanceof tr(t).HTMLElement:!1}function CC(t){return!Gm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tr(t).ShadowRoot}function qd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Bq(t){return["table","td","th"].includes(Cc(t))}function Qm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function SE(t){const e=bE(),n=Gr(t)?Qr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Wq(t){let e=wo(t);for(;Cs(e)&&!ac(e);){if(SE(e))return e;if(Qm(e))return null;e=wo(e)}return null}function bE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ac(t){return["html","body","#document"].includes(Cc(t))}function Qr(t){return tr(t).getComputedStyle(t)}function Ym(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wo(t){if(Cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CC(t)&&t.host||Rs(t);return CC(e)?e.host:e}function DD(t){const e=wo(t);return ac(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cs(e)&&qd(e)?e:DD(e)}function dd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tr(s);if(i){const a=O_(o);return e.concat(o,o.visualViewport||[],qd(s)?s:[],a&&n?dd(a):[])}return e.concat(s,dd(s,[],n))}function O_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OD(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Dp(n)!==i||Dp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function TE(t){return Gr(t)?t:t.contextElement}function kl(t){const e=TE(t);if(!Cs(e))return xs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OD(e);let o=(i?Dp(n.width):n.width)/r,a=(i?Dp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zq=xs(0);function MD(t){const e=tr(t);return!bE()||!e.visualViewport?zq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Hq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tr(t)?!1:e}function Sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=TE(t);let o=xs(1);e&&(r?Gr(r)&&(o=kl(r)):o=kl(t));const a=Hq(i,n,r)?MD(i):xs(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(i){const m=tr(i),y=r&&Gr(r)?tr(r):r;let S=m,g=O_(S);for(;g&&r&&y!==S;){const w=kl(g),E=g.getBoundingClientRect(),_=Qr(g),x=E.left+(g.clientLeft+parseFloat(_.paddingLeft))*w.x,I=E.top+(g.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,f*=w.x,p*=w.y,l+=x,c+=I,S=tr(g),g=O_(S)}}return Mp({width:f,height:p,x:l,y:c})}function CE(t,e){const n=Ym(t).scrollLeft;return e?e.left+n:Sa(Rs(t)).left+n}function jD(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:CE(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function qq(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rs(r),a=e?Qm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=xs(1);const f=xs(0),p=Cs(r);if((p||!p&&!i)&&((Cc(r)!=="body"||qd(o))&&(l=Ym(r)),Cs(r))){const y=Sa(r);c=kl(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const m=o&&!p&&!i?jD(o,l,!0):xs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+m.x,y:n.y*c.y-l.scrollTop*c.y+f.y+m.y}}function Kq(t){return Array.from(t.getClientRects())}function Gq(t){const e=Rs(t),n=Ym(t),r=t.ownerDocument.body,s=Zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+CE(t);const a=-n.scrollTop;return Qr(r).direction==="rtl"&&(o+=Zn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Qq(t,e){const n=tr(t),r=Rs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=bE();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Yq(t,e){const n=Sa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cs(t)?kl(t):xs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function IC(t,e,n){let r;if(e==="viewport")r=Qq(t,n);else if(e==="document")r=Gq(Rs(t));else if(Gr(e))r=Yq(e,n);else{const s=MD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mp(r)}function LD(t,e){const n=wo(t);return n===e||!Gr(n)||ac(n)?!1:Qr(n).position==="fixed"||LD(n,e)}function Zq(t,e){const n=e.get(t);if(n)return n;let r=dd(t,[],!1).filter(a=>Gr(a)&&Cc(a)!=="body"),s=null;const i=Qr(t).position==="fixed";let o=i?wo(t):t;for(;Gr(o)&&!ac(o);){const a=Qr(o),l=SE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qd(o)&&!l&&LD(t,o))?r=r.filter(f=>f!==o):s=a,o=wo(o)}return e.set(t,r),r}function Xq(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qm(e)?[]:Zq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const p=IC(e,f,s);return c.top=Zn(p.top,c.top),c.right=yo(p.right,c.right),c.bottom=yo(p.bottom,c.bottom),c.left=Zn(p.left,c.left),c},IC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jq(t){const{width:e,height:n}=OD(t);return{width:e,height:n}}function e7(t,e,n){const r=Cs(e),s=Rs(e),i=n==="fixed",o=Sa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=xs(0);if(r||!r&&!i)if((Cc(e)!=="body"||qd(s))&&(a=Ym(e)),r){const m=Sa(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=CE(s));const c=s&&!r&&!i?jD(s,a):xs(0),f=o.left+a.scrollLeft-l.x-c.x,p=o.top+a.scrollTop-l.y-c.y;return{x:f,y:p,width:o.width,height:o.height}}function Iv(t){return Qr(t).position==="static"}function PC(t,e){if(!Cs(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rs(t)===n&&(n=n.ownerDocument.body),n}function VD(t,e){const n=tr(t);if(Qm(t))return n;if(!Cs(t)){let s=wo(t);for(;s&&!ac(s);){if(Gr(s)&&!Iv(s))return s;s=wo(s)}return n}let r=PC(t,e);for(;r&&Bq(r)&&Iv(r);)r=PC(r,e);return r&&ac(r)&&Iv(r)&&!SE(r)?n:r||Wq(t)||n}const t7=async function(t){const e=this.getOffsetParent||VD,n=this.getDimensions,r=await n(t.floating);return{reference:e7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n7(t){return Qr(t).direction==="rtl"}const r7={convertOffsetParentRelativeRectToViewportRelativeRect:qq,getDocumentElement:Rs,getClippingRect:Xq,getOffsetParent:VD,getElementRects:t7,getClientRects:Kq,getDimensions:Jq,getScale:kl,isElement:Gr,isRTL:n7};function s7(t,e){let n=null,r;const s=Rs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:f,width:p,height:m}=t.getBoundingClientRect();if(a||e(),!p||!m)return;const y=Gf(f),S=Gf(s.clientWidth-(c+p)),g=Gf(s.clientHeight-(f+m)),w=Gf(c),_={rootMargin:-y+"px "+-S+"px "+-g+"px "+-w+"px",threshold:Zn(0,yo(1,l))||1};let x=!0;function I(N){const M=N[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(I,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(t)}return o(!0),i}function FD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=TE(t),f=s||i?[...c?dd(c):[],...dd(e)]:[];f.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=c&&a?s7(c,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(e)})),n()}),c&&!l&&y.observe(c),y.observe(e));let S,g=l?Sa(t):null;l&&w();function w(){const E=Sa(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,S=requestAnimationFrame(w)}return n(),()=>{var E;f.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(S)}}const i7=Vq,o7=Fq,a7=Mq,l7=Uq,c7=jq,AC=Oq,u7=$q,d7=(t,e,n)=>{const r=new Map,s={platform:r7,...n},i={...s.platform,_c:r};return Dq(t,e,{...s,platform:i})};var Oh=typeof document<"u"?h.useLayoutEffect:h.useEffect;function jp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function $D(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RC(t,e){const n=$D(t);return Math.round(e*n)/n}function Pv(t){const e=h.useRef(t);return Oh(()=>{e.current=t}),e}function UD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,p]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=h.useState(r);jp(m,r)||y(r);const[S,g]=h.useState(null),[w,E]=h.useState(null),_=h.useCallback(L=>{L!==M.current&&(M.current=L,g(L))},[]),x=h.useCallback(L=>{L!==C.current&&(C.current=L,E(L))},[]),I=i||S,N=o||w,M=h.useRef(null),C=h.useRef(null),T=h.useRef(f),A=l!=null,P=Pv(l),O=Pv(s),D=Pv(c),k=h.useCallback(()=>{if(!M.current||!C.current)return;const L={placement:e,strategy:n,middleware:m};O.current&&(L.platform=O.current),d7(M.current,C.current,L).then(F=>{const G={...F,isPositioned:D.current!==!1};z.current&&!jp(T.current,G)&&(T.current=G,As.flushSync(()=>{p(G)}))})},[m,e,n,O,D]);Oh(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[c]);const z=h.useRef(!1);Oh(()=>(z.current=!0,()=>{z.current=!1}),[]),Oh(()=>{if(I&&(M.current=I),N&&(C.current=N),I&&N){if(P.current)return P.current(I,N,k);k()}},[I,N,k,P,A]);const J=h.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:x}),[_,x]),Z=h.useMemo(()=>({reference:I,floating:N}),[I,N]),B=h.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const F=RC(Z.floating,f.x),G=RC(Z.floating,f.y);return a?{...L,transform:"translate("+F+"px, "+G+"px)",...$D(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,a,Z.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:k,refs:J,elements:Z,floatingStyles:B}),[f,k,J,Z,B])}const f7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AC({element:r.current,padding:s}).fn(n):{}:r?AC({element:r,padding:s}).fn(n):{}}}},BD=(t,e)=>({...i7(t),options:[t,e]}),WD=(t,e)=>({...o7(t),options:[t,e]}),zD=(t,e)=>({...u7(t),options:[t,e]}),HD=(t,e)=>({...a7(t),options:[t,e]}),qD=(t,e)=>({...l7(t),options:[t,e]}),KD=(t,e)=>({...c7(t),options:[t,e]}),GD=(t,e)=>({...f7(t),options:[t,e]});var h7="Arrow",QD=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(zt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});QD.displayName=h7;var p7=QD;function IE(t){const[e,n]=h.useState(void 0);return nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var PE="Popper",[YD,ZD]=ur(PE),[m7,XD]=YD(PE),JD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return d.jsx(m7,{scope:e,anchor:r,onAnchorChange:s,children:n})};JD.displayName=PE;var eO="PopperAnchor",tO=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=XD(eO,n),o=h.useRef(null),a=un(e,o);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(zt.div,{...s,ref:a})});tO.displayName=eO;var AE="PopperContent",[g7,v7]=YD(AE),nO=h.forwardRef((t,e)=>{var ue,Se,Xe,Oe,Ie,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:S,...g}=t,w=XD(AE,n),[E,_]=h.useState(null),x=un(e,Je=>_(Je)),[I,N]=h.useState(null),M=IE(I),C=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(c)?c:[c],D=O.length>0,k={padding:P,boundary:O.filter(_7),altBoundary:D},{refs:z,floatingStyles:J,placement:Z,isPositioned:B,middlewareData:L}=UD({strategy:"fixed",placement:A,whileElementsMounted:(...Je)=>FD(...Je,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[BD({mainAxis:s+T,alignmentAxis:o}),l&&WD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zD():void 0,...k}),l&&HD({...k}),qD({...k,apply:({elements:Je,rects:jt,availableWidth:dr,availableHeight:br})=>{const{width:es,height:j}=jt.reference,$=Je.floating.style;$.setProperty("--radix-popper-available-width",`${dr}px`),$.setProperty("--radix-popper-available-height",`${br}px`),$.setProperty("--radix-popper-anchor-width",`${es}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),I&&GD({element:I,padding:a}),w7({arrowWidth:C,arrowHeight:T}),m&&KD({strategy:"referenceHidden",...k})]}),[F,G]=iO(Z),re=at(S);nt(()=>{B&&(re==null||re())},[B,re]);const ge=(ue=L.arrow)==null?void 0:ue.x,Te=(Se=L.arrow)==null?void 0:Se.y,Ge=((Xe=L.arrow)==null?void 0:Xe.centerOffset)!==0,[We,rt]=h.useState();return nt(()=>{E&&rt(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:B?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(Oe=L.transformOrigin)==null?void 0:Oe.x,(Ie=L.transformOrigin)==null?void 0:Ie.y].join(" "),...((De=L.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(g7,{scope:n,placedSide:F,onArrowChange:N,arrowX:ge,arrowY:Te,shouldHideArrow:Ge,children:d.jsx(zt.div,{"data-side":F,"data-align":G,...g,ref:x,style:{...g.style,animation:B?void 0:"none"}})})})});nO.displayName=AE;var rO="PopperArrow",y7={top:"bottom",right:"left",bottom:"top",left:"right"},sO=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=v7(rO,r),o=y7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(p7,{...s,ref:n,style:{...s.style,display:"block"}})})});sO.displayName=rO;function _7(t){return t!==null}var w7=t=>({name:"transformOrigin",options:t,fn(e){var w,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=iO(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",g="";return c==="bottom"?(S=o?p:`${m}px`,g=`${-l}px`):c==="top"?(S=o?p:`${m}px`,g=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,g=o?p:`${y}px`):c==="left"&&(S=`${r.floating.width+l}px`,g=o?p:`${y}px`),{data:{x:S,y:g}}}});function iO(t){const[e,n="center"]=t.split("-");return[e,n]}var E7=JD,x7=tO,S7=nO,b7=sO,T7="Portal",oO=h.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=h.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vm.createPortal(d.jsx(zt.div,{...r,ref:e}),o):null});oO.displayName=T7;function aO(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var C7="VisuallyHidden",lO=h.forwardRef((t,e)=>d.jsx(zt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));lO.displayName=C7;var I7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},za=new WeakMap,Qf=new WeakMap,Yf={},Av=0,cO=function(t){return t&&(t.host||cO(t.parentNode))},P7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},A7=function(t,e,n,r){var s=P7(e,Array.isArray(t)?t:[t]);Yf[n]||(Yf[n]=new WeakMap);var i=Yf[n],o=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))f(m);else try{var y=m.getAttribute(r),S=y!==null&&y!=="false",g=(za.get(m)||0)+1,w=(i.get(m)||0)+1;za.set(m,g),i.set(m,w),o.push(m),g===1&&S&&Qf.set(m,!0),w===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return f(e),a.clear(),Av++,function(){o.forEach(function(p){var m=za.get(p)-1,y=i.get(p)-1;za.set(p,m),i.set(p,y),m||(Qf.has(p)||p.removeAttribute(r),Qf.delete(p)),y||p.removeAttribute(n)}),Av--,Av||(za=new WeakMap,za=new WeakMap,Qf=new WeakMap,Yf={})}},Zm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=I7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),A7(r,s,n,"aria-hidden")):function(){return null}},oa="right-scroll-bar-position",aa="width-before-scroll-bar",R7="with-scroll-bars-hidden",k7="--removed-body-scroll-bar-size";function Rv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function N7(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var D7=typeof window<"u"?h.useLayoutEffect:h.useEffect,kC=new WeakMap;function Xm(t,e){var n=N7(null,function(r){return t.forEach(function(s){return Rv(s,r)})});return D7(function(){var r=kC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Rv(a,null)}),i.forEach(function(a){s.has(a)||Rv(a,o)})}kC.set(n,t)},[t]),n}function O7(t){return t}function M7(t,e){e===void 0&&(e=O7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return s}function Jm(t){t===void 0&&(t={});var e=M7(null);return e.options=st({async:!0,ssr:!1},t),e}var uO=function(t){var e=t.sideCar,n=Po(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,st({},n))};uO.isSideCarExport=!0;function eg(t,e){return t.useMedium(e),uO}var dO=Jm(),kv=function(){},tg=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:kv,onWheelCapture:kv,onTouchMoveCapture:kv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,S=t.inert,g=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,_=t.gapMode,x=Po(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,N=Xm([n,e]),M=st(st({},x),s);return h.createElement(h.Fragment,null,f&&h.createElement(I,{sideCar:dO,removeScrollBar:c,shards:p,noIsolation:y,inert:S,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?h.cloneElement(h.Children.only(a),st(st({},M),{ref:N})):h.createElement(E,st({},M,{className:l,ref:N}),a))});tg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tg.classNames={fullWidth:aa,zeroRight:oa};var j7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=j7();return e&&t.setAttribute("nonce",e),t}function V7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=L7())&&(V7(e,n),F7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U7=function(){var t=$7();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Kd=function(){var t=U7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},B7={left:0,top:0,right:0,gap:0},Nv=function(t){return parseInt(t||"",10)||0},W7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Nv(n),Nv(r),Nv(s)]},z7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B7;var e=W7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},H7=Kd(),Nl="data-scroll-locked",q7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oa,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(aa,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(oa," .").concat(oa,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(aa," .").concat(aa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(k7,": ").concat(a,`px;
  }
`)},NC=function(){var t=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(t)?t:0},K7=function(){h.useEffect(function(){return document.body.setAttribute(Nl,(NC()+1).toString()),function(){var t=NC()-1;t<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,t.toString())}},[])},ng=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;K7();var i=h.useMemo(function(){return z7(s)},[s]);return h.createElement(H7,{styles:q7(i,!e,s,n?"":"!important")})},M_=!1;if(typeof window<"u")try{var Zf=Object.defineProperty({},"passive",{get:function(){return M_=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{M_=!1}var Ha=M_?{passive:!1}:!1,G7=function(t){return t.tagName==="TEXTAREA"},fO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!G7(t)&&n[e]==="visible")},Q7=function(t){return fO(t,"overflowY")},Y7=function(t){return fO(t,"overflowX")},DC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hO(t,r);if(s){var i=pO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Z7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},X7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hO=function(t,e){return t==="v"?Q7(e):Y7(e)},pO=function(t,e){return t==="v"?Z7(e):X7(e)},J7=function(t,e){return t==="h"&&e==="rtl"?-1:1},eK=function(t,e,n,r,s){var i=J7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,f=o>0,p=0,m=0;do{var y=pO(t,a),S=y[0],g=y[1],w=y[2],E=g-w-i*S;(S||E)&&hO(t,a)&&(p+=E,m+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(p)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},Xf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OC=function(t){return[t.deltaX,t.deltaY]},MC=function(t){return t&&"current"in t?t.current:t},tK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rK=0,qa=[];function sK(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(rK++)[0],i=h.useState(Kd)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Tm([t.lockRef.current],(t.shards||[]).map(MC),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Xf(g),_=n.current,x="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,M=g.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var T=DC(C,M);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=DC(C,M)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||I)&&(r.current=N),!N)return!0;var A=r.current||N;return eK(A,w,g,A==="h"?x:I,!0)},[]),l=h.useCallback(function(g){var w=g;if(!(!qa.length||qa[qa.length-1]!==i)){var E="deltaY"in w?OC(w):Xf(w),_=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&tK(N.delta,E)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(MC).filter(Boolean).filter(function(N){return N.contains(w.target)}),I=x.length>0?a(w,x[0]):!o.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,E,_){var x={name:g,delta:w,target:E,should:_,shadowParent:iK(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),f=h.useCallback(function(g){n.current=Xf(g),r.current=void 0},[]),p=h.useCallback(function(g){c(g.type,OC(g),g.target,a(g,t.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,Xf(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return qa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ha),document.addEventListener("touchmove",l,Ha),document.addEventListener("touchstart",f,Ha),function(){qa=qa.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ha),document.removeEventListener("touchmove",l,Ha),document.removeEventListener("touchstart",f,Ha)}},[]);var y=t.removeScrollBar,S=t.inert;return h.createElement(h.Fragment,null,S?h.createElement(i,{styles:nK(s)}):null,y?h.createElement(ng,{gapMode:t.gapMode}):null)}function iK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oK=eg(dO,sK);var mO=h.forwardRef(function(t,e){return h.createElement(tg,st({},t,{ref:e,sideCar:oK}))});mO.classNames=tg.classNames;var aK=[" ","Enter","ArrowUp","ArrowDown"],lK=[" ","Enter"],Gd="Select",[rg,sg,cK]=lq(Gd),[Ic,Cee]=ur(Gd,[cK,ZD]),ig=ZD(),[uK,Oo]=Ic(Gd),[dK,fK]=Ic(Gd),gO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:p,disabled:m,required:y,form:S}=t,g=ig(e),[w,E]=h.useState(null),[_,x]=h.useState(null),[I,N]=h.useState(!1),M=uE(c),[C=!1,T]=ni({prop:r,defaultProp:s,onChange:i}),[A,P]=ni({prop:o,defaultProp:a,onChange:l}),O=h.useRef(null),D=w?S||!!w.closest("form"):!0,[k,z]=h.useState(new Set),J=Array.from(k).map(Z=>Z.props.value).join(";");return d.jsx(E7,{...g,children:d.jsxs(uK,{required:y,scope:e,trigger:w,onTriggerChange:E,valueNode:_,onValueNodeChange:x,valueNodeHasChildren:I,onValueNodeHasChildrenChange:N,contentId:_r(),value:A,onValueChange:P,open:C,onOpenChange:T,dir:M,triggerPointerDownPosRef:O,disabled:m,children:[d.jsx(rg.Provider,{scope:e,children:d.jsx(dK,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(Z=>{z(B=>new Set(B).add(Z))},[]),onNativeOptionRemove:h.useCallback(Z=>{z(B=>{const L=new Set(B);return L.delete(Z),L})},[]),children:n})}),D?d.jsxs(UO,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:A,onChange:Z=>P(Z.target.value),disabled:m,form:S,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(k)]},J):null]})})};gO.displayName=Gd;var vO="SelectTrigger",yO=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ig(n),o=Oo(vO,n),a=o.disabled||r,l=un(e,o.onTriggerChange),c=sg(n),f=h.useRef("touch"),[p,m,y]=BO(g=>{const w=c().filter(x=>!x.disabled),E=w.find(x=>x.value===o.value),_=WO(w,g,E);_!==void 0&&o.onValueChange(_.value)}),S=g=>{a||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(x7,{asChild:!0,...i,children:d.jsx(zt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$O(o.value)?"":void 0,...s,ref:l,onClick:Vt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&S(g)}),onPointerDown:Vt(s.onPointerDown,g=>{f.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:Vt(s.onKeyDown,g=>{const w=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&aK.includes(g.key)&&(S(),g.preventDefault())})})})});yO.displayName=vO;var _O="SelectValue",wO=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Oo(_O,n),{onValueNodeHasChildrenChange:c}=l,f=i!==void 0,p=un(e,l.onValueNodeChange);return nt(()=>{c(f)},[c,f]),d.jsx(zt.span,{...a,ref:p,style:{pointerEvents:"none"},children:$O(l.value)?d.jsx(d.Fragment,{children:o}):i})});wO.displayName=_O;var hK="SelectIcon",EO=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(zt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});EO.displayName=hK;var pK="SelectPortal",xO=t=>d.jsx(oO,{asChild:!0,...t});xO.displayName=pK;var ba="SelectContent",SO=h.forwardRef((t,e)=>{const n=Oo(ba,t.__scopeSelect),[r,s]=h.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?As.createPortal(d.jsx(bO,{scope:t.__scopeSelect,children:d.jsx(rg.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(TO,{...t,ref:e})});SO.displayName=ba;var Ir=10,[bO,Mo]=Ic(ba),mK="SelectContentImpl",TO=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:g,avoidCollisions:w,...E}=t,_=Oo(ba,n),[x,I]=h.useState(null),[N,M]=h.useState(null),C=un(e,ue=>I(ue)),[T,A]=h.useState(null),[P,O]=h.useState(null),D=sg(n),[k,z]=h.useState(!1),J=h.useRef(!1);h.useEffect(()=>{if(x)return Zm(x)},[x]),Km();const Z=h.useCallback(ue=>{const[Se,...Xe]=D().map(De=>De.ref.current),[Oe]=Xe.slice(-1),Ie=document.activeElement;for(const De of ue)if(De===Ie||(De==null||De.scrollIntoView({block:"nearest"}),De===Se&&N&&(N.scrollTop=0),De===Oe&&N&&(N.scrollTop=N.scrollHeight),De==null||De.focus(),document.activeElement!==Ie))return},[D,N]),B=h.useCallback(()=>Z([T,x]),[Z,T,x]);h.useEffect(()=>{k&&B()},[k,B]);const{onOpenChange:L,triggerPointerDownPosRef:F}=_;h.useEffect(()=>{if(x){let ue={x:0,y:0};const Se=Oe=>{var Ie,De;ue={x:Math.abs(Math.round(Oe.pageX)-(((Ie=F.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((De=F.current)==null?void 0:De.y)??0))}},Xe=Oe=>{ue.x<=10&&ue.y<=10?Oe.preventDefault():x.contains(Oe.target)||L(!1),document.removeEventListener("pointermove",Se),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[x,L,F]),h.useEffect(()=>{const ue=()=>L(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[L]);const[G,re]=BO(ue=>{const Se=D().filter(Ie=>!Ie.disabled),Xe=Se.find(Ie=>Ie.ref.current===document.activeElement),Oe=WO(Se,ue,Xe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ge=h.useCallback((ue,Se,Xe)=>{const Oe=!J.current&&!Xe;(_.value!==void 0&&_.value===Se||Oe)&&(A(ue),Oe&&(J.current=!0))},[_.value]),Te=h.useCallback(()=>x==null?void 0:x.focus(),[x]),Ge=h.useCallback((ue,Se,Xe)=>{const Oe=!J.current&&!Xe;(_.value!==void 0&&_.value===Se||Oe)&&O(ue)},[_.value]),We=r==="popper"?j_:CO,rt=We===j_?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:g,avoidCollisions:w}:{};return d.jsx(bO,{scope:n,content:x,viewport:N,onViewportChange:M,itemRefCallback:ge,selectedItem:T,onItemLeave:Te,itemTextRefCallback:Ge,focusSelectedItem:B,selectedItemText:P,position:r,isPositioned:k,searchRef:G,children:d.jsx(mO,{as:cd,allowPinchZoom:!0,children:d.jsx(AD,{asChild:!0,trapped:_.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Vt(s,ue=>{var Se;(Se=_.trigger)==null||Se.focus({preventScroll:!0}),ue.preventDefault()}),children:d.jsx(ID,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:d.jsx(We,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ue=>ue.preventDefault(),...E,...rt,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Vt(E.onKeyDown,ue=>{const Se=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Se&&ue.key.length===1&&re(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Oe=D().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ie=ue.target,De=Oe.indexOf(Ie);Oe=Oe.slice(De+1)}setTimeout(()=>Z(Oe)),ue.preventDefault()}})})})})})})});TO.displayName=mK;var gK="SelectItemAlignedPosition",CO=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Oo(ba,n),o=Mo(ba,n),[a,l]=h.useState(null),[c,f]=h.useState(null),p=un(e,C=>f(C)),m=sg(n),y=h.useRef(!1),S=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:E,focusSelectedItem:_}=o,x=h.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&E){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=P.left-T.left,De=A.left-Ie,Je=C.left-De,jt=C.width+Je,dr=Math.max(jt,T.width),br=window.innerWidth-Ir,es=pC(De,[Ir,Math.max(Ir,br-dr)]);a.style.minWidth=jt+"px",a.style.left=es+"px"}else{const Ie=T.right-P.right,De=window.innerWidth-A.right-Ie,Je=window.innerWidth-C.right-De,jt=C.width+Je,dr=Math.max(jt,T.width),br=window.innerWidth-Ir,es=pC(De,[Ir,Math.max(Ir,br-dr)]);a.style.minWidth=jt+"px",a.style.right=es+"px"}const O=m(),D=window.innerHeight-Ir*2,k=g.scrollHeight,z=window.getComputedStyle(c),J=parseInt(z.borderTopWidth,10),Z=parseInt(z.paddingTop,10),B=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),F=J+Z+k+L+B,G=Math.min(w.offsetHeight*5,F),re=window.getComputedStyle(g),ge=parseInt(re.paddingTop,10),Te=parseInt(re.paddingBottom,10),Ge=C.top+C.height/2-Ir,We=D-Ge,rt=w.offsetHeight/2,ue=w.offsetTop+rt,Se=J+Z+ue,Xe=F-Se;if(Se<=Ge){const Ie=O.length>0&&w===O[O.length-1].ref.current;a.style.bottom="0px";const De=c.clientHeight-g.offsetTop-g.offsetHeight,Je=Math.max(We,rt+(Ie?Te:0)+De+B),jt=Se+Je;a.style.height=jt+"px"}else{const Ie=O.length>0&&w===O[0].ref.current;a.style.top="0px";const Je=Math.max(Ge,J+g.offsetTop+(Ie?ge:0)+rt)+Xe;a.style.height=Je+"px",g.scrollTop=Se-Ge+g.offsetTop}a.style.margin=`${Ir}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,c,g,w,E,i.dir,r]);nt(()=>x(),[x]);const[I,N]=h.useState();nt(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const M=h.useCallback(C=>{C&&S.current===!0&&(x(),_==null||_(),S.current=!1)},[x,_]);return d.jsx(yK,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(zt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CO.displayName=gK;var vK="SelectPopperPosition",j_=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ir,...i}=t,o=ig(n);return d.jsx(S7,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});j_.displayName=vK;var[yK,RE]=Ic(ba,{}),L_="SelectViewport",IO=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Mo(L_,n),o=RE(L_,n),a=un(e,i.onViewportChange),l=h.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(rg.Slot,{scope:n,children:d.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Vt(s.onScroll,c=>{const f=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const y=Math.abs(l.current-f.scrollTop);if(y>0){const S=window.innerHeight-Ir*2,g=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),E=Math.max(g,w);if(E<S){const _=E+y,x=Math.min(S,_),I=_-x;p.style.height=x+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});IO.displayName=L_;var PO="SelectGroup",[_K,wK]=Ic(PO),EK=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_r();return d.jsx(_K,{scope:n,id:s,children:d.jsx(zt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});EK.displayName=PO;var AO="SelectLabel",RO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=wK(AO,n);return d.jsx(zt.div,{id:s.id,...r,ref:e})});RO.displayName=AO;var Lp="SelectItem",[xK,kO]=Ic(Lp),NO=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Oo(Lp,n),l=Mo(Lp,n),c=a.value===r,[f,p]=h.useState(i??""),[m,y]=h.useState(!1),S=un(e,_=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,_,r,s)}),g=_r(),w=h.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(xK,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:h.useCallback(_=>{p(x=>x||((_==null?void 0:_.textContent)??"").trim())},[]),children:d.jsx(rg.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:d.jsx(zt.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:Vt(o.onFocus,()=>y(!0)),onBlur:Vt(o.onBlur,()=>y(!1)),onClick:Vt(o.onClick,()=>{w.current!=="mouse"&&E()}),onPointerUp:Vt(o.onPointerUp,()=>{w.current==="mouse"&&E()}),onPointerDown:Vt(o.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Vt(o.onPointerMove,_=>{var x;w.current=_.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(o.onPointerLeave,_=>{var x;_.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Vt(o.onKeyDown,_=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(lK.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});NO.displayName=Lp;var fu="SelectItemText",DO=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Oo(fu,n),a=Mo(fu,n),l=kO(fu,n),c=fK(fu,n),[f,p]=h.useState(null),m=un(e,E=>p(E),l.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,l.value,l.disabled)}),y=f==null?void 0:f.textContent,S=h.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return nt(()=>(g(S),()=>w(S)),[g,w,S]),d.jsxs(d.Fragment,{children:[d.jsx(zt.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?As.createPortal(i.children,o.valueNode):null]})});DO.displayName=fu;var OO="SelectItemIndicator",MO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kO(OO,n).isSelected?d.jsx(zt.span,{"aria-hidden":!0,...r,ref:e}):null});MO.displayName=OO;var V_="SelectScrollUpButton",jO=h.forwardRef((t,e)=>{const n=Mo(V_,t.__scopeSelect),r=RE(V_,t.__scopeSelect),[s,i]=h.useState(!1),o=un(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(VO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});jO.displayName=V_;var F_="SelectScrollDownButton",LO=h.forwardRef((t,e)=>{const n=Mo(F_,t.__scopeSelect),r=RE(F_,t.__scopeSelect),[s,i]=h.useState(!1),o=un(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;i(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(VO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});LO.displayName=F_;var VO=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Mo("SelectScrollButton",n),o=h.useRef(null),a=sg(n),l=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),nt(()=>{var f;const c=a().find(p=>p.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(zt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Vt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Vt(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Vt(s.onPointerLeave,()=>{l()})})}),SK="SelectSeparator",FO=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(zt.div,{"aria-hidden":!0,...r,ref:e})});FO.displayName=SK;var $_="SelectArrow",bK=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ig(n),i=Oo($_,n),o=Mo($_,n);return i.open&&o.position==="popper"?d.jsx(b7,{...s,...r,ref:e}):null});bK.displayName=$_;function $O(t){return t===""||t===void 0}var UO=h.forwardRef((t,e)=>{const{value:n,...r}=t,s=h.useRef(null),i=un(e,s),o=aO(n);return h.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&f){const p=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(p)}},[o,n]),d.jsx(lO,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});UO.displayName="BubbleSelect";function BO(t){const e=at(t),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function WO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=TK(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function TK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var CK=gO,zO=yO,IK=wO,PK=EO,AK=xO,HO=SO,RK=IO,qO=RO,KO=NO,kK=DO,NK=MO,GO=jO,QO=LO,YO=FO;const wr=CK,Er=IK,nr=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(zO,{ref:r,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(PK,{asChild:!0,children:d.jsx(KA,{className:"h-4 w-4 opacity-50"})})]}));nr.displayName=zO.displayName;const ZO=h.forwardRef(({className:t,...e},n)=>d.jsx(GO,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(rU,{className:"h-4 w-4"})}));ZO.displayName=GO.displayName;const XO=h.forwardRef(({className:t,...e},n)=>d.jsx(QO,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(KA,{className:"h-4 w-4"})}));XO.displayName=QO.displayName;const rr=h.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(AK,{children:d.jsxs(HO,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(ZO,{}),d.jsx(RK,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(XO,{})]})}));rr.displayName=HO.displayName;const DK=h.forwardRef(({className:t,...e},n)=>d.jsx(qO,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));DK.displayName=qO.displayName;const $t=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(KO,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(NK,{children:d.jsx(qA,{className:"h-4 w-4"})})}),d.jsx(kK,{children:e})]}));$t.displayName=KO.displayName;const OK=h.forwardRef(({className:t,...e},n)=>d.jsx(YO,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));OK.displayName=YO.displayName;const Vp=h.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:fe("w-full caption-bottom text-sm",t),...e})}));Vp.displayName="Table";const Fp=h.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:fe("[&_tr]:border-b",t),...e}));Fp.displayName="TableHeader";const $p=h.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:fe("[&_tr:last-child]:border-0",t),...e}));$p.displayName="TableBody";const MK=h.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));MK.displayName="TableFooter";const Zo=h.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Zo.displayName="TableRow";const cs=h.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));cs.displayName="TableHead";const us=h.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));us.displayName="TableCell";const jK=h.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));jK.displayName="TableCaption";function LK(){const[,t]=di(),[e,n]=h.useState(null),[r,s]=h.useState("1"),[i,o]=h.useState("1"),[a,l]=h.useState([]),[c,f]=h.useState([]);h.useEffect(()=>{const m=qr.currentUser;if(!m){t("/");return}(async()=>{try{const S=Qe(ot,Ft.students),g=Wt(S,mt("authUid","==",m.uid)),w=await wt(g);if(!w.empty){const E=w.docs[0],_={id:E.id,...E.data()};n(_);const x=Qe(ot,"subjects"),I=Wt(x,mt("semester","==",parseInt(r)),mt("branch","==",_.branch)),N=x_(I,A=>{const P=A.docs.map(O=>({id:O.id,...O.data()}));l(P)}),M=Qe(ot,"midMarks"),C=Wt(M,mt("studentId","==",E.id),mt("semester","==",parseInt(r)),mt("midNumber","==",parseInt(i))),T=x_(C,A=>{const P=A.docs.map(O=>({id:O.id,...O.data()}));f(P)});return()=>{N(),T()}}}catch(S){console.error("Error fetching data:",S)}})()},[t,r,i]);const p=m=>{const y=c.find(S=>S.subjectId===m);return y?y.marks:"-"};return e?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Results"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(xt,{variant:"outline",asChild:!0,children:d.jsxs("a",{href:"https://jntuhresults.vercel.app/",target:"_blank",rel:"noopener noreferrer",children:["JNTUH Results (Server 1)",d.jsx(lp,{className:"ml-2 h-4 w-4"})]})}),d.jsx(xt,{variant:"outline",asChild:!0,children:d.jsxs("a",{href:"http://results.jntuh.ac.in/results/",target:"_blank",rel:"noopener noreferrer",children:["JNTUH Results (Server 2)",d.jsx(lp,{className:"ml-2 h-4 w-4"})]})})]})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Filter Results"})}),d.jsx(ut,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Semester"}),d.jsxs(wr,{value:r,onValueChange:s,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select semester"})}),d.jsx(rr,{children:[1,2,3,4,5,6,7,8].map(m=>d.jsxs($t,{value:m.toString(),children:["Semester ",m]},m))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Mid Exam"}),d.jsxs(wr,{value:i,onValueChange:o,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select mid exam"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"1",children:"Mid-1"}),d.jsx($t,{value:"2",children:"Mid-2"})]})]})]})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsxs(yt,{children:["Semester ",r," - Mid ",i," Results"]})}),d.jsx(ut,{children:a.length>0?d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vp,{children:[d.jsx(Fp,{children:d.jsxs(Zo,{children:[d.jsx(cs,{children:"Subject Code"}),d.jsx(cs,{children:"Subject Name"}),d.jsx(cs,{className:"text-right",children:"Marks (Max: 30)"})]})}),d.jsx($p,{children:a.map(m=>d.jsxs(Zo,{children:[d.jsx(us,{children:m.code}),d.jsx(us,{children:m.name}),d.jsx(us,{className:"text-right font-medium",children:p(m.id)})]},m.id))})]})}):d.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subjects found for the selected semester"})})]})]}):d.jsx("div",{children:"Loading..."})}function VK(){const[,t]=di(),[e,n]=h.useState({totalStudents:0,totalAttendance:0,branches:[]});return h.useEffect(()=>{if(!qr.currentUser){t("/");return}(async()=>{try{const i=Qe(ot,Ft.students),o=await wt(i);if(!o.empty){const a=o.docs.map(w=>({id:w.id,...w.data()})),l=[...new Set(a.map(w=>w.branch))],c=new Date;c.setHours(0,0,0,0);const f=Qe(ot,Ft.attendance),p=Wt(f,mt("date",">=",c)),m=await wt(p);let y=0,S=0;for(const w of m.docs){const E=Qe(w.ref,"records");(await wt(E)).docs.forEach(x=>{S++,x.data().present&&y++})}const g=S>0?y/S*100:0;n({totalStudents:a.length,totalAttendance:Math.round(g),branches:l})}}catch(i){console.error("Error fetching stats:",i)}})()},[t]),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Admin Dashboard"}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(ct,{children:[d.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yt,{className:"text-sm font-medium",children:"Total Students"}),d.jsx(Ib,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(ut,{children:d.jsx("div",{className:"text-2xl font-bold",children:e.totalStudents})})]}),d.jsxs(ct,{children:[d.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yt,{className:"text-sm font-medium",children:"Total Branches"}),d.jsx(Ib,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(ut,{children:d.jsx("div",{className:"text-2xl font-bold",children:e.branches.length})})]}),d.jsxs(ct,{children:[d.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yt,{className:"text-sm font-medium",children:"Today's Attendance"}),d.jsx(Cb,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(ut,{children:d.jsxs("div",{className:"text-2xl font-bold",children:[e.totalAttendance,"%"]})})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Quick Actions"})}),d.jsxs(ut,{className:"space-y-4",children:[d.jsx(xt,{asChild:!0,className:"w-full",children:d.jsxs(Lf,{href:"/admin/students",children:[d.jsx(YA,{className:"mr-2 h-4 w-4"}),"Add New Student"]})}),d.jsx(xt,{asChild:!0,className:"w-full",children:d.jsxs(Lf,{href:"/admin/attendance",children:[d.jsx(Cb,{className:"mr-2 h-4 w-4"}),"Mark Attendance"]})}),d.jsx(xt,{asChild:!0,className:"w-full",children:d.jsxs(Lf,{href:"/admin/mid-marks",children:[d.jsx(GA,{className:"mr-2 h-4 w-4"}),"Manage Mid Marks"]})})]})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Branch Overview"})}),d.jsx(ut,{children:d.jsx("div",{className:"space-y-2",children:e.branches.map(r=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:r}),d.jsx(xt,{variant:"ghost",asChild:!0,children:d.jsx(Lf,{href:`/admin/students?branch=${r}`,children:"View Students"})})]},r))})})]})]})]})}var Qd=t=>t.type==="checkbox",Xo=t=>t instanceof Date,Pn=t=>t==null;const JO=t=>typeof t=="object";var Ot=t=>!Pn(t)&&!Array.isArray(t)&&JO(t)&&!Xo(t),eM=t=>Ot(t)&&t.target?Qd(t.target)?t.target.checked:t.target.value:t,FK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tM=(t,e)=>t.has(FK(e)),$K=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},kE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(kE&&(t instanceof Blob||r))&&(n||Ot(t)))if(e=n?[]:{},!n&&!$K(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=jn(t[s]));else return t;return e}var og=t=>Array.isArray(t)?t.filter(Boolean):[],Nt=t=>t===void 0,te=(t,e,n)=>{if(!e||!Ot(t))return n;const r=og(e.split(/[,[\].]+?/)).reduce((s,i)=>Pn(s)?s:s[i],t);return Nt(r)||r===t?Nt(t[e])?n:t[e]:r},hr=t=>typeof t=="boolean",NE=t=>/^\w*$/.test(t),nM=t=>og(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(t,e,n)=>{let r=-1;const s=NE(e)?[e]:nM(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Ot(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const Up={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rM=me.createContext(null),ag=()=>me.useContext(rM),UK=t=>{const{children:e,...n}=t;return me.createElement(rM.Provider,{value:n},e)};var sM=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Lr.all&&(e._proxyFormState[o]=!r||Lr.all),n&&(n[o]=!0),t[o]}});return s},Ln=t=>Ot(t)&&!Object.keys(t).length,iM=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ln(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Lr.all))},Ru=t=>Array.isArray(t)?t:[t],oM=(t,e,n)=>!t||!e||t===e||Ru(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function DE(t){const e=me.useRef(t);e.current=t,me.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function BK(t){const e=ag(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=me.useState(n._formState),l=me.useRef(!0),c=me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=me.useRef(s);return f.current=s,DE({disabled:r,next:p=>l.current&&oM(f.current,p.name,i)&&iM(p,c.current,n._updateFormState)&&a({...n._formState,...p}),subject:n._subjects.state}),me.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),me.useMemo(()=>sM(o,n,c.current,!1),[o,n])}var ps=t=>typeof t=="string",aM=(t,e,n,r,s)=>ps(t)?(r&&e.watch.add(t),te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),te(n,i))):(r&&(e.watchAll=!0),n);function WK(t){const e=ag(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=me.useRef(r);a.current=r,DE({disabled:i,subject:n._subjects.values,next:f=>{oM(a.current,f.name,o)&&c(jn(aM(a.current,n._names,f.values||n._formValues,!1,s)))}});const[l,c]=me.useState(n._getWatch(r,s));return me.useEffect(()=>n._removeUnmounted()),l}function zK(t){const e=ag(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=tM(s._names.array,n),a=WK({control:s,name:n,defaultValue:te(s._formValues,n,te(s._defaultValues,n,t.defaultValue)),exact:!0}),l=BK({control:s,name:n,exact:!0}),c=me.useRef(s.register(n,{...t.rules,value:a,...hr(t.disabled)?{disabled:t.disabled}:{}})),f=me.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!te(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!te(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!te(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!te(l.validatingFields,n)},error:{enumerable:!0,get:()=>te(l.errors,n)}}),[l,n]),p=me.useMemo(()=>({name:n,value:a,...hr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:m=>c.current.onChange({target:{value:eM(m),name:n},type:Up.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:te(s._formValues,n),name:n},type:Up.BLUR}),ref:m=>{const y=te(s._fields,n);y&&m&&(y._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:S=>m.setCustomValidity(S),reportValidity:()=>m.reportValidity()})}}),[n,s._formValues,r,l.disabled,a,s._fields]);return me.useEffect(()=>{const m=s._options.shouldUnregister||i,y=(S,g)=>{const w=te(s._fields,S);w&&w._f&&(w._f.mount=g)};if(y(n,!0),m){const S=jn(te(s._options.defaultValues,n));Ye(s._defaultValues,n,S),Nt(te(s._formValues,n))&&Ye(s._formValues,n,S)}return!o&&s.register(n),()=>{(o?m&&!s._state.action:m)?s.unregister(n):y(n,!1)}},[n,s,o,i]),me.useEffect(()=>{s._updateDisabledField({disabled:r,fields:s._fields,name:n})},[r,n,s]),me.useMemo(()=>({field:p,formState:l,fieldState:f}),[p,l,f])}const HK=t=>t.render(zK(t));var lM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},jC=t=>({isOnSubmit:!t||t===Lr.onSubmit,isOnBlur:t===Lr.onBlur,isOnChange:t===Lr.onChange,isOnAll:t===Lr.all,isOnTouch:t===Lr.onTouched}),LC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ku=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=te(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ku(a,e))break}else if(Ot(a)&&ku(a,e))break}}};var qK=(t,e,n)=>{const r=Ru(te(t,n));return Ye(r,"root",e[n]),Ye(t,n,r),t},OE=t=>t.type==="file",fs=t=>typeof t=="function",Bp=t=>{if(!kE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mh=t=>ps(t),ME=t=>t.type==="radio",Wp=t=>t instanceof RegExp;const VC={value:!1,isValid:!1},FC={value:!0,isValid:!0};var cM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nt(t[0].attributes.value)?Nt(t[0].value)||t[0].value===""?FC:{value:t[0].value,isValid:!0}:FC:VC}return VC};const $C={isValid:!1,value:null};var uM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$C):$C;function UC(t,e,n="validate"){if(Mh(t)||Array.isArray(t)&&t.every(Mh)||hr(t)&&!t)return{type:n,message:Mh(t)?t:"",ref:e}}var Ka=t=>Ot(t)&&!Wp(t)?t:{value:t,message:""},BC=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:f,min:p,max:m,pattern:y,validate:S,name:g,valueAsNumber:w,mount:E}=t._f,_=te(n,g);if(!E||e.has(g))return{};const x=a?a[0]:o,I=D=>{s&&x.reportValidity&&(x.setCustomValidity(hr(D)?"":D||""),x.reportValidity())},N={},M=ME(o),C=Qd(o),T=M||C,A=(w||OE(o))&&Nt(o.value)&&Nt(_)||Bp(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,P=lM.bind(null,g,r,N),O=(D,k,z,J=Ms.maxLength,Z=Ms.minLength)=>{const B=D?k:z;N[g]={type:D?J:Z,message:B,ref:o,...P(D?J:Z,B)}};if(i?!Array.isArray(_)||!_.length:l&&(!T&&(A||Pn(_))||hr(_)&&!_||C&&!cM(a).isValid||M&&!uM(a).isValid)){const{value:D,message:k}=Mh(l)?{value:!!l,message:l}:Ka(l);if(D&&(N[g]={type:Ms.required,message:k,ref:x,...P(Ms.required,k)},!r))return I(k),N}if(!A&&(!Pn(p)||!Pn(m))){let D,k;const z=Ka(m),J=Ka(p);if(!Pn(_)&&!isNaN(_)){const Z=o.valueAsNumber||_&&+_;Pn(z.value)||(D=Z>z.value),Pn(J.value)||(k=Z<J.value)}else{const Z=o.valueAsDate||new Date(_),B=G=>new Date(new Date().toDateString()+" "+G),L=o.type=="time",F=o.type=="week";ps(z.value)&&_&&(D=L?B(_)>B(z.value):F?_>z.value:Z>new Date(z.value)),ps(J.value)&&_&&(k=L?B(_)<B(J.value):F?_<J.value:Z<new Date(J.value))}if((D||k)&&(O(!!D,z.message,J.message,Ms.max,Ms.min),!r))return I(N[g].message),N}if((c||f)&&!A&&(ps(_)||i&&Array.isArray(_))){const D=Ka(c),k=Ka(f),z=!Pn(D.value)&&_.length>+D.value,J=!Pn(k.value)&&_.length<+k.value;if((z||J)&&(O(z,D.message,k.message),!r))return I(N[g].message),N}if(y&&!A&&ps(_)){const{value:D,message:k}=Ka(y);if(Wp(D)&&!_.match(D)&&(N[g]={type:Ms.pattern,message:k,ref:o,...P(Ms.pattern,k)},!r))return I(k),N}if(S){if(fs(S)){const D=await S(_,n),k=UC(D,x);if(k&&(N[g]={...k,...P(Ms.validate,k.message)},!r))return I(k.message),N}else if(Ot(S)){let D={};for(const k in S){if(!Ln(D)&&!r)break;const z=UC(await S[k](_,n),x,k);z&&(D={...z,...P(k,z.message)},I(z.message),r&&(N[g]=D))}if(!Ln(D)&&(N[g]={ref:x,...D},!r))return N}}return I(!0),N};function KK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Nt(t)?r++:t[e[r++]];return t}function GK(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nt(t[e]))return!1;return!0}function Ht(t,e){const n=Array.isArray(e)?e:NE(e)?[e]:nM(e),r=n.length===1?t:KK(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ot(r)&&Ln(r)||Array.isArray(r)&&GK(r))&&Ht(t,n.slice(0,-1)),t}var Dv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},U_=t=>Pn(t)||!JO(t);function Li(t,e){if(U_(t)||U_(e))return t===e;if(Xo(t)&&Xo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Xo(i)&&Xo(o)||Ot(i)&&Ot(o)||Array.isArray(i)&&Array.isArray(o)?!Li(i,o):i!==o)return!1}}return!0}var dM=t=>t.type==="select-multiple",QK=t=>ME(t)||Qd(t),Ov=t=>Bp(t)&&t.isConnected,fM=t=>{for(const e in t)if(fs(t[e]))return!0;return!1};function zp(t,e={}){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!fM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},zp(t[r],e[r])):Pn(t[r])||(e[r]=!0);return e}function hM(t,e,n){const r=Array.isArray(t);if(Ot(t)||r)for(const s in t)Array.isArray(t[s])||Ot(t[s])&&!fM(t[s])?Nt(e)||U_(n[s])?n[s]=Array.isArray(t[s])?zp(t[s],[]):{...zp(t[s])}:hM(t[s],Pn(e)?{}:e[s],n[s]):n[s]=!Li(t[s],e[s]);return n}var eu=(t,e)=>hM(t,e,zp(e)),pM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Nt(t)?t:e?t===""?NaN:t&&+t:n&&ps(t)?new Date(t):r?r(t):t;function Mv(t){const e=t.ref;return OE(e)?e.files:ME(e)?uM(t.refs).value:dM(e)?[...e.selectedOptions].map(({value:n})=>n):Qd(e)?cM(t.refs).value:pM(Nt(e.value)?t.ref.value:e.value,t)}var YK=(t,e,n,r)=>{const s={};for(const i of t){const o=te(e,i);o&&Ye(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},tu=t=>Nt(t)?t:Wp(t)?t.source:Ot(t)?Wp(t.value)?t.value.source:t.value:t;const WC="AsyncFunction";var ZK=t=>!!t&&!!t.validate&&!!(fs(t.validate)&&t.validate.constructor.name===WC||Ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===WC)),XK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zC(t,e,n){const r=te(t,n);if(r||NE(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=te(e,i),a=te(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var JK=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,eG=(t,e)=>!og(te(t,e)).length&&Ht(t,e);const tG={mode:Lr.onSubmit,reValidateMode:Lr.onChange,shouldFocusError:!0};function nG(t={}){let e={...tG,...t},n={submitCount:0,isDirty:!1,isLoading:fs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ot(e.defaultValues)||Ot(e.values)?jn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:jn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Dv(),array:Dv(),state:Dv()},m=jC(e.mode),y=jC(e.reValidateMode),S=e.criteriaMode===Lr.all,g=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},w=async j=>{if(!e.disabled&&(f.isValid||j)){const $=e.resolver?Ln((await T()).errors):await P(r,!0);$!==n.isValid&&p.state.next({isValid:$})}},E=(j,$)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((j||Array.from(a.mount)).forEach(W=>{W&&($?Ye(n.validatingFields,W,$):Ht(n.validatingFields,W))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ln(n.validatingFields)}))},_=(j,$=[],W,ie,ne=!0,X=!0)=>{if(ie&&W&&!e.disabled){if(o.action=!0,X&&Array.isArray(te(r,j))){const he=W(te(r,j),ie.argA,ie.argB);ne&&Ye(r,j,he)}if(X&&Array.isArray(te(n.errors,j))){const he=W(te(n.errors,j),ie.argA,ie.argB);ne&&Ye(n.errors,j,he),eG(n.errors,j)}if(f.touchedFields&&X&&Array.isArray(te(n.touchedFields,j))){const he=W(te(n.touchedFields,j),ie.argA,ie.argB);ne&&Ye(n.touchedFields,j,he)}f.dirtyFields&&(n.dirtyFields=eu(s,i)),p.state.next({name:j,isDirty:D(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ye(i,j,$)},x=(j,$)=>{Ye(n.errors,j,$),p.state.next({errors:n.errors})},I=j=>{n.errors=j,p.state.next({errors:n.errors,isValid:!1})},N=(j,$,W,ie)=>{const ne=te(r,j);if(ne){const X=te(i,j,Nt(W)?te(s,j):W);Nt(X)||ie&&ie.defaultChecked||$?Ye(i,j,$?X:Mv(ne._f)):J(j,X),o.mount&&w()}},M=(j,$,W,ie,ne)=>{let X=!1,he=!1;const Re={name:j};if(!e.disabled){const Ve=!!(te(r,j)&&te(r,j)._f&&te(r,j)._f.disabled);if(!W||ie){f.isDirty&&(he=n.isDirty,n.isDirty=Re.isDirty=D(),X=he!==Re.isDirty);const $e=Ve||Li(te(s,j),$);he=!!(!Ve&&te(n.dirtyFields,j)),$e||Ve?Ht(n.dirtyFields,j):Ye(n.dirtyFields,j,!0),Re.dirtyFields=n.dirtyFields,X=X||f.dirtyFields&&he!==!$e}if(W){const $e=te(n.touchedFields,j);$e||(Ye(n.touchedFields,j,W),Re.touchedFields=n.touchedFields,X=X||f.touchedFields&&$e!==W)}X&&ne&&p.state.next(Re)}return X?Re:{}},C=(j,$,W,ie)=>{const ne=te(n.errors,j),X=f.isValid&&hr($)&&n.isValid!==$;if(e.delayError&&W?(l=g(()=>x(j,W)),l(e.delayError)):(clearTimeout(c),l=null,W?Ye(n.errors,j,W):Ht(n.errors,j)),(W?!Li(ne,W):ne)||!Ln(ie)||X){const he={...ie,...X&&hr($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,...he},p.state.next(he)}},T=async j=>{E(j,!0);const $=await e.resolver(i,e.context,YK(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(j),$},A=async j=>{const{errors:$}=await T(j);if(j)for(const W of j){const ie=te($,W);ie?Ye(n.errors,W,ie):Ht(n.errors,W)}else n.errors=$;return $},P=async(j,$,W={valid:!0})=>{for(const ie in j){const ne=j[ie];if(ne){const{_f:X,...he}=ne;if(X){const Re=a.array.has(X.name),Ve=ne._f&&ZK(ne._f);Ve&&f.validatingFields&&E([ie],!0);const $e=await BC(ne,a.disabled,i,S,e.shouldUseNativeValidation&&!$,Re);if(Ve&&f.validatingFields&&E([ie]),$e[X.name]&&(W.valid=!1,$))break;!$&&(te($e,X.name)?Re?qK(n.errors,$e,X.name):Ye(n.errors,X.name,$e[X.name]):Ht(n.errors,X.name))}!Ln(he)&&await P(he,$,W)}}return W.valid},O=()=>{for(const j of a.unMount){const $=te(r,j);$&&($._f.refs?$._f.refs.every(W=>!Ov(W)):!Ov($._f.ref))&&rt(j)}a.unMount=new Set},D=(j,$)=>!e.disabled&&(j&&$&&Ye(i,j,$),!Li(re(),s)),k=(j,$,W)=>aM(j,a,{...o.mount?i:Nt($)?s:ps(j)?{[j]:$}:$},W,$),z=j=>og(te(o.mount?i:s,j,e.shouldUnregister?te(s,j,[]):[])),J=(j,$,W={})=>{const ie=te(r,j);let ne=$;if(ie){const X=ie._f;X&&(!X.disabled&&Ye(i,j,pM($,X)),ne=Bp(X.ref)&&Pn($)?"":$,dM(X.ref)?[...X.ref.options].forEach(he=>he.selected=ne.includes(he.value)):X.refs?Qd(X.ref)?X.refs.length>1?X.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(ne)?!!ne.find(Re=>Re===he.value):ne===he.value)):X.refs[0]&&(X.refs[0].checked=!!ne):X.refs.forEach(he=>he.checked=he.value===ne):OE(X.ref)?X.ref.value="":(X.ref.value=ne,X.ref.type||p.values.next({name:j,values:{...i}})))}(W.shouldDirty||W.shouldTouch)&&M(j,ne,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&G(j)},Z=(j,$,W)=>{for(const ie in $){const ne=$[ie],X=`${j}.${ie}`,he=te(r,X);(a.array.has(j)||Ot(ne)||he&&!he._f)&&!Xo(ne)?Z(X,ne,W):J(X,ne,W)}},B=(j,$,W={})=>{const ie=te(r,j),ne=a.array.has(j),X=jn($);Ye(i,j,X),ne?(p.array.next({name:j,values:{...i}}),(f.isDirty||f.dirtyFields)&&W.shouldDirty&&p.state.next({name:j,dirtyFields:eu(s,i),isDirty:D(j,X)})):ie&&!ie._f&&!Pn(X)?Z(j,X,W):J(j,X,W),LC(j,a)&&p.state.next({...n}),p.values.next({name:o.mount?j:void 0,values:{...i}})},L=async j=>{o.mount=!0;const $=j.target;let W=$.name,ie=!0;const ne=te(r,W),X=()=>$.type?Mv(ne._f):eM(j),he=Re=>{ie=Number.isNaN(Re)||Xo(Re)&&isNaN(Re.getTime())||Li(Re,te(i,W,Re))};if(ne){let Re,Ve;const $e=X(),Gn=j.type===Up.BLUR||j.type===Up.FOCUS_OUT,tf=!XK(ne._f)&&!e.resolver&&!te(n.errors,W)&&!ne._f.deps||JK(Gn,te(n.touchedFields,W),n.isSubmitted,y,m),ja=LC(W,a,Gn);Ye(i,W,$e),Gn?(ne._f.onBlur&&ne._f.onBlur(j),l&&l(0)):ne._f.onChange&&ne._f.onChange(j);const Pc=M(W,$e,Gn,!1),Vo=!Ln(Pc)||ja;if(!Gn&&p.values.next({name:W,type:j.type,values:{...i}}),tf)return f.isValid&&(e.mode==="onBlur"&&Gn?w():Gn||w()),Vo&&p.state.next({name:W,...ja?{}:Pc});if(!Gn&&ja&&p.state.next({...n}),e.resolver){const{errors:Ac}=await T([W]);if(he($e),ie){const nf=zC(n.errors,r,W),La=zC(Ac,r,nf.name||W);Re=La.error,W=La.name,Ve=Ln(Ac)}}else E([W],!0),Re=(await BC(ne,a.disabled,i,S,e.shouldUseNativeValidation))[W],E([W]),he($e),ie&&(Re?Ve=!1:f.isValid&&(Ve=await P(r,!0)));ie&&(ne._f.deps&&G(ne._f.deps),C(W,Ve,Re,Pc))}},F=(j,$)=>{if(te(n.errors,$)&&j.focus)return j.focus(),1},G=async(j,$={})=>{let W,ie;const ne=Ru(j);if(e.resolver){const X=await A(Nt(j)?j:ne);W=Ln(X),ie=j?!ne.some(he=>te(X,he)):W}else j?(ie=(await Promise.all(ne.map(async X=>{const he=te(r,X);return await P(he&&he._f?{[X]:he}:he)}))).every(Boolean),!(!ie&&!n.isValid)&&w()):ie=W=await P(r);return p.state.next({...!ps(j)||f.isValid&&W!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:W}:{},errors:n.errors}),$.shouldFocus&&!ie&&ku(r,F,j?ne:a.mount),ie},re=j=>{const $={...o.mount?i:s};return Nt(j)?$:ps(j)?te($,j):j.map(W=>te($,W))},ge=(j,$)=>({invalid:!!te(($||n).errors,j),isDirty:!!te(($||n).dirtyFields,j),error:te(($||n).errors,j),isValidating:!!te(n.validatingFields,j),isTouched:!!te(($||n).touchedFields,j)}),Te=j=>{j&&Ru(j).forEach($=>Ht(n.errors,$)),p.state.next({errors:j?n.errors:{}})},Ge=(j,$,W)=>{const ie=(te(r,j,{_f:{}})._f||{}).ref,ne=te(n.errors,j)||{},{ref:X,message:he,type:Re,...Ve}=ne;Ye(n.errors,j,{...Ve,...$,ref:ie}),p.state.next({name:j,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},We=(j,$)=>fs(j)?p.values.subscribe({next:W=>j(k(void 0,$),W)}):k(j,$,!0),rt=(j,$={})=>{for(const W of j?Ru(j):a.mount)a.mount.delete(W),a.array.delete(W),$.keepValue||(Ht(r,W),Ht(i,W)),!$.keepError&&Ht(n.errors,W),!$.keepDirty&&Ht(n.dirtyFields,W),!$.keepTouched&&Ht(n.touchedFields,W),!$.keepIsValidating&&Ht(n.validatingFields,W),!e.shouldUnregister&&!$.keepDefaultValue&&Ht(s,W);p.values.next({values:{...i}}),p.state.next({...n,...$.keepDirty?{isDirty:D()}:{}}),!$.keepIsValid&&w()},ue=({disabled:j,name:$,field:W,fields:ie})=>{(hr(j)&&o.mount||j||a.disabled.has($))&&(j?a.disabled.add($):a.disabled.delete($),M($,Mv(W?W._f:te(ie,$)._f),!1,!1,!0))},Se=(j,$={})=>{let W=te(r,j);const ie=hr($.disabled)||hr(e.disabled);return Ye(r,j,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),W?ue({field:W,disabled:hr($.disabled)?$.disabled:e.disabled,name:j}):N(j,!0,$.value),{...ie?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:tu($.min),max:tu($.max),minLength:tu($.minLength),maxLength:tu($.maxLength),pattern:tu($.pattern)}:{},name:j,onChange:L,onBlur:L,ref:ne=>{if(ne){Se(j,$),W=te(r,j);const X=Nt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,he=QK(X),Re=W._f.refs||[];if(he?Re.find(Ve=>Ve===X):X===W._f.ref)return;Ye(r,j,{_f:{...W._f,...he?{refs:[...Re.filter(Ov),X,...Array.isArray(te(s,j))?[{}]:[]],ref:{type:X.type,name:j}}:{ref:X}}}),N(j,!1,void 0,X)}else W=te(r,j,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(tM(a.array,j)&&o.action)&&a.unMount.add(j)}}},Xe=()=>e.shouldFocusError&&ku(r,F,a.mount),Oe=j=>{hr(j)&&(p.state.next({disabled:j}),ku(r,($,W)=>{const ie=te(r,W);ie&&($.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ne=>{ne.disabled=ie._f.disabled||j}))},0,!1))},Ie=(j,$)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ne=jn(i);if(a.disabled.size)for(const X of a.disabled)Ye(ne,X,void 0);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:he}=await T();n.errors=X,ne=he}else await P(r);if(Ht(n.errors,"root"),Ln(n.errors)){p.state.next({errors:{}});try{await j(ne,W)}catch(X){ie=X}}else $&&await $({...n.errors},W),Xe(),setTimeout(Xe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ln(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},De=(j,$={})=>{te(r,j)&&(Nt($.defaultValue)?B(j,jn(te(s,j))):(B(j,$.defaultValue),Ye(s,j,jn($.defaultValue))),$.keepTouched||Ht(n.touchedFields,j),$.keepDirty||(Ht(n.dirtyFields,j),n.isDirty=$.defaultValue?D(j,jn(te(s,j))):D()),$.keepError||(Ht(n.errors,j),f.isValid&&w()),p.state.next({...n}))},Je=(j,$={})=>{const W=j?jn(j):s,ie=jn(W),ne=Ln(j),X=ne?s:ie;if($.keepDefaultValues||(s=W),!$.keepValues){if($.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(eu(s,i))]);for(const Re of Array.from(he))te(n.dirtyFields,Re)?Ye(X,Re,te(i,Re)):B(Re,te(X,Re))}else{if(kE&&Nt(j))for(const he of a.mount){const Re=te(r,he);if(Re&&Re._f){const Ve=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Bp(Ve)){const $e=Ve.closest("form");if($e){$e.reset();break}}}}r={}}i=e.shouldUnregister?$.keepDefaultValues?jn(s):{}:jn(X),p.array.next({values:{...X}}),p.values.next({values:{...X}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Li(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:$.keepDirtyValues?$.keepDefaultValues&&i?eu(s,i):n.dirtyFields:$.keepDefaultValues&&j?eu(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},jt=(j,$)=>Je(fs(j)?j(i):j,$);return{control:{register:Se,unregister:rt,getFieldState:ge,handleSubmit:Ie,setError:Ge,_executeSchema:T,_getWatch:k,_getDirty:D,_updateValid:w,_removeUnmounted:O,_updateFieldArray:_,_updateDisabledField:ue,_getFieldArray:z,_reset:Je,_resetDefaultValues:()=>fs(e.defaultValues)&&e.defaultValues().then(j=>{jt(j,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:Oe,_subjects:p,_proxyFormState:f,_setErrors:I,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:G,register:Se,handleSubmit:Ie,watch:We,setValue:B,getValues:re,reset:jt,resetField:De,clearErrors:Te,unregister:rt,setError:Ge,setFocus:(j,$={})=>{const W=te(r,j),ie=W&&W._f;if(ie){const ne=ie.refs?ie.refs[0]:ie.ref;ne.focus&&(ne.focus(),$.shouldSelect&&fs(ne.select)&&ne.select())}},getFieldState:ge}}function mM(t={}){const e=me.useRef(void 0),n=me.useRef(void 0),[r,s]=me.useState({isDirty:!1,isValidating:!1,isLoading:fs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:fs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...nG(t),formState:r});const i=e.current.control;return i._options=t,DE({subject:i._subjects.state,next:o=>{iM(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),me.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),me.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),me.useEffect(()=>{t.values&&!Li(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),me.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),me.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),me.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=sM(r,i),e.current}const HC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},gM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?HC(r.ref,n,t):r.refs&&r.refs.forEach(s=>HC(s,n,t))}},rG=(t,e)=>{e.shouldUseNativeValidation&&gM(t,e);const n={};for(const r in t){const s=te(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(sG(e.names||Object.keys(t),r)){const o=Object.assign({},te(n,r));Ye(o,"root",i),Ye(n,r,o)}else Ye(n,r,i)}return n},sG=(t,e)=>t.some(n=>n.startsWith(e+"."));var iG=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=lM(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},vM=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&gM({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:rG(iG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Be;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Be||(Be={}));var B_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(B_||(B_={}));const oe=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},Q=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const lc=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Be.assertNever(t)}return{message:n}};let yM=lc;function aG(t){yM=t}function Hp(){return yM}const qp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},lG=[];function se(t,e){const n=Hp(),r=qp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===lc?void 0:lc].filter(s=>!!s)});t.common.issues.push(r)}class Sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return we;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Sn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return we;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),_l=t=>({status:"dirty",value:t}),Dn=t=>({status:"valid",value:t}),W_=t=>t.status==="aborted",z_=t=>t.status==="dirty",Ta=t=>t.status==="valid",fd=t=>typeof Promise<"u"&&t instanceof Promise;function Kp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _M(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));var hu,pu;class Is{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qC=(t,e)=>{if(Ta(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function Ae(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ne{get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sn,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return qC(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Ta(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Ta(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(fd(s)?s:Promise.resolve(s));return qC(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Yr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ss.create(this,this._def)}nullable(){return bo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Br.create(this)}promise(){return uc.create(this,this._def)}or(e){return gd.create([this,e],this._def)}and(e){return vd.create(this,e,this._def)}transform(e){return new Yr({...Ae(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new xd({...Ae(this._def),innerType:this,defaultValue:n,typeName:ve.ZodDefault})}brand(){return new jE({typeName:ve.ZodBranded,type:this,...Ae(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sd({...Ae(this._def),innerType:this,catchValue:n,typeName:ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Yd.create(this,e)}readonly(){return bd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cG=/^c[^\s-]{8,}$/i,uG=/^[0-9a-z]+$/,dG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hG=/^[a-z0-9_-]{21}$/i,pG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jv;const yG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bG=new RegExp(`^${wM}$`);function EM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function TG(t){return new RegExp(`^${EM(t)}$`)}function xM(t){let e=`${wM}T${EM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function CG(t,e){return!!((e==="v4"||!e)&&yG.test(t)||(e==="v6"||!e)&&wG.test(t))}function IG(t,e){if(!pG.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function PG(t,e){return!!((e==="v4"||!e)&&_G.test(t)||(e==="v6"||!e)&&EG.test(t))}class Vr extends Ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:oe.string,received:i.parsedType}),we}const r=new Sn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?se(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&se(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")gG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")jv||(jv=new RegExp(vG,"u")),jv.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")fG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")hG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")cG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")uG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")dG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),se(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?xM(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?bG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?TG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?mG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?CG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?IG(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?PG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?xG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?SG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):Be.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vr.create=t=>{var e;return new Vr({checks:[],typeName:ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ae(t)})};function AG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Eo extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:oe.number,received:i.parsedType}),we}let r;const s=new Sn;for(const i of this._def.checks)i.kind==="int"?Be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?AG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_finite,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new Eo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new Eo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Eo.create=t=>new Eo({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class xo extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new Sn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return se(n,{code:Q.invalid_type,expected:oe.bigint,received:n.parsedType}),we}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new xo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new xo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xo.create=t=>{var e;return new xo({checks:[],typeName:ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ae(t)})};class hd extends Ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.boolean,received:r.parsedType}),we}return Dn(e.data)}}hd.create=t=>new hd({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class Ca extends Ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_type,expected:oe.date,received:i.parsedType}),we}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return se(i,{code:Q.invalid_date}),we}const r=new Sn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Be.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ca.create=t=>new Ca({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...Ae(t)});class Gp extends Ne{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.symbol,received:r.parsedType}),we}return Dn(e.data)}}Gp.create=t=>new Gp({typeName:ve.ZodSymbol,...Ae(t)});class pd extends Ne{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.undefined,received:r.parsedType}),we}return Dn(e.data)}}pd.create=t=>new pd({typeName:ve.ZodUndefined,...Ae(t)});class md extends Ne{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.null,received:r.parsedType}),we}return Dn(e.data)}}md.create=t=>new md({typeName:ve.ZodNull,...Ae(t)});class cc extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return Dn(e.data)}}cc.create=t=>new cc({typeName:ve.ZodAny,...Ae(t)});class la extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dn(e.data)}}la.create=t=>new la({typeName:ve.ZodUnknown,...Ae(t)});class ci extends Ne{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:Q.invalid_type,expected:oe.never,received:n.parsedType}),we}}ci.create=t=>new ci({typeName:ve.ZodNever,...Ae(t)});class Qp extends Ne{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.void,received:r.parsedType}),we}return Dn(e.data)}}Qp.create=t=>new Qp({typeName:ve.ZodVoid,...Ae(t)});class Br extends Ne{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return se(n,{code:Q.invalid_type,expected:oe.array,received:n.parsedType}),we;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(se(n,{code:o?Q.too_big:Q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Is(n,o,n.path,a)))).then(o=>Sn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Is(n,o,n.path,a)));return Sn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Br({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Br({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Br({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Br.create=(t,e)=>new Br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Ae(e)});function sl(t){if(t instanceof St){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ss.create(sl(r))}return new St({...t._def,shape:()=>e})}else return t instanceof Br?new Br({...t._def,type:sl(t.element)}):t instanceof Ss?Ss.create(sl(t.unwrap())):t instanceof bo?bo.create(sl(t.unwrap())):t instanceof Ps?Ps.create(t.items.map(e=>sl(e))):t}class St extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Be.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==oe.object){const c=this._getOrReturnCtx(e);return se(c,{code:Q.invalid_type,expected:oe.object,received:c.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ci&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const f=i[c],p=s.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Is(s,p,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ci){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(c==="strict")a.length>0&&(se(s,{code:Q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of a){const p=s.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Is(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const p=await f.key,m=await f.value;c.push({key:p,value:m,alwaysSet:f.alwaysSet})}return c}).then(c=>Sn.mergeObjectSync(r,c)):Sn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const n={};return Be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}omit(e){const n={};return Be.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}deepPartial(){return sl(this)}partial(e){const n={};return Be.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new St({...this._def,shape:()=>n})}required(e){const n={};return Be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ss;)i=i._def.innerType;n[r]=i}}),new St({...this._def,shape:()=>n})}keyof(){return SM(Be.objectKeys(this.shape))}}St.create=(t,e)=>new St({shape:()=>t,unknownKeys:"strip",catchall:ci.create(),typeName:ve.ZodObject,...Ae(e)});St.strictCreate=(t,e)=>new St({shape:()=>t,unknownKeys:"strict",catchall:ci.create(),typeName:ve.ZodObject,...Ae(e)});St.lazycreate=(t,e)=>new St({shape:t,unknownKeys:"strip",catchall:ci.create(),typeName:ve.ZodObject,...Ae(e)});class gd extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new sr(a.ctx.common.issues));return se(n,{code:Q.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new sr(l));return se(n,{code:Q.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}gd.create=(t,e)=>new gd({options:t,typeName:ve.ZodUnion,...Ae(e)});const Vs=t=>t instanceof _d?Vs(t.schema):t instanceof Yr?Vs(t.innerType()):t instanceof wd?[t.value]:t instanceof So?t.options:t instanceof Ed?Be.objectValues(t.enum):t instanceof xd?Vs(t._def.innerType):t instanceof pd?[void 0]:t instanceof md?[null]:t instanceof Ss?[void 0,...Vs(t.unwrap())]:t instanceof bo?[null,...Vs(t.unwrap())]:t instanceof jE||t instanceof bd?Vs(t.unwrap()):t instanceof Sd?Vs(t._def.innerType):[];class lg extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return se(n,{code:Q.invalid_type,expected:oe.object,received:n.parsedType}),we;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Vs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new lg({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ae(r)})}}function H_(t,e){const n=Bs(t),r=Bs(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Be.objectKeys(e),i=Be.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=H_(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=H_(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vd extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(W_(i)||W_(o))return we;const a=H_(i.value,o.value);return a.valid?((z_(i)||z_(o))&&n.dirty(),{status:n.value,value:a.data}):(se(r,{code:Q.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vd.create=(t,e,n)=>new vd({left:t,right:e,typeName:ve.ZodIntersection,...Ae(n)});class Ps extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return se(r,{code:Q.invalid_type,expected:oe.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return se(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Is(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Sn.mergeArray(n,o)):Sn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ps({...this._def,rest:e})}}Ps.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ps({items:t,typeName:ve.ZodTuple,rest:null,...Ae(e)})};class yd extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return se(r,{code:Q.invalid_type,expected:oe.object,received:r.parsedType}),we;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Is(r,a,r.path,a)),value:o._parse(new Is(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Sn.mergeObjectAsync(n,s):Sn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ne?new yd({keyType:e,valueType:n,typeName:ve.ZodRecord,...Ae(r)}):new yd({keyType:Vr.create(),valueType:e,typeName:ve.ZodRecord,...Ae(n)})}}class Yp extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return se(r,{code:Q.invalid_type,expected:oe.map,received:r.parsedType}),we;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new Is(r,a,r.path,[c,"key"])),value:i._parse(new Is(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return we;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return we;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}}}}Yp.create=(t,e,n)=>new Yp({valueType:e,keyType:t,typeName:ve.ZodMap,...Ae(n)});class Ia extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return se(r,{code:Q.invalid_type,expected:oe.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const f of l){if(f.status==="aborted")return we;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new Is(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Ia({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new Ia({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ia.create=(t,e)=>new Ia({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...Ae(e)});class Dl extends Ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return se(n,{code:Q.invalid_type,expected:oe.function,received:n.parsedType}),we;function r(a,l){return qp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hp(),lc].filter(c=>!!c),issueData:{code:Q.invalid_arguments,argumentsError:l}})}function s(a,l){return qp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hp(),lc].filter(c=>!!c),issueData:{code:Q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof uc){const a=this;return Dn(async function(...l){const c=new sr([]),f=await a._def.args.parseAsync(l,i).catch(y=>{throw c.addIssue(r(l,y)),c}),p=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(p,i).catch(y=>{throw c.addIssue(s(p,y)),c})})}else{const a=this;return Dn(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new sr([r(l,c.error)]);const f=Reflect.apply(o,this,c.data),p=a._def.returns.safeParse(f,i);if(!p.success)throw new sr([s(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dl({...this._def,args:Ps.create(e).rest(la.create())})}returns(e){return new Dl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Dl({args:e||Ps.create([]).rest(la.create()),returns:n||la.create(),typeName:ve.ZodFunction,...Ae(r)})}}class _d extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_d.create=(t,e)=>new _d({getter:t,typeName:ve.ZodLazy,...Ae(e)});class wd extends Ne{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}wd.create=(t,e)=>new wd({value:t,typeName:ve.ZodLiteral,...Ae(e)});function SM(t,e){return new So({values:t,typeName:ve.ZodEnum,...Ae(e)})}class So extends Ne{constructor(){super(...arguments),hu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:Be.joinValues(r),received:n.parsedType,code:Q.invalid_type}),we}if(Kp(this,hu)||_M(this,hu,new Set(this._def.values)),!Kp(this,hu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:Q.invalid_enum_value,options:r}),we}return Dn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return So.create(e,{...this._def,...n})}exclude(e,n=this._def){return So.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hu=new WeakMap;So.create=SM;class Ed extends Ne{constructor(){super(...arguments),pu.set(this,void 0)}_parse(e){const n=Be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Be.objectValues(n);return se(r,{expected:Be.joinValues(s),received:r.parsedType,code:Q.invalid_type}),we}if(Kp(this,pu)||_M(this,pu,new Set(Be.getValidEnumValues(this._def.values))),!Kp(this,pu).has(e.data)){const s=Be.objectValues(n);return se(r,{received:r.data,code:Q.invalid_enum_value,options:s}),we}return Dn(e.data)}get enum(){return this._def.values}}pu=new WeakMap;Ed.create=(t,e)=>new Ed({values:t,typeName:ve.ZodNativeEnum,...Ae(e)});class uc extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return se(n,{code:Q.invalid_type,expected:oe.promise,received:n.parsedType}),we;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return Dn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}uc.create=(t,e)=>new uc({type:t,typeName:ve.ZodPromise,...Ae(e)});class Yr extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return we;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?we:l.status==="dirty"||n.value==="dirty"?_l(l.value):l});{if(n.value==="aborted")return we;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"||n.value==="dirty"?_l(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ta(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ta(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Be.assertNever(s)}}Yr.create=(t,e,n)=>new Yr({schema:t,typeName:ve.ZodEffects,effect:e,...Ae(n)});Yr.createWithPreprocess=(t,e,n)=>new Yr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...Ae(n)});class Ss extends Ne{_parse(e){return this._getType(e)===oe.undefined?Dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ss.create=(t,e)=>new Ss({innerType:t,typeName:ve.ZodOptional,...Ae(e)});class bo extends Ne{_parse(e){return this._getType(e)===oe.null?Dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bo.create=(t,e)=>new bo({innerType:t,typeName:ve.ZodNullable,...Ae(e)});class xd extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}xd.create=(t,e)=>new xd({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ae(e)});class Sd extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sd.create=(t,e)=>new Sd({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ae(e)});class Zp extends Ne{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return se(r,{code:Q.invalid_type,expected:oe.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}Zp.create=t=>new Zp({typeName:ve.ZodNaN,...Ae(t)});const RG=Symbol("zod_brand");class jE extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Yd extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),_l(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Yd({in:e,out:n,typeName:ve.ZodPipeline})}}class bd extends Ne{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ta(s)&&(s.value=Object.freeze(s.value)),s);return fd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}bd.create=(t,e)=>new bd({innerType:t,typeName:ve.ZodReadonly,...Ae(e)});function KC(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function bM(t,e={},n){return t?cc.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,f;if(!l){const p=KC(e,r),m=(f=(c=p.fatal)!==null&&c!==void 0?c:n)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...p,fatal:m})}});if(!a){const l=KC(e,r),c=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):cc.create()}const kG={object:St.lazycreate};var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const NG=(t,e={message:`Input not instance of ${t.name}`})=>bM(n=>n instanceof t,e),TM=Vr.create,CM=Eo.create,DG=Zp.create,OG=xo.create,IM=hd.create,MG=Ca.create,jG=Gp.create,LG=pd.create,VG=md.create,FG=cc.create,$G=la.create,UG=ci.create,BG=Qp.create,WG=Br.create,zG=St.create,HG=St.strictCreate,qG=gd.create,KG=lg.create,GG=vd.create,QG=Ps.create,YG=yd.create,ZG=Yp.create,XG=Ia.create,JG=Dl.create,eQ=_d.create,tQ=wd.create,nQ=So.create,rQ=Ed.create,sQ=uc.create,GC=Yr.create,iQ=Ss.create,oQ=bo.create,aQ=Yr.createWithPreprocess,lQ=Yd.create,cQ=()=>TM().optional(),uQ=()=>CM().optional(),dQ=()=>IM().optional(),fQ={string:t=>Vr.create({...t,coerce:!0}),number:t=>Eo.create({...t,coerce:!0}),boolean:t=>hd.create({...t,coerce:!0}),bigint:t=>xo.create({...t,coerce:!0}),date:t=>Ca.create({...t,coerce:!0})},hQ=we;var xe=Object.freeze({__proto__:null,defaultErrorMap:lc,setErrorMap:aG,getErrorMap:Hp,makeIssue:qp,EMPTY_PATH:lG,addIssueToContext:se,ParseStatus:Sn,INVALID:we,DIRTY:_l,OK:Dn,isAborted:W_,isDirty:z_,isValid:Ta,isAsync:fd,get util(){return Be},get objectUtil(){return B_},ZodParsedType:oe,getParsedType:Bs,ZodType:Ne,datetimeRegex:xM,ZodString:Vr,ZodNumber:Eo,ZodBigInt:xo,ZodBoolean:hd,ZodDate:Ca,ZodSymbol:Gp,ZodUndefined:pd,ZodNull:md,ZodAny:cc,ZodUnknown:la,ZodNever:ci,ZodVoid:Qp,ZodArray:Br,ZodObject:St,ZodUnion:gd,ZodDiscriminatedUnion:lg,ZodIntersection:vd,ZodTuple:Ps,ZodRecord:yd,ZodMap:Yp,ZodSet:Ia,ZodFunction:Dl,ZodLazy:_d,ZodLiteral:wd,ZodEnum:So,ZodNativeEnum:Ed,ZodPromise:uc,ZodEffects:Yr,ZodTransformer:Yr,ZodOptional:Ss,ZodNullable:bo,ZodDefault:xd,ZodCatch:Sd,ZodNaN:Zp,BRAND:RG,ZodBranded:jE,ZodPipeline:Yd,ZodReadonly:bd,custom:bM,Schema:Ne,ZodSchema:Ne,late:kG,get ZodFirstPartyTypeKind(){return ve},coerce:fQ,any:FG,array:WG,bigint:OG,boolean:IM,date:MG,discriminatedUnion:KG,effect:GC,enum:nQ,function:JG,instanceof:NG,intersection:GG,lazy:eQ,literal:tQ,map:ZG,nan:DG,nativeEnum:rQ,never:UG,null:VG,nullable:oQ,number:CM,object:zG,oboolean:dQ,onumber:uQ,optional:iQ,ostring:cQ,pipeline:lQ,preprocess:aQ,promise:sQ,record:YG,set:XG,strictObject:HG,string:TM,symbol:jG,transformer:GC,tuple:QG,undefined:LG,union:qG,unknown:$G,void:BG,NEVER:hQ,ZodIssueCode:Q,quotelessJson:oG,ZodError:sr});const pQ=["student","admin"];xe.object({id:xe.string(),role:xe.enum(pQ),username:xe.string().min(3),password:xe.string().min(6),name:xe.string()});const q_=xe.object({id:xe.string().optional(),role:xe.literal("student"),name:xe.string().min(2,"Name must be at least 2 characters"),rollNumber:xe.string().min(1,"Roll number is required"),branch:xe.string().min(1,"Branch is required"),year:xe.number().min(1).max(4),batch:xe.string().min(1,"Batch is required"),username:xe.string().email("Must be a valid email"),password:xe.string().min(6,"Password must be at least 6 characters"),authUid:xe.string().optional(),createdAt:xe.date().optional()});xe.object({id:xe.string(),studentId:xe.string(),date:xe.string(),present:xe.boolean(),semester:xe.number()});xe.object({id:xe.string(),name:xe.string().min(1,"Subject name is required"),code:xe.string().min(1,"Subject code is required"),semester:xe.number().min(1).max(8),branch:xe.string().min(1,"Branch is required")});xe.object({id:xe.string(),studentId:xe.string(),subjectId:xe.string(),semester:xe.number().min(1).max(8),midNumber:xe.number().min(1).max(2),marks:xe.number().min(0),maxMarks:xe.number().default(30),createdAt:xe.date(),updatedAt:xe.date()});const PM=UK,AM=h.createContext({}),ss=({...t})=>d.jsx(AM.Provider,{value:{name:t.name},children:d.jsx(HK,{...t})}),cg=()=>{const t=h.useContext(AM),e=h.useContext(RM),{getFieldState:n,formState:r}=ag(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},RM=h.createContext({}),Dr=h.forwardRef(({className:t,...e},n)=>{const r=h.useId();return d.jsx(RM.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:fe("space-y-2",t),...e})})});Dr.displayName="FormItem";const Or=h.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=cg();return d.jsx(yl,{ref:n,className:fe(r&&"text-destructive",t),htmlFor:s,...e})});Or.displayName="FormLabel";const Mr=h.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=cg();return d.jsx(pa,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Mr.displayName="FormControl";const mQ=h.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=cg();return d.jsx("p",{ref:n,id:r,className:fe("text-sm text-muted-foreground",t),...e})});mQ.displayName="FormDescription";const is=h.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=cg(),o=s?String(s==null?void 0:s.message):e;return o?d.jsx("p",{ref:r,id:i,className:fe("text-sm font-medium text-destructive",t),...n,children:o}):null});is.displayName="FormMessage";const gQ=["CSE","CSE (AI & ML)","CSE (Data Science)","ECE","EEE","Mechanical","Civil Engineering"];function vQ({onSubmit:t,loading:e,defaultValues:n}){const r=mM({resolver:vM(q_),defaultValues:n||{role:"student",name:"",rollNumber:"",branch:"",year:1,batch:"",username:"",password:""}});return d.jsx(PM,{...r,children:d.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-4",children:[d.jsx(ss,{control:r.control,name:"name",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Full Name"}),d.jsx(Mr,{children:d.jsx(kn,{...s})}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"rollNumber",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Roll Number"}),d.jsx(Mr,{children:d.jsx(kn,{...s})}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"branch",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Branch"}),d.jsxs(wr,{onValueChange:s.onChange,defaultValue:s.value,children:[d.jsx(Mr,{children:d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select branch"})})}),d.jsx(rr,{children:gQ.map(i=>d.jsx($t,{value:i,children:i},i))})]}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"year",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Year"}),d.jsxs(wr,{onValueChange:i=>s.onChange(parseInt(i)),defaultValue:s.value.toString(),children:[d.jsx(Mr,{children:d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select year"})})}),d.jsx(rr,{children:[1,2,3,4].map(i=>d.jsxs($t,{value:i.toString(),children:["Year ",i]},i))})]}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"batch",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Batch"}),d.jsx(Mr,{children:d.jsx(kn,{...s,placeholder:"e.g. 2023-2027"})}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"username",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Email"}),d.jsx(Mr,{children:d.jsx(kn,{type:"email",...s,disabled:!!n})}),d.jsx(is,{})]})}),!n&&d.jsx(ss,{control:r.control,name:"password",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Password"}),d.jsx(Mr,{children:d.jsx(kn,{type:"password",...s})}),d.jsx(is,{})]})}),d.jsx(xt,{type:"submit",className:"w-full",disabled:e,children:e?n?"Updating...":"Creating...":n?"Update Student":"Create Student"})]})})}function oo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function QC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kM(...t){return e=>{let n=!1;const r=t.map(s=>{const i=QC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():QC(t[s],null)}}}}function Ma(...t){return h.useCallback(kM(...t),t)}var LE=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(_Q);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(K_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(K_,{...r,ref:e,children:n})});LE.displayName="Slot";var K_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=EQ(n),i=wQ(r,n.props);return n.type!==h.Fragment&&(i.ref=e?kM(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});K_.displayName="SlotClone";var yQ=({children:t})=>d.jsx(d.Fragment,{children:t});function _Q(t){return h.isValidElement(t)&&t.type===yQ}function wQ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hi=xQ.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?LE:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function SQ(t,e){t&&As.flushSync(()=>t.dispatchEvent(e))}var bQ="DismissableLayer",G_="dismissableLayer.update",TQ="dismissableLayer.pointerDownOutside",CQ="dismissableLayer.focusOutside",YC,NM=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DM=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=h.useContext(NM),[f,p]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),S=Ma(e,C=>p(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(w),_=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=AQ(C=>{const T=C.target,A=[...c.branches].some(P=>P.contains(T));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=RQ(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return Em(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),h.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),ZC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=YC)}},[f,m,n,c]),h.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),ZC())},[f,c]),h.useEffect(()=>{const C=()=>y({});return document.addEventListener(G_,C),()=>document.removeEventListener(G_,C)},[]),d.jsx(hi.div,{...l,ref:S,style:{pointerEvents:x?I?"auto":"none":void 0,...t.style},onFocusCapture:oo(t.onFocusCapture,M.onFocusCapture),onBlurCapture:oo(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:oo(t.onPointerDownCapture,N.onPointerDownCapture)})});DM.displayName=bQ;var IQ="DismissableLayerBranch",PQ=h.forwardRef((t,e)=>{const n=h.useContext(NM),r=h.useRef(null),s=Ma(e,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(hi.div,{...t,ref:s})});PQ.displayName=IQ;function AQ(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){OM(TQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RQ(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&OM(CQ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZC(){const t=new CustomEvent(G_);document.dispatchEvent(t)}function OM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SQ(s,i):s.dispatchEvent(i)}var Lv="focusScope.autoFocusOnMount",Vv="focusScope.autoFocusOnUnmount",XC={bubbles:!1,cancelable:!0},kQ="FocusScope",MM=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=h.useState(null),c=at(s),f=at(i),p=h.useRef(null),m=Ma(e,g=>l(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(x){if(y.paused||!a)return;const I=x.target;a.contains(I)?p.current=I:Ci(p.current,{select:!0})},w=function(x){if(y.paused||!a)return;const I=x.relatedTarget;I!==null&&(a.contains(I)||Ci(p.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Ci(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,y.paused]),h.useEffect(()=>{if(a){e1.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(Lv,XC);a.addEventListener(Lv,c),a.dispatchEvent(E),E.defaultPrevented||(NQ(LQ(jM(a)),{select:!0}),document.activeElement===g&&Ci(a))}return()=>{a.removeEventListener(Lv,c),setTimeout(()=>{const E=new CustomEvent(Vv,XC);a.addEventListener(Vv,f),a.dispatchEvent(E),E.defaultPrevented||Ci(g??document.body,{select:!0}),a.removeEventListener(Vv,f),e1.remove(y)},0)}}},[a,c,f,y]);const S=h.useCallback(g=>{if(!n&&!r||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(w&&E){const _=g.currentTarget,[x,I]=DQ(_);x&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&Ci(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),n&&Ci(I,{select:!0})):E===_&&g.preventDefault()}},[n,r,y.paused]);return d.jsx(hi.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});MM.displayName=kQ;function NQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ci(r,{select:e}),document.activeElement!==n)return}function DQ(t){const e=jM(t),n=JC(e,t),r=JC(e.reverse(),t);return[n,r]}function jM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function JC(t,e){for(const n of t)if(!OQ(n,{upTo:e}))return n}function OQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MQ(t){return t instanceof HTMLInputElement&&"select"in t}function Ci(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MQ(t)&&e&&t.select()}}var e1=jQ();function jQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=t1(t,e),t.unshift(e)},remove(e){var n;t=t1(t,e),(n=t[0])==null||n.resume()}}}function t1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LQ(t){return t.filter(e=>e.tagName!=="A")}var VQ="Portal",LM=h.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=h.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vm.createPortal(d.jsx(hi.div,{...r,ref:e}),o):null});LM.displayName=VQ;function FQ(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var ug=t=>{const{present:e,children:n}=t,r=$Q(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=Ma(r.ref,UQ(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};ug.displayName="Presence";function $Q(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=FQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Jf(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,f=s.current;if(f!==t){const m=i.current,y=Jf(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,p=y=>{const g=Jf(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=Jf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Jf(t){return(t==null?void 0:t.animationName)||"none"}function UQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VM=Jm(),Fv=function(){},dg=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Fv,onWheelCapture:Fv,onTouchMoveCapture:Fv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,S=t.inert,g=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,_=t.gapMode,x=Po(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,N=Xm([n,e]),M=st(st({},x),s);return h.createElement(h.Fragment,null,f&&h.createElement(I,{sideCar:VM,removeScrollBar:c,shards:p,noIsolation:y,inert:S,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?h.cloneElement(h.Children.only(a),st(st({},M),{ref:N})):h.createElement(E,st({},M,{className:l,ref:N}),a))});dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dg.classNames={fullWidth:aa,zeroRight:oa};var Q_=!1;if(typeof window<"u")try{var eh=Object.defineProperty({},"passive",{get:function(){return Q_=!0,!0}});window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Q_=!1}var Ga=Q_?{passive:!1}:!1,BQ=function(t){return t.tagName==="TEXTAREA"},FM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BQ(t)&&n[e]==="visible")},WQ=function(t){return FM(t,"overflowY")},zQ=function(t){return FM(t,"overflowX")},n1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$M(t,r);if(s){var i=UM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},HQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$M=function(t,e){return t==="v"?WQ(e):zQ(e)},UM=function(t,e){return t==="v"?HQ(e):qQ(e)},KQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},GQ=function(t,e,n,r,s){var i=KQ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,f=o>0,p=0,m=0;do{var y=UM(t,a),S=y[0],g=y[1],w=y[2],E=g-w-i*S;(S||E)&&$M(t,a)&&(p+=E,m+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(p)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},th=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},r1=function(t){return[t.deltaX,t.deltaY]},s1=function(t){return t&&"current"in t?t.current:t},QQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZQ=0,Qa=[];function XQ(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(ZQ++)[0],i=h.useState(Kd)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Tm([t.lockRef.current],(t.shards||[]).map(s1),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=th(g),_=n.current,x="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,M=g.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var T=n1(C,M);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=n1(C,M)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||I)&&(r.current=N),!N)return!0;var A=r.current||N;return GQ(A,w,g,A==="h"?x:I,!0)},[]),l=h.useCallback(function(g){var w=g;if(!(!Qa.length||Qa[Qa.length-1]!==i)){var E="deltaY"in w?r1(w):th(w),_=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&QQ(N.delta,E)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(s1).filter(Boolean).filter(function(N){return N.contains(w.target)}),I=x.length>0?a(w,x[0]):!o.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,E,_){var x={name:g,delta:w,target:E,should:_,shadowParent:JQ(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),f=h.useCallback(function(g){n.current=th(g),r.current=void 0},[]),p=h.useCallback(function(g){c(g.type,r1(g),g.target,a(g,t.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,th(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return Qa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ga),document.addEventListener("touchmove",l,Ga),document.addEventListener("touchstart",f,Ga),function(){Qa=Qa.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ga),document.removeEventListener("touchmove",l,Ga),document.removeEventListener("touchstart",f,Ga)}},[]);var y=t.removeScrollBar,S=t.inert;return h.createElement(h.Fragment,null,S?h.createElement(i,{styles:YQ(s)}):null,y?h.createElement(ng,{gapMode:t.gapMode}):null)}function JQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eY=eg(VM,XQ);var BM=h.forwardRef(function(t,e){return h.createElement(dg,st({},t,{ref:e,sideCar:eY}))});BM.classNames=dg.classNames;var VE="Dialog",[WM,Iee]=ur(VE),[tY,Xr]=WM(VE),zM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=h.useRef(null),l=h.useRef(null),[c=!1,f]=ni({prop:r,defaultProp:s,onChange:i});return d.jsx(tY,{scope:e,triggerRef:a,contentRef:l,contentId:_r(),titleId:_r(),descriptionId:_r(),open:c,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};zM.displayName=VE;var HM="DialogTrigger",qM=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(HM,n),i=Ma(e,s.triggerRef);return d.jsx(hi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":UE(s.open),...r,ref:i,onClick:oo(t.onClick,s.onOpenToggle)})});qM.displayName=HM;var FE="DialogPortal",[nY,KM]=WM(FE,{forceMount:void 0}),GM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Xr(FE,e);return d.jsx(nY,{scope:e,forceMount:n,children:h.Children.map(r,o=>d.jsx(ug,{present:n||i.open,children:d.jsx(LM,{asChild:!0,container:s,children:o})}))})};GM.displayName=FE;var Xp="DialogOverlay",QM=h.forwardRef((t,e)=>{const n=KM(Xp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xr(Xp,t.__scopeDialog);return i.modal?d.jsx(ug,{present:r||i.open,children:d.jsx(rY,{...s,ref:e})}):null});QM.displayName=Xp;var rY=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(Xp,n);return d.jsx(BM,{as:LE,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(hi.div,{"data-state":UE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Pa="DialogContent",YM=h.forwardRef((t,e)=>{const n=KM(Pa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xr(Pa,t.__scopeDialog);return d.jsx(ug,{present:r||i.open,children:i.modal?d.jsx(sY,{...s,ref:e}):d.jsx(iY,{...s,ref:e})})});YM.displayName=Pa;var sY=h.forwardRef((t,e)=>{const n=Xr(Pa,t.__scopeDialog),r=h.useRef(null),s=Ma(e,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Zm(i)},[]),d.jsx(ZM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oo(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oo(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oo(t.onFocusOutside,i=>i.preventDefault())})}),iY=h.forwardRef((t,e)=>{const n=Xr(Pa,t.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return d.jsx(ZM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZM=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Xr(Pa,n),l=h.useRef(null),c=Ma(e,l);return Km(),d.jsxs(d.Fragment,{children:[d.jsx(MM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(DM,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":UE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(oY,{titleId:a.titleId}),d.jsx(lY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),$E="DialogTitle",XM=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr($E,n);return d.jsx(hi.h2,{id:s.titleId,...r,ref:e})});XM.displayName=$E;var JM="DialogDescription",ej=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(JM,n);return d.jsx(hi.p,{id:s.descriptionId,...r,ref:e})});ej.displayName=JM;var tj="DialogClose",nj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(tj,n);return d.jsx(hi.button,{type:"button",...r,ref:e,onClick:oo(t.onClick,()=>s.onOpenChange(!1))})});nj.displayName=tj;function UE(t){return t?"open":"closed"}var rj="DialogTitleWarning",[Pee,sj]=yA(rj,{contentName:Pa,titleName:$E,docsSlug:"dialog"}),oY=({titleId:t})=>{const e=sj(rj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aY="DialogDescriptionWarning",lY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sj(aY).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cY=zM,uY=qM,dY=GM,ij=QM,oj=YM,aj=XM,lj=ej,fY=nj;const hY=cY,pY=uY,mY=dY,cj=h.forwardRef(({className:t,...e},n)=>d.jsx(ij,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cj.displayName=ij.displayName;const uj=h.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(mY,{children:[d.jsx(cj,{}),d.jsxs(oj,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(fY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(ZA,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uj.displayName=oj.displayName;const dj=({className:t,...e})=>d.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});dj.displayName="DialogHeader";const fj=h.forwardRef(({className:t,...e},n)=>d.jsx(aj,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));fj.displayName=aj.displayName;const gY=h.forwardRef(({className:t,...e},n)=>d.jsx(lj,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));gY.displayName=lj.displayName;function vY(){const[,t]=di(),{toast:e}=mc(),[n,r]=h.useState([]),[s,i]=h.useState(!1),[o,a]=h.useState(!1),[l,c]=h.useState("all"),[f,p]=h.useState(null),[m,y]=h.useState([]);h.useEffect(()=>{if(!qr.currentUser){t("/");return}(async()=>{try{const N=Qe(ot,Ft.students),M=Wt(N,kh("name")),T=(await wt(M)).docs.map(P=>{var O;return{id:P.id,...P.data(),createdAt:(O=P.data().createdAt)==null?void 0:O.toDate()}});r(T);const A=Array.from(new Set(T.map(P=>P.branch))).filter(Boolean);y(A)}catch(N){console.error("Error fetching students:",N),e({title:"Error fetching students",description:"Please try again later",variant:"destructive"})}})()},[t,e]);const S=async x=>{i(!0);try{q_.parse(x);const I=await TB(qr,x.username,x.password),N=Qe(ot,Ft.students);await Us(N,{...x,role:"student",createdAt:new Date,authUid:I.user.uid}),e({title:"Student created successfully"});const M=Qe(ot,Ft.students),C=Wt(M,kh("name")),T=await wt(C);r(T.docs.map(A=>{var P;return{id:A.id,...A.data(),createdAt:(P=A.data().createdAt)==null?void 0:P.toDate()}})),a(!1)}catch(I){console.error("Error creating student:",I),e({title:"Error creating student",description:I instanceof Error?I.message:"Please try again",variant:"destructive"})}finally{i(!1)}},g=async x=>{if(f!=null&&f.id){i(!0);try{q_.parse(x);const I=wa(ot,Ft.students,f.id);await Pp(I,{...x,updatedAt:new Date}),e({title:"Student updated successfully"});const N=Qe(ot,Ft.students),M=Wt(N,kh("name")),C=await wt(M);r(C.docs.map(T=>{var A;return{id:T.id,...T.data(),createdAt:(A=T.data().createdAt)==null?void 0:A.toDate()}})),a(!1),p(null)}catch(I){console.error("Error updating student:",I),e({title:"Error updating student",description:I instanceof Error?I.message:"Please try again",variant:"destructive"})}finally{i(!1)}}},w=async x=>{if(window.confirm(`Are you sure you want to delete ${x.name}?`))try{if(!x.id||!x.authUid)return;const I=tk();await AB(I,x.authUid),await MN(wa(ot,Ft.students,x.id)),e({title:"Student deleted successfully"}),r(n.filter(N=>N.id!==x.id))}catch(I){console.error("Error deleting student:",I),e({title:"Error deleting student",description:I instanceof Error?I.message:"Please try again later",variant:"destructive"})}},E=l==="all"?n:n.filter(x=>x.branch===l),_=x=>{p(x),a(!0)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Students"}),d.jsxs(hY,{open:o,onOpenChange:a,children:[d.jsx(pY,{asChild:!0,children:d.jsxs(xt,{onClick:()=>p(null),children:[d.jsx(YA,{className:"mr-2 h-4 w-4"}),"Add Student"]})}),d.jsxs(uj,{className:"sm:max-w-[425px]",children:[d.jsx(dj,{children:d.jsx(fj,{children:f?"Edit Student":"Add New Student"})}),d.jsx(vQ,{onSubmit:f?g:S,loading:s,defaultValues:f||void 0})]})]})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Filter Students"})}),d.jsx(ut,{children:d.jsxs(wr,{value:l,onValueChange:c,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select branch"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"all",children:"All Branches"}),m.map(x=>d.jsx($t,{value:x,children:x},x))]})]})})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:E.map(x=>d.jsxs(ct,{children:[d.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0",children:[d.jsx(yt,{children:x.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(xt,{variant:"outline",size:"icon",onClick:()=>_(x),children:d.jsx(oU,{className:"h-4 w-4"})}),d.jsx(xt,{variant:"outline",size:"icon",onClick:()=>w(x),children:d.jsx(QA,{className:"h-4 w-4"})})]})]}),d.jsx(ut,{children:d.jsxs("dl",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Roll Number"}),d.jsx("dd",{children:x.rollNumber})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Branch"}),d.jsx("dd",{children:x.branch})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),d.jsxs("dd",{children:["Year ",x.year]})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Batch"}),d.jsx("dd",{children:x.batch})]})]})})]},x.id))})]})}var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ye.apply(this,arguments)};function yY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hj(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Zd(t){return t.mode==="multiple"}function Xd(t){return t.mode==="range"}function fg(t){return t.mode==="single"}var _Y={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function wY(t,e){return Rn(t,"LLLL y",e)}function EY(t,e){return Rn(t,"d",e)}function xY(t,e){return Rn(t,"LLLL",e)}function SY(t){return"".concat(t)}function bY(t,e){return Rn(t,"cccccc",e)}function TY(t,e){return Rn(t,"yyyy",e)}var CY=Object.freeze({__proto__:null,formatCaption:wY,formatDay:EY,formatMonthCaption:xY,formatWeekNumber:SY,formatWeekdayName:bY,formatYearCaption:TY}),IY=function(t,e,n){return Rn(t,"do MMMM (EEEE)",n)},PY=function(){return"Month: "},AY=function(){return"Go to next month"},RY=function(){return"Go to previous month"},kY=function(t,e){return Rn(t,"cccc",e)},NY=function(t){return"Week n. ".concat(t)},DY=function(){return"Year: "},OY=Object.freeze({__proto__:null,labelDay:IY,labelMonthDropdown:PY,labelNext:AY,labelPrevious:RY,labelWeekNumber:NY,labelWeekday:kY,labelYearDropdown:DY});function MY(){var t="buttons",e=_Y,n=vD,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:CY,labels:OY,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function jY(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Kn(r):e&&(i=new Date(e,0,1)),s?o=vE(s):n&&(o=new Date(n,11,31)),{fromDate:i?oc(i):void 0,toDate:o?oc(o):void 0}}var pj=h.createContext(void 0);function LY(t){var e,n=t.initialProps,r=MY(),s=jY(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(fg(n)||Zd(n)||Xd(n))&&(l=n.onSelect);var c=ye(ye(ye({},r),n),{captionLayout:a,classNames:ye(ye({},r.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},r.formatters),n.formatters),fromDate:i,labels:ye(ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ye(ye({},r.modifiers),n.modifiers),modifiersClassNames:ye(ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ye(ye({},r.styles),n.styles),toDate:o});return d.jsx(pj.Provider,{value:c,children:t.children})}function dt(){var t=h.useContext(pj);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function mj(t){var e=dt(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function VY(t){return d.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gj(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=dt(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:VY;return d.jsxs("div",{className:a,style:l,children:[d.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),d.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),d.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,d.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function FY(t){var e,n=dt(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});var p=[];if(X8(r,s))for(var m=Kn(r),y=r.getMonth();y<=s.getMonth();y++)p.push(Sv(m,y));else for(var m=Kn(new Date),y=0;y<=11;y++)p.push(Sv(m,y));var S=function(w){var E=Number(w.target.value),_=Sv(Kn(t.displayMonth),E);t.onChange(_)},g=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:gj;return d.jsx(g,{name:"months","aria-label":f(),className:l.dropdown_month,style:i.dropdown_month,onChange:S,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:p.map(function(w){return d.jsx("option",{value:w.getMonth(),children:a(w,{locale:o})},w.getMonth())})})}function $Y(t){var e,n=t.displayMonth,r=dt(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,m=[];if(!s)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});for(var y=s.getFullYear(),S=i.getFullYear(),g=y;g<=S;g++)m.push(fC(mD(new Date),g));var w=function(_){var x=fC(Kn(n),Number(_.target.value));t.onChange(x)},E=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:gj;return d.jsx(E,{name:"years","aria-label":p(),className:l.dropdown_year,style:a.dropdown_year,onChange:w,value:n.getFullYear(),caption:f(n,{locale:o}),children:m.map(function(_){return d.jsx("option",{value:_.getFullYear(),children:f(_,{locale:o})},_.getFullYear())})})}function UY(t,e){var n=h.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function BY(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&ld(i,s)<0){var c=-1*(l-1);s=Kr(i,c)}return o&&ld(s,o)<0&&(s=o),Kn(s)}function WY(){var t=dt(),e=BY(t),n=UY(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Kn(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function zY(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Kn(t),i=Kn(Kr(s,r)),o=ld(i,s),a=[],l=0;l<o;l++){var c=Kr(s,l);a.push(c)}return n&&(a=a.reverse()),a}function HY(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Kn(t);if(!n)return Kr(a,o);var l=ld(n,t);if(!(l<i))return Kr(a,o)}}function qY(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Kn(t);if(!n)return Kr(a,-o);var l=ld(a,n);if(!(l<=0))return Kr(a,-o)}}var vj=h.createContext(void 0);function KY(t){var e=dt(),n=WY(),r=n[0],s=n[1],i=zY(r,e),o=HY(r,e),a=qY(r,e),l=function(p){return i.some(function(m){return _E(p,m)})},c=function(p,m){l(p)||(m&&xD(p,m)?s(Kr(p,1+e.numberOfMonths*-1)):s(p))},f={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return d.jsx(vj.Provider,{value:f,children:t.children})}function Jd(){var t=h.useContext(vj);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function i1(t){var e,n=dt(),r=n.classNames,s=n.styles,i=n.components,o=Jd().goToMonth,a=function(f){o(Kr(f,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:mj,c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:c}),d.jsx(FY,{onChange:a,displayMonth:t.displayMonth}),d.jsx($Y,{onChange:a,displayMonth:t.displayMonth})]})}function GY(t){return d.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function QY(t){return d.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jp=h.forwardRef(function(t,e){var n=dt(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=ye(ye({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),d.jsx("button",ye({},t,{ref:e,type:"button",className:o,style:a}))});function YY(t){var e,n,r=dt(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,p=r.components;if(!t.nextMonth&&!t.previousMonth)return d.jsx(d.Fragment,{});var m=c(t.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),S=f(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),w=(e=p==null?void 0:p.IconRight)!==null&&e!==void 0?e:QY,E=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:GY;return d.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&d.jsx(Jp,{name:"previous-month","aria-label":m,className:y,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?d.jsx(w,{className:o.nav_icon,style:a.nav_icon}):d.jsx(E,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&d.jsx(Jp,{name:"next-month","aria-label":S,className:g,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?d.jsx(E,{className:o.nav_icon,style:a.nav_icon}):d.jsx(w,{className:o.nav_icon,style:a.nav_icon})})]})}function o1(t){var e=dt().numberOfMonths,n=Jd(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(S){return _E(t.displayMonth,S)}),l=a===0,c=a===o.length-1,f=e>1&&(l||!c),p=e>1&&(c||!l),m=function(){r&&i(r)},y=function(){s&&i(s)};return d.jsx(YY,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:p,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:y})}function ZY(t){var e,n=dt(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:mj,c;return s?c=d.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=d.jsx(i1,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=d.jsxs(d.Fragment,{children:[d.jsx(i1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),d.jsx(o1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=d.jsxs(d.Fragment,{children:[d.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(o1,{displayMonth:t.displayMonth,id:t.id})]}),d.jsx("div",{className:r.caption,style:i.caption,children:c})}function XY(t){var e=dt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?d.jsx("tfoot",{className:s,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function JY(t,e,n){for(var r=n?xa(new Date):Ts(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=In(r,i);s.push(o)}return s}function eZ(){var t=dt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=JY(s,i,o);return d.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,p){return d.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:s}),children:a(f,{locale:s})},p)})]})}function tZ(){var t,e=dt(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:eZ;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(i,{})})}function nZ(t){var e=dt(),n=e.locale,r=e.formatters.formatDay;return d.jsx(d.Fragment,{children:r(t.date,{locale:n})})}var BE=h.createContext(void 0);function rZ(t){if(!Zd(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return d.jsx(BE.Provider,{value:e,children:t.children})}return d.jsx(sZ,{initialProps:t.initialProps,children:t.children})}function sZ(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,f,p){var m,y;(m=e.onDayClick)===null||m===void 0||m.call(e,c,f,p);var S=!!(f.selected&&s&&(r==null?void 0:r.length)===s);if(!S){var g=!!(!f.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var w=r?hj([],r):[];if(f.selected){var E=w.findIndex(function(_){return Bn(c,_)});w.splice(E,1)}else w.push(c);(y=e.onSelect)===null||y===void 0||y.call(e,w,c,f,p)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=i&&r.length>i-1,p=r.some(function(m){return Bn(m,c)});return!!(f&&!p)});var l={selected:r,onDayClick:o,modifiers:a};return d.jsx(BE.Provider,{value:l,children:n})}function WE(){var t=h.useContext(BE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function iZ(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Bn(s,t)&&Bn(r,t)?void 0:Bn(s,t)?{from:s,to:void 0}:Bn(r,t)?void 0:A_(r,t)?{from:t,to:s}:{from:r,to:t}:s?A_(t,s)?{from:s,to:t}:{from:t,to:s}:r?xD(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var zE=h.createContext(void 0);function oZ(t){if(!Xd(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(zE.Provider,{value:e,children:t.children})}return d.jsx(aZ,{initialProps:t.initialProps,children:t.children})}function aZ(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(y,S,g){var w,E;(w=e.onDayClick)===null||w===void 0||w.call(e,y,S,g);var _=iZ(y,r);(E=e.onSelect)===null||E===void 0||E.call(e,_,y,S,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],Bn(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),a&&(i&&!o&&f.disabled.push({after:xv(i,a-1),before:In(i,a-1)}),i&&o&&f.disabled.push({after:i,before:In(i,a-1)}),!i&&o&&f.disabled.push({after:xv(o,a-1),before:In(o,a-1)})),l){if(i&&!o&&(f.disabled.push({before:In(i,-l+1)}),f.disabled.push({after:In(i,l-1)})),i&&o){var p=hs(o,i)+1,m=l-p;f.disabled.push({before:xv(i,m)}),f.disabled.push({after:In(o,m)})}!i&&o&&(f.disabled.push({before:In(o,-l+1)}),f.disabled.push({after:In(o,l-1)}))}return d.jsx(zE.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function HE(){var t=h.useContext(zE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function jh(t){return Array.isArray(t)?hj([],t):t!==void 0?[t]:[]}function lZ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=jh(s)}),e}var Zr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Zr||(Zr={}));var cZ=Zr.Selected,js=Zr.Disabled,uZ=Zr.Hidden,dZ=Zr.Today,$v=Zr.RangeEnd,Uv=Zr.RangeMiddle,Bv=Zr.RangeStart,fZ=Zr.Outside;function hZ(t,e,n){var r,s=(r={},r[cZ]=jh(t.selected),r[js]=jh(t.disabled),r[uZ]=jh(t.hidden),r[dZ]=[t.today],r[$v]=[],r[Uv]=[],r[Bv]=[],r[fZ]=[],r);return t.fromDate&&s[js].push({before:t.fromDate}),t.toDate&&s[js].push({after:t.toDate}),Zd(t)?s[js]=s[js].concat(e.modifiers[js]):Xd(t)&&(s[js]=s[js].concat(n.modifiers[js]),s[Bv]=n.modifiers[Bv],s[Uv]=n.modifiers[Uv],s[$v]=n.modifiers[$v]),s}var yj=h.createContext(void 0);function pZ(t){var e=dt(),n=WE(),r=HE(),s=hZ(e,n,r),i=lZ(e.modifiers),o=ye(ye({},s),i);return d.jsx(yj.Provider,{value:o,children:t.children})}function _j(){var t=h.useContext(yj);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function mZ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function gZ(t){return!!(t&&typeof t=="object"&&"from"in t)}function vZ(t){return!!(t&&typeof t=="object"&&"after"in t)}function yZ(t){return!!(t&&typeof t=="object"&&"before"in t)}function _Z(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function wZ(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=hs(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=hs(t,r)>=0&&hs(s,t)>=0;return o}return s?Bn(s,t):r?Bn(r,t):!1}function EZ(t){return gE(t)}function xZ(t){return Array.isArray(t)&&t.every(gE)}function SZ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(EZ(n))return Bn(t,n);if(xZ(n))return n.includes(t);if(gZ(n))return wZ(t,n);if(_Z(n))return n.dayOfWeek.includes(t.getDay());if(mZ(n)){var r=hs(n.before,t),s=hs(n.after,t),i=r>0,o=s<0,a=A_(n.before,n.after);return a?o&&i:i||o}return vZ(n)?hs(t,n.after)>0:yZ(n)?hs(n.before,t)>0:typeof n=="function"?n(t):!1})}function qE(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return SZ(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!_E(t,n)&&(s.outside=!0),s}function bZ(t,e){for(var n=Kn(t[0]),r=vE(t[t.length-1]),s,i,o=n;o<=r;){var a=qE(o,e),l=!a.disabled&&!a.hidden;if(!l){o=In(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=In(o,1)}return i||s}var TZ=365;function wj(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,f=s.toDate,p=s.locale,m={day:In,week:P_,month:Kr,year:GH,startOfWeek:function(w){return s.ISOWeek?xa(w):Ts(w,{locale:p,weekStartsOn:l})},endOfWeek:function(w){return s.ISOWeek?gD(w):yE(w,{locale:p,weekStartsOn:l})}},y=m[n](t,r==="after"?1:-1);r==="before"&&c?y=QH([c,y]):r==="after"&&f&&(y=YH([f,y]));var S=!0;if(i){var g=qE(y,i);S=!g.disabled&&!g.hidden}return S?y:a.count>TZ?a.lastFocused:wj(y,{moveBy:n,direction:r,context:s,modifiers:i,retry:ye(ye({},a),{count:a.count+1})})}var Ej=h.createContext(void 0);function CZ(t){var e=Jd(),n=_j(),r=h.useState(),s=r[0],i=r[1],o=h.useState(),a=o[0],l=o[1],c=bZ(e.displayMonths,n),f=s??(a&&e.isDateDisplayed(a))?a:c,p=function(){l(s),i(void 0)},m=function(w){i(w)},y=dt(),S=function(w,E){if(s){var _=wj(s,{moveBy:w,direction:E,context:y,modifiers:n});Bn(s,_)||(e.goToDate(_,s),m(_))}},g={focusedDay:s,focusTarget:f,blur:p,focus:m,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return d.jsx(Ej.Provider,{value:g,children:t.children})}function KE(){var t=h.useContext(Ej);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function IZ(t,e){var n=_j(),r=qE(t,n,e);return r}var GE=h.createContext(void 0);function PZ(t){if(!fg(t.initialProps)){var e={selected:void 0};return d.jsx(GE.Provider,{value:e,children:t.children})}return d.jsx(AZ,{initialProps:t.initialProps,children:t.children})}function AZ(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return d.jsx(GE.Provider,{value:s,children:n})}function xj(){var t=h.useContext(GE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function RZ(t,e){var n=dt(),r=xj(),s=WE(),i=HE(),o=KE(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,f=o.focusWeekBefore,p=o.blur,m=o.focus,y=o.focusMonthBefore,S=o.focusMonthAfter,g=o.focusYearBefore,w=o.focusYearAfter,E=o.focusStartOfWeek,_=o.focusEndOfWeek,x=function(B){var L,F,G,re;fg(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,B):Zd(n)?(F=s.onDayClick)===null||F===void 0||F.call(s,t,e,B):Xd(n)?(G=i.onDayClick)===null||G===void 0||G.call(i,t,e,B):(re=n.onDayClick)===null||re===void 0||re.call(n,t,e,B)},I=function(B){var L;m(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,B)},N=function(B){var L;p(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,B)},M=function(B){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,B)},C=function(B){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,B)},T=function(B){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,B)},A=function(B){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,B)},P=function(B){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,B)},O=function(B){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,B)},D=function(B){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,B)},k=function(B){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,B)},z=function(B){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,B)},J=function(B){var L;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),c();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),f();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?g():y();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?w():S();break;case"Home":B.preventDefault(),B.stopPropagation(),E();break;case"End":B.preventDefault(),B.stopPropagation(),_();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,B)},Z={onClick:x,onFocus:I,onBlur:N,onKeyDown:J,onKeyUp:z,onMouseEnter:M,onMouseLeave:C,onPointerEnter:T,onPointerLeave:A,onTouchCancel:P,onTouchEnd:O,onTouchMove:D,onTouchStart:k};return Z}function kZ(){var t=dt(),e=xj(),n=WE(),r=HE(),s=fg(t)?e.selected:Zd(t)?n.selected:Xd(t)?r.selected:void 0;return s}function NZ(t){return Object.values(Zr).includes(t)}function DZ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(NZ(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function OZ(t,e){var n=ye({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=ye(ye({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function MZ(t,e,n){var r,s,i,o=dt(),a=KE(),l=IZ(t,e),c=RZ(t,l),f=kZ(),p=!!(o.onDayClick||o.mode!=="default");h.useEffect(function(){var M;l.outside||a.focusedDay&&p&&Bn(a.focusedDay,t)&&((M=n.current)===null||M===void 0||M.focus())},[a.focusedDay,t,n,p,l.outside]);var m=DZ(o,l).join(" "),y=OZ(o,l),S=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:nZ,w=d.jsx(g,{date:t,displayMonth:e,activeModifiers:l}),E={style:y,className:m,children:w,role:"gridcell"},_=a.focusTarget&&Bn(a.focusTarget,t)&&!l.outside,x=a.focusedDay&&Bn(a.focusedDay,t),I=ye(ye(ye({},E),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=x||_?0:-1,r)),c),N={isButton:p,isHidden:S,activeModifiers:l,selectedDays:f,buttonProps:I,divProps:E};return N}function jZ(t){var e=h.useRef(null),n=MZ(t.date,t.displayMonth,e);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(Jp,ye({name:"day",ref:e},n.buttonProps)):d.jsx("div",ye({},n.divProps))}function LZ(t){var e=t.number,n=t.dates,r=dt(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!s)return d.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var p=l(Number(e),{locale:a}),m=function(y){s(e,n,y)};return d.jsx(Jp,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:m,children:f})}function VZ(t){var e,n,r=dt(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:jZ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:LZ,f;return o&&(f=d.jsx("td",{className:i.cell,style:s.cell,children:d.jsx(c,{number:t.weekNumber,dates:t.dates})})),d.jsxs("tr",{className:i.row,style:s.row,children:[f,t.dates.map(function(p){return d.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:d.jsx(l,{displayMonth:t.displayMonth,date:p})},Q8(p))})]})}function a1(t,e,n){for(var r=n!=null&&n.ISOWeek?gD(e):yE(e,n),s=n!=null&&n.ISOWeek?xa(t):Ts(t,n),i=hs(r,s),o=[],a=0;a<=i;a++)o.push(In(s,a));var l=o.reduce(function(c,f){var p=n!=null&&n.ISOWeek?yD(f):wD(f,n),m=c.find(function(y){return y.weekNumber===p});return m?(m.dates.push(f),c):(c.push({weekNumber:p,dates:[f]}),c)},[]);return l}function FZ(t,e){var n=a1(Kn(t),vE(t),e);if(e!=null&&e.useFixedWeeks){var r=Z8(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=P_(i,6-r),a=a1(P_(i,1),o,e);n.push.apply(n,a)}}return n}function $Z(t){var e,n,r,s=dt(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,f=s.components,p=s.weekStartsOn,m=s.firstWeekContainsDate,y=s.ISOWeek,S=FZ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:y,locale:i,weekStartsOn:p,firstWeekContainsDate:m}),g=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:tZ,w=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:VZ,E=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:XY;return d.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&d.jsx(g,{}),d.jsx("tbody",{className:o.tbody,style:a.tbody,children:S.map(function(_){return d.jsx(w,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),d.jsx(E,{displayMonth:t.displayMonth})]})}function UZ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var BZ=UZ()?h.useLayoutEffect:h.useEffect,Wv=!1,WZ=0;function l1(){return"react-day-picker-".concat(++WZ)}function zZ(t){var e,n=t??(Wv?l1():null),r=h.useState(n),s=r[0],i=r[1];return BZ(function(){s===null&&i(l1())},[]),h.useEffect(function(){Wv===!1&&(Wv=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function HZ(t){var e,n,r=dt(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=Jd().displayMonths,c=zZ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,p=[i.month],m=o.month,y=t.displayIndex===0,S=t.displayIndex===l.length-1,g=!y&&!S;s==="rtl"&&(e=[y,S],S=e[0],y=e[1]),y&&(p.push(i.caption_start),m=ye(ye({},m),o.caption_start)),S&&(p.push(i.caption_end),m=ye(ye({},m),o.caption_end)),g&&(p.push(i.caption_between),m=ye(ye({},m),o.caption_between));var w=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:ZY;return d.jsxs("div",{className:p.join(" "),style:m,children:[d.jsx(w,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx($Z,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function qZ(t){var e=dt(),n=e.classNames,r=e.styles;return d.jsx("div",{className:n.months,style:r.months,children:t.children})}function KZ(t){var e,n,r=t.initialProps,s=dt(),i=KE(),o=Jd(),a=h.useState(!1),l=a[0],c=a[1];h.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var p=ye(ye({},s.styles.root),s.style),m=Object.keys(r).filter(function(S){return S.startsWith("data-")}).reduce(function(S,g){var w;return ye(ye({},S),(w={},w[g]=r[g],w))},{}),y=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:qZ;return d.jsx("div",ye({className:f.join(" "),style:p,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:d.jsx(y,{children:o.displayMonths.map(function(S,g){return d.jsx(HZ,{displayIndex:g,displayMonth:S},g)})})}))}function GZ(t){var e=t.children,n=yY(t,["children"]);return d.jsx(LY,{initialProps:n,children:d.jsx(KY,{children:d.jsx(PZ,{initialProps:n,children:d.jsx(rZ,{initialProps:n,children:d.jsx(oZ,{initialProps:n,children:d.jsx(pZ,{children:d.jsx(CZ,{children:e})})})})})})})}function QZ(t){return d.jsx(GZ,ye({},t,{children:d.jsx(KZ,{initialProps:t})}))}function QE({className:t,classNames:e,showOutsideDays:n=!0,...r}){return d.jsx(QZ,{showOutsideDays:n,className:fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:fe(ad({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:fe(ad({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>d.jsx(tU,{className:"h-4 w-4"}),IconRight:({...s})=>d.jsx(nU,{className:"h-4 w-4"})},...r})}QE.displayName="Calendar";function c1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Sj(...t){return e=>{let n=!1;const r=t.map(s=>{const i=c1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():c1(t[s],null)}}}}function bj(...t){return h.useCallback(Sj(...t),t)}function u1(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function YZ(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Tj=t=>{const{present:e,children:n}=t,r=ZZ(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=bj(r.ref,XZ(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};Tj.displayName="Presence";function ZZ(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=YZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=nh(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,f=s.current;if(f!==t){const m=i.current,y=nh(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,p=y=>{const g=nh(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=nh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function nh(t){return(t==null?void 0:t.animationName)||"none"}function XZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cj=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(eX);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(Y_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(Y_,{...r,ref:e,children:n})});Cj.displayName="Slot";var Y_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=nX(n),i=tX(r,n.props);return n.type!==h.Fragment&&(i.ref=e?Sj(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});Y_.displayName="SlotClone";var JZ=({children:t})=>d.jsx(d.Fragment,{children:t});function eX(t){return h.isValidElement(t)&&t.type===JZ}function tX(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ij=rX.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Cj:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),YE="Checkbox",[sX,Aee]=ur(YE),[iX,oX]=sX(YE),Pj=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...p}=t,[m,y]=h.useState(null),S=bj(e,I=>y(I)),g=h.useRef(!1),w=m?f||!!m.closest("form"):!0,[E=!1,_]=ni({prop:s,defaultProp:i,onChange:c}),x=h.useRef(E);return h.useEffect(()=>{const I=m==null?void 0:m.form;if(I){const N=()=>_(x.current);return I.addEventListener("reset",N),()=>I.removeEventListener("reset",N)}},[m,_]),d.jsxs(iX,{scope:n,state:E,disabled:a,children:[d.jsx(Ij.button,{type:"button",role:"checkbox","aria-checked":ao(E)?"mixed":E,"aria-required":o,"data-state":kj(E),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:S,onKeyDown:u1(t.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:u1(t.onClick,I=>{_(N=>ao(N)?!0:!N),w&&(g.current=I.isPropagationStopped(),g.current||I.stopPropagation())})}),w&&d.jsx(aX,{control:m,bubbles:!g.current,name:r,value:l,checked:E,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:ao(i)?!1:i})]})});Pj.displayName=YE;var Aj="CheckboxIndicator",Rj=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=oX(Aj,n);return d.jsx(Tj,{present:r||ao(i.state)||i.state===!0,children:d.jsx(Ij.span,{"data-state":kj(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Rj.displayName=Aj;var aX=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=h.useRef(null),a=aO(n),l=IE(e);h.useEffect(()=>{const f=o.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&y){const S=new Event("click",{bubbles:r});f.indeterminate=ao(n),y.call(f,ao(n)?!1:n),f.dispatchEvent(S)}},[a,n,r]);const c=h.useRef(ao(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ao(t){return t==="indeterminate"}function kj(t){return ao(t)?"indeterminate":t?"checked":"unchecked"}var Nj=Pj,lX=Rj;const Dj=h.forwardRef(({className:t,...e},n)=>d.jsx(Nj,{ref:n,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(lX,{className:fe("flex items-center justify-center text-current"),children:d.jsx(qA,{className:"h-4 w-4"})})}));Dj.displayName=Nj.displayName;function lo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function d1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Oj(...t){return e=>{let n=!1;const r=t.map(s=>{const i=d1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():d1(t[s],null)}}}}function jo(...t){return h.useCallback(Oj(...t),t)}var ZE=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),i=s.find(uX);if(i){const o=i.props.children,a=s.map(l=>l===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return d.jsx(Z_,{...r,ref:e,children:h.isValidElement(o)?h.cloneElement(o,void 0,a):null})}return d.jsx(Z_,{...r,ref:e,children:n})});ZE.displayName="Slot";var Z_=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=fX(n),i=dX(r,n.props);return n.type!==h.Fragment&&(i.ref=e?Oj(e,s):s),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});Z_.displayName="SlotClone";var cX=({children:t})=>d.jsx(d.Fragment,{children:t});function uX(t){return h.isValidElement(t)&&t.type===cX}function dX(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pi=hX.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ZE:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pX(t,e){t&&As.flushSync(()=>t.dispatchEvent(e))}var mX="DismissableLayer",X_="dismissableLayer.update",gX="dismissableLayer.pointerDownOutside",vX="dismissableLayer.focusOutside",f1,Mj=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jj=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=h.useContext(Mj),[f,p]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),S=jo(e,C=>p(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(w),_=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,N=wX(C=>{const T=C.target,A=[...c.branches].some(P=>P.contains(T));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=EX(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return Em(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),h.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(f1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),h1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=f1)}},[f,m,n,c]),h.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),h1())},[f,c]),h.useEffect(()=>{const C=()=>y({});return document.addEventListener(X_,C),()=>document.removeEventListener(X_,C)},[]),d.jsx(pi.div,{...l,ref:S,style:{pointerEvents:x?I?"auto":"none":void 0,...t.style},onFocusCapture:lo(t.onFocusCapture,M.onFocusCapture),onBlurCapture:lo(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:lo(t.onPointerDownCapture,N.onPointerDownCapture)})});jj.displayName=mX;var yX="DismissableLayerBranch",_X=h.forwardRef((t,e)=>{const n=h.useContext(Mj),r=h.useRef(null),s=jo(e,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(pi.div,{...t,ref:s})});_X.displayName=yX;function wX(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Lj(gX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EX(t,e=globalThis==null?void 0:globalThis.document){const n=at(t),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&Lj(vX,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h1(){const t=new CustomEvent(X_);document.dispatchEvent(t)}function Lj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?pX(s,i):s.dispatchEvent(i)}var zv="focusScope.autoFocusOnMount",Hv="focusScope.autoFocusOnUnmount",p1={bubbles:!1,cancelable:!0},xX="FocusScope",Vj=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=h.useState(null),c=at(s),f=at(i),p=h.useRef(null),m=jo(e,g=>l(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(x){if(y.paused||!a)return;const I=x.target;a.contains(I)?p.current=I:Ii(p.current,{select:!0})},w=function(x){if(y.paused||!a)return;const I=x.relatedTarget;I!==null&&(a.contains(I)||Ii(p.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Ii(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,y.paused]),h.useEffect(()=>{if(a){g1.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(zv,p1);a.addEventListener(zv,c),a.dispatchEvent(E),E.defaultPrevented||(SX(PX(Fj(a)),{select:!0}),document.activeElement===g&&Ii(a))}return()=>{a.removeEventListener(zv,c),setTimeout(()=>{const E=new CustomEvent(Hv,p1);a.addEventListener(Hv,f),a.dispatchEvent(E),E.defaultPrevented||Ii(g??document.body,{select:!0}),a.removeEventListener(Hv,f),g1.remove(y)},0)}}},[a,c,f,y]);const S=h.useCallback(g=>{if(!n&&!r||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(w&&E){const _=g.currentTarget,[x,I]=bX(_);x&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&Ii(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),n&&Ii(I,{select:!0})):E===_&&g.preventDefault()}},[n,r,y.paused]);return d.jsx(pi.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});Vj.displayName=xX;function SX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ii(r,{select:e}),document.activeElement!==n)return}function bX(t){const e=Fj(t),n=m1(e,t),r=m1(e.reverse(),t);return[n,r]}function Fj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function m1(t,e){for(const n of t)if(!TX(n,{upTo:e}))return n}function TX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CX(t){return t instanceof HTMLInputElement&&"select"in t}function Ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CX(t)&&e&&t.select()}}var g1=IX();function IX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=v1(t,e),t.unshift(e)},remove(e){var n;t=v1(t,e),(n=t[0])==null||n.resume()}}}function v1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PX(t){return t.filter(e=>e.tagName!=="A")}var AX="Arrow",$j=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(pi.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});$j.displayName=AX;var RX=$j,XE="Popper",[Uj,Bj]=ur(XE),[kX,Wj]=Uj(XE),zj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return d.jsx(kX,{scope:e,anchor:r,onAnchorChange:s,children:n})};zj.displayName=XE;var Hj="PopperAnchor",qj=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Wj(Hj,n),o=h.useRef(null),a=jo(e,o);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(pi.div,{...s,ref:a})});qj.displayName=Hj;var JE="PopperContent",[NX,DX]=Uj(JE),Kj=h.forwardRef((t,e)=>{var ue,Se,Xe,Oe,Ie,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:S,...g}=t,w=Wj(JE,n),[E,_]=h.useState(null),x=jo(e,Je=>_(Je)),[I,N]=h.useState(null),M=IE(I),C=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(c)?c:[c],D=O.length>0,k={padding:P,boundary:O.filter(MX),altBoundary:D},{refs:z,floatingStyles:J,placement:Z,isPositioned:B,middlewareData:L}=UD({strategy:"fixed",placement:A,whileElementsMounted:(...Je)=>FD(...Je,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[BD({mainAxis:s+T,alignmentAxis:o}),l&&WD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zD():void 0,...k}),l&&HD({...k}),qD({...k,apply:({elements:Je,rects:jt,availableWidth:dr,availableHeight:br})=>{const{width:es,height:j}=jt.reference,$=Je.floating.style;$.setProperty("--radix-popper-available-width",`${dr}px`),$.setProperty("--radix-popper-available-height",`${br}px`),$.setProperty("--radix-popper-anchor-width",`${es}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),I&&GD({element:I,padding:a}),jX({arrowWidth:C,arrowHeight:T}),m&&KD({strategy:"referenceHidden",...k})]}),[F,G]=Yj(Z),re=at(S);nt(()=>{B&&(re==null||re())},[B,re]);const ge=(ue=L.arrow)==null?void 0:ue.x,Te=(Se=L.arrow)==null?void 0:Se.y,Ge=((Xe=L.arrow)==null?void 0:Xe.centerOffset)!==0,[We,rt]=h.useState();return nt(()=>{E&&rt(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:B?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(Oe=L.transformOrigin)==null?void 0:Oe.x,(Ie=L.transformOrigin)==null?void 0:Ie.y].join(" "),...((De=L.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(NX,{scope:n,placedSide:F,onArrowChange:N,arrowX:ge,arrowY:Te,shouldHideArrow:Ge,children:d.jsx(pi.div,{"data-side":F,"data-align":G,...g,ref:x,style:{...g.style,animation:B?void 0:"none"}})})})});Kj.displayName=JE;var Gj="PopperArrow",OX={top:"bottom",right:"left",bottom:"top",left:"right"},Qj=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=DX(Gj,r),o=OX[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(RX,{...s,ref:n,style:{...s.style,display:"block"}})})});Qj.displayName=Gj;function MX(t){return t!==null}var jX=t=>({name:"transformOrigin",options:t,fn(e){var w,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=Yj(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",g="";return c==="bottom"?(S=o?p:`${m}px`,g=`${-l}px`):c==="top"?(S=o?p:`${m}px`,g=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,g=o?p:`${y}px`):c==="left"&&(S=`${r.floating.width+l}px`,g=o?p:`${y}px`),{data:{x:S,y:g}}}});function Yj(t){const[e,n="center"]=t.split("-");return[e,n]}var LX=zj,Zj=qj,VX=Kj,FX=Qj,$X="Portal",Xj=h.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=h.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vm.createPortal(d.jsx(pi.div,{...r,ref:e}),o):null});Xj.displayName=$X;function UX(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var ex=t=>{const{present:e,children:n}=t,r=BX(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=jo(r.ref,WX(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};ex.displayName="Presence";function BX(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),i=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=UX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=rh(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,f=s.current;if(f!==t){const m=i.current,y=rh(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,p=y=>{const g=rh(r.current).includes(y.animationName);if(y.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=rh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rh(t){return(t==null?void 0:t.animationName)||"none"}function WX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jj=Jm(),qv=function(){},hg=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:qv,onWheelCapture:qv,onTouchMoveCapture:qv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,S=t.inert,g=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,_=t.gapMode,x=Po(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,N=Xm([n,e]),M=st(st({},x),s);return h.createElement(h.Fragment,null,f&&h.createElement(I,{sideCar:Jj,removeScrollBar:c,shards:p,noIsolation:y,inert:S,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?h.cloneElement(h.Children.only(a),st(st({},M),{ref:N})):h.createElement(E,st({},M,{className:l,ref:N}),a))});hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hg.classNames={fullWidth:aa,zeroRight:oa};var J_=!1;if(typeof window<"u")try{var sh=Object.defineProperty({},"passive",{get:function(){return J_=!0,!0}});window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{J_=!1}var Ya=J_?{passive:!1}:!1,zX=function(t){return t.tagName==="TEXTAREA"},e2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zX(t)&&n[e]==="visible")},HX=function(t){return e2(t,"overflowY")},qX=function(t){return e2(t,"overflowX")},y1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=t2(t,r);if(s){var i=n2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},GX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},t2=function(t,e){return t==="v"?HX(e):qX(e)},n2=function(t,e){return t==="v"?KX(e):GX(e)},QX=function(t,e){return t==="h"&&e==="rtl"?-1:1},YX=function(t,e,n,r,s){var i=QX(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,f=o>0,p=0,m=0;do{var y=n2(t,a),S=y[0],g=y[1],w=y[2],E=g-w-i*S;(S||E)&&t2(t,a)&&(p+=E,m+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(p)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},ih=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_1=function(t){return[t.deltaX,t.deltaY]},w1=function(t){return t&&"current"in t?t.current:t},ZX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JX=0,Za=[];function eJ(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(JX++)[0],i=h.useState(Kd)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Tm([t.lockRef.current],(t.shards||[]).map(w1),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=ih(g),_=n.current,x="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,M=g.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var T=y1(C,M);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=y1(C,M)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||I)&&(r.current=N),!N)return!0;var A=r.current||N;return YX(A,w,g,A==="h"?x:I,!0)},[]),l=h.useCallback(function(g){var w=g;if(!(!Za.length||Za[Za.length-1]!==i)){var E="deltaY"in w?_1(w):ih(w),_=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&ZX(N.delta,E)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(w1).filter(Boolean).filter(function(N){return N.contains(w.target)}),I=x.length>0?a(w,x[0]):!o.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,E,_){var x={name:g,delta:w,target:E,should:_,shadowParent:tJ(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),f=h.useCallback(function(g){n.current=ih(g),r.current=void 0},[]),p=h.useCallback(function(g){c(g.type,_1(g),g.target,a(g,t.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,ih(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return Za.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ya),document.addEventListener("touchmove",l,Ya),document.addEventListener("touchstart",f,Ya),function(){Za=Za.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ya),document.removeEventListener("touchmove",l,Ya),document.removeEventListener("touchstart",f,Ya)}},[]);var y=t.removeScrollBar,S=t.inert;return h.createElement(h.Fragment,null,S?h.createElement(i,{styles:XX(s)}):null,y?h.createElement(ng,{gapMode:t.gapMode}):null)}function tJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nJ=eg(Jj,eJ);var r2=h.forwardRef(function(t,e){return h.createElement(hg,st({},t,{ref:e,sideCar:nJ}))});r2.classNames=hg.classNames;var tx="Popover",[s2,Ree]=ur(tx,[Bj]),ef=Bj(),[rJ,Lo]=s2(tx),i2=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=ef(e),l=h.useRef(null),[c,f]=h.useState(!1),[p=!1,m]=ni({prop:r,defaultProp:s,onChange:i});return d.jsx(LX,{...a,children:d.jsx(rJ,{scope:e,contentId:_r(),triggerRef:l,open:p,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>f(!0),[]),onCustomAnchorRemove:h.useCallback(()=>f(!1),[]),modal:o,children:n})})};i2.displayName=tx;var o2="PopoverAnchor",sJ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(o2,n),i=ef(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(Zj,{...i,...r,ref:e})});sJ.displayName=o2;var a2="PopoverTrigger",l2=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(a2,n),i=ef(n),o=jo(e,s.triggerRef),a=d.jsx(pi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":h2(s.open),...r,ref:o,onClick:lo(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(Zj,{asChild:!0,...i,children:a})});l2.displayName=a2;var nx="PopoverPortal",[iJ,oJ]=s2(nx,{forceMount:void 0}),c2=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Lo(nx,e);return d.jsx(iJ,{scope:e,forceMount:n,children:d.jsx(ex,{present:n||i.open,children:d.jsx(Xj,{asChild:!0,container:s,children:r})})})};c2.displayName=nx;var dc="PopoverContent",u2=h.forwardRef((t,e)=>{const n=oJ(dc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Lo(dc,t.__scopePopover);return d.jsx(ex,{present:r||i.open,children:i.modal?d.jsx(aJ,{...s,ref:e}):d.jsx(lJ,{...s,ref:e})})});u2.displayName=dc;var aJ=h.forwardRef((t,e)=>{const n=Lo(dc,t.__scopePopover),r=h.useRef(null),s=jo(e,r),i=h.useRef(!1);return h.useEffect(()=>{const o=r.current;if(o)return Zm(o)},[]),d.jsx(r2,{as:ZE,allowPinchZoom:!0,children:d.jsx(d2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lo(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:lo(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:lo(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),lJ=h.forwardRef((t,e)=>{const n=Lo(dc,t.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return d.jsx(d2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),d2=h.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,...p}=t,m=Lo(dc,n),y=ef(n);return Km(),d.jsx(Vj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(jj,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:d.jsx(VX,{"data-state":h2(m.open),role:"dialog",id:m.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),f2="PopoverClose",cJ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(f2,n);return d.jsx(pi.button,{type:"button",...r,ref:e,onClick:lo(t.onClick,()=>s.onOpenChange(!1))})});cJ.displayName=f2;var uJ="PopoverArrow",dJ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ef(n);return d.jsx(FX,{...s,...r,ref:e})});dJ.displayName=uJ;function h2(t){return t?"open":"closed"}var fJ=i2,hJ=l2,pJ=c2,p2=u2;const mJ=fJ,gJ=hJ,m2=h.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>d.jsx(pJ,{children:d.jsx(p2,{ref:s,align:e,sideOffset:n,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));m2.displayName=p2.displayName;const vJ=xe.object({date:xe.date(),semester:xe.number().min(1).max(8),students:xe.array(xe.object({id:xe.string(),present:xe.boolean()}))});function yJ({students:t,onSubmit:e,loading:n}){const r=mM({resolver:vM(vJ),defaultValues:{date:new Date,semester:1,students:t.map(s=>({id:s.id,present:!1}))}});return d.jsx(PM,{...r,children:d.jsxs("form",{onSubmit:r.handleSubmit(e),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(ss,{control:r.control,name:"date",render:({field:s})=>d.jsxs(Dr,{className:"flex flex-col",children:[d.jsx(Or,{children:"Date"}),d.jsxs(mJ,{children:[d.jsx(gJ,{asChild:!0,children:d.jsx(Mr,{children:d.jsxs(xt,{variant:"outline",className:fe("w-full pl-3 text-left font-normal",!s.value&&"text-muted-foreground"),children:[s.value?Rn(s.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(HA,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(m2,{className:"w-auto p-0",align:"start",children:d.jsx(QE,{mode:"single",selected:s.value,onSelect:s.onChange,disabled:i=>i>new Date||i<new Date("1900-01-01")})})]}),d.jsx(is,{})]})}),d.jsx(ss,{control:r.control,name:"semester",render:({field:s})=>d.jsxs(Dr,{children:[d.jsx(Or,{children:"Semester"}),d.jsxs(wr,{onValueChange:i=>s.onChange(parseInt(i)),defaultValue:s.value.toString(),children:[d.jsx(Mr,{children:d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select semester"})})}),d.jsx(rr,{children:[1,2,3,4,5,6,7,8].map(i=>d.jsxs($t,{value:i.toString(),children:["Semester ",i]},i))})]}),d.jsx(is,{})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-medium",children:"Mark Attendance"}),t.map((s,i)=>d.jsx(ss,{control:r.control,name:`students.${i}.present`,render:({field:o})=>d.jsxs(Dr,{className:"flex items-center space-x-2 space-y-0",children:[d.jsx(Mr,{children:d.jsx(Dj,{checked:o.value,onCheckedChange:o.onChange})}),d.jsxs("div",{className:"grid gap-1.5 leading-none",children:[d.jsx(Or,{className:"text-sm font-medium leading-none",children:s.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.rollNumber," • ",s.branch]})]})]})},s.id))]}),d.jsx(xt,{type:"submit",className:"w-full",disabled:n,children:n?"Saving...":"Save Attendance"})]})})}function _J(){const[,t]=di(),{toast:e}=mc(),[n,r]=h.useState([]),[s,i]=h.useState("all"),[o,a]=h.useState("all"),[l,c]=h.useState("all"),[f,p]=h.useState(new Date),[m,y]=h.useState(!1),[S,g]=h.useState([]),[w,E]=h.useState({total:0,present:0}),[_,x]=h.useState(""),[I,N]=h.useState(null);h.useEffect(()=>{if(!qr.currentUser){t("/");return}(async()=>{try{const D=Qe(ot,Ft.students),k=Wt(D,kh("name")),J=(await wt(k)).docs.map(We=>({id:We.id,...We.data()}));r(J);const Z=Array.from(new Set(J.map(We=>We.branch)));g(Z);const B=Qe(ot,Ft.attendance),L=Wt(B,mt("date","==",Rn(f,"yyyy-MM-dd"))),F=await wt(L);if(F.empty)N(null);else{const We=F.docs[0],rt=Qe(We.ref,"records"),Se=(await wt(rt)).docs.map(Xe=>({id:Xe.id,...Xe.data()}));N({id:We.id,...We.data(),records:Se})}const G=new Date;G.setHours(0,0,0,0);const re=Wt(B,mt("date","==",Rn(G,"yyyy-MM-dd"))),ge=await wt(re);let Te=0,Ge=0;for(const We of ge.docs){const rt=Qe(We.ref,"records");(await wt(rt)).docs.forEach(Se=>{Te++,Se.data().present&&Ge++})}E({total:Te,present:Ge})}catch(D){console.error("Error fetching data:",D),e({title:"Error fetching data",description:"Please try again later",variant:"destructive"})}})()},[t,e,f]);const M=async P=>{if(I){y(!0);try{const O=wa(ot,Ft.attendance,I.id);await Pp(O,{branch:s==="all"?null:s,year:o==="all"?null:parseInt(o),semester:l==="all"?null:parseInt(l),updatedAt:new Date});const D=Qe(O,"records");await Promise.all(P.students.map(async z=>{const J=I.records.find(Z=>Z.studentId===z.id);if(J){const Z=wa(D,J.id);await Pp(Z,{present:z.present,updatedAt:new Date})}else await Us(D,{studentId:z.id,present:z.present,timestamp:new Date})})),e({title:"Attendance updated successfully"});const k=await wt(D);N({...I,records:k.docs.map(z=>({id:z.id,...z.data()}))})}catch(O){e({title:"Error updating attendance",description:O.message,variant:"destructive"})}finally{y(!1)}}},C=async P=>{y(!0);try{const O=Qe(ot,Ft.attendance),D=Rn(f,"yyyy-MM-dd"),k=await Us(O,{date:D,branch:s==="all"?null:s,year:o==="all"?null:parseInt(o),semester:l==="all"?null:parseInt(l),createdAt:new Date}),z=Qe(k,"records");await Promise.all(P.students.map(L=>Us(z,{studentId:L.id,present:L.present,timestamp:new Date}))),e({title:"Attendance marked successfully"});const J=new Date;J.setHours(0,0,0,0),f.getTime()===J.getTime()&&E(L=>({total:P.students.length,present:P.students.filter(F=>F.present).length}));const Z=Wt(O,mt("date","==",D)),B=await wt(Z);if(!B.empty){const L=B.docs[0],F=await wt(Qe(L.ref,"records"));N({id:L.id,...L.data(),records:F.docs.map(G=>({id:G.id,...G.data()}))})}}catch(O){console.error("Error marking attendance:",O),e({title:"Error marking attendance",description:O instanceof Error?O.message:"Please try again",variant:"destructive"})}finally{y(!1)}},T=async()=>{if(!s||!o||!_){e({title:"Please fill all fields",variant:"destructive"});return}const P=parseFloat(_);if(isNaN(P)||P<0||P>100){e({title:"Invalid percentage",description:"Please enter a number between 0 and 100",variant:"destructive"});return}y(!0);try{const O=Qe(ot,Ft.attendance),D=await Us(O,{date:Rn(f,"yyyy-MM-dd"),branch:s==="all"?null:s,year:o==="all"?null:parseInt(o),semester:l==="all"?null:parseInt(l),percentage:P,isDirectEntry:!0,createdAt:new Date}),k=Qe(D,"records"),z=A.slice(0,Math.round(A.length*(P/100)));await Promise.all(z.map(B=>Us(k,{studentId:B.id,present:!0,timestamp:new Date})));const J=A.slice(Math.round(A.length*(P/100)));await Promise.all(J.map(B=>Us(k,{studentId:B.id,present:!1,timestamp:new Date}))),e({title:"Attendance marked successfully"});const Z=new Date;f.getTime()===Z.setHours(0,0,0,0)&&E(B=>({total:A.length,present:Math.round(A.length*(P/100))})),x("")}catch(O){e({title:"Error marking attendance",description:O.message,variant:"destructive"})}finally{y(!1)}},A=n.filter(P=>!(s!=="all"&&P.branch!==s||o!=="all"&&P.year!==parseInt(o)));return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h2",{className:"text-3xl font-bold",children:"Mark Attendance"})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Today's Overview"})}),d.jsx(ut,{children:d.jsxs("dl",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),d.jsx("dd",{className:"text-2xl font-bold",children:w.total})]}),d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Present"}),d.jsx("dd",{className:"text-2xl font-bold text-green-600",children:w.total>0?`${(w.present/w.total*100).toFixed(1)}%`:"0%"})]})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Select Date"})}),d.jsx(ut,{children:d.jsx(QE,{mode:"single",selected:f,onSelect:P=>P&&p(P),className:"rounded-md border"})})]})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Filter Students"})}),d.jsx(ut,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Branch"}),d.jsxs(wr,{onValueChange:i,value:s,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select branch"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"all",children:"All branches"}),S.map(P=>d.jsx($t,{value:P,children:P},P))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Year"}),d.jsxs(wr,{onValueChange:a,value:o,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select year"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"all",children:"All years"}),[1,2,3,4].map(P=>d.jsxs($t,{value:P.toString(),children:["Year ",P]},P))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Semester"}),d.jsxs(wr,{onValueChange:c,value:l,children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select semester"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"all",children:"All semesters"}),[1,2,3,4,5,6,7,8].map(P=>d.jsxs($t,{value:P.toString(),children:["Semester ",P]},P))]})]})]})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Quick Percentage Entry"})}),d.jsx(ut,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(kn,{type:"number",min:"0",max:"100",placeholder:"Enter attendance percentage",value:_,onChange:P=>x(P.target.value),className:"w-full"}),d.jsx(xt,{onClick:T,disabled:m||!_,children:"Mark Attendance"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a percentage to automatically mark attendance for all students in the selected branch and year."})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:I?`Edit Attendance for ${Rn(f,"PP")}`:`Mark Attendance for ${Rn(f,"PP")}`})}),d.jsx(ut,{children:d.jsx(yJ,{students:A,onSubmit:I?M:C,loading:m,defaultValues:I==null?void 0:I.records})})]})]})}var Kv="focusScope.autoFocusOnMount",Gv="focusScope.autoFocusOnUnmount",E1={bubbles:!1,cancelable:!0},wJ="FocusScope",g2=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=h.useState(null),c=at(s),f=at(i),p=h.useRef(null),m=or(e,g=>l(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(x){if(y.paused||!a)return;const I=x.target;a.contains(I)?p.current=I:Pi(p.current,{select:!0})},w=function(x){if(y.paused||!a)return;const I=x.relatedTarget;I!==null&&(a.contains(I)||Pi(p.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Pi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,y.paused]),h.useEffect(()=>{if(a){S1.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(Kv,E1);a.addEventListener(Kv,c),a.dispatchEvent(E),E.defaultPrevented||(EJ(CJ(v2(a)),{select:!0}),document.activeElement===g&&Pi(a))}return()=>{a.removeEventListener(Kv,c),setTimeout(()=>{const E=new CustomEvent(Gv,E1);a.addEventListener(Gv,f),a.dispatchEvent(E),E.defaultPrevented||Pi(g??document.body,{select:!0}),a.removeEventListener(Gv,f),S1.remove(y)},0)}}},[a,c,f,y]);const S=h.useCallback(g=>{if(!n&&!r||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(w&&E){const _=g.currentTarget,[x,I]=xJ(_);x&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&Pi(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),n&&Pi(I,{select:!0})):E===_&&g.preventDefault()}},[n,r,y.paused]);return d.jsx(Zt.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});g2.displayName=wJ;function EJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pi(r,{select:e}),document.activeElement!==n)return}function xJ(t){const e=v2(t),n=x1(e,t),r=x1(e.reverse(),t);return[n,r]}function v2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function x1(t,e){for(const n of t)if(!SJ(n,{upTo:e}))return n}function SJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bJ(t){return t instanceof HTMLInputElement&&"select"in t}function Pi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bJ(t)&&e&&t.select()}}var S1=TJ();function TJ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=b1(t,e),t.unshift(e)},remove(e){var n;t=b1(t,e),(n=t[0])==null||n.resume()}}}function b1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function CJ(t){return t.filter(e=>e.tagName!=="A")}var y2=Jm(),Qv=function(){},pg=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Qv,onWheelCapture:Qv,onTouchMoveCapture:Qv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,S=t.inert,g=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,_=t.gapMode,x=Po(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,N=Xm([n,e]),M=st(st({},x),s);return h.createElement(h.Fragment,null,f&&h.createElement(I,{sideCar:y2,removeScrollBar:c,shards:p,noIsolation:y,inert:S,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?h.cloneElement(h.Children.only(a),st(st({},M),{ref:N})):h.createElement(E,st({},M,{className:l,ref:N}),a))});pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pg.classNames={fullWidth:aa,zeroRight:oa};var ew=!1;if(typeof window<"u")try{var oh=Object.defineProperty({},"passive",{get:function(){return ew=!0,!0}});window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{ew=!1}var Xa=ew?{passive:!1}:!1,IJ=function(t){return t.tagName==="TEXTAREA"},_2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!IJ(t)&&n[e]==="visible")},PJ=function(t){return _2(t,"overflowY")},AJ=function(t){return _2(t,"overflowX")},T1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=w2(t,r);if(s){var i=E2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},w2=function(t,e){return t==="v"?PJ(e):AJ(e)},E2=function(t,e){return t==="v"?RJ(e):kJ(e)},NJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},DJ=function(t,e,n,r,s){var i=NJ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,f=o>0,p=0,m=0;do{var y=E2(t,a),S=y[0],g=y[1],w=y[2],E=g-w-i*S;(S||E)&&w2(t,a)&&(p+=E,m+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(p)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},ah=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C1=function(t){return[t.deltaX,t.deltaY]},I1=function(t){return t&&"current"in t?t.current:t},OJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jJ=0,Ja=[];function LJ(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(jJ++)[0],i=h.useState(Kd)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Tm([t.lockRef.current],(t.shards||[]).map(I1),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=ah(g),_=n.current,x="deltaX"in g?g.deltaX:_[0]-E[0],I="deltaY"in g?g.deltaY:_[1]-E[1],N,M=g.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in g&&C==="h"&&M.type==="range")return!1;var T=T1(C,M);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=T1(C,M)),!T)return!1;if(!r.current&&"changedTouches"in g&&(x||I)&&(r.current=N),!N)return!0;var A=r.current||N;return DJ(A,w,g,A==="h"?x:I,!0)},[]),l=h.useCallback(function(g){var w=g;if(!(!Ja.length||Ja[Ja.length-1]!==i)){var E="deltaY"in w?C1(w):ah(w),_=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&OJ(N.delta,E)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(I1).filter(Boolean).filter(function(N){return N.contains(w.target)}),I=x.length>0?a(w,x[0]):!o.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,E,_){var x={name:g,delta:w,target:E,should:_,shadowParent:VJ(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),f=h.useCallback(function(g){n.current=ah(g),r.current=void 0},[]),p=h.useCallback(function(g){c(g.type,C1(g),g.target,a(g,t.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,ah(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return Ja.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Xa),document.addEventListener("touchmove",l,Xa),document.addEventListener("touchstart",f,Xa),function(){Ja=Ja.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Xa),document.removeEventListener("touchmove",l,Xa),document.removeEventListener("touchstart",f,Xa)}},[]);var y=t.removeScrollBar,S=t.inert;return h.createElement(h.Fragment,null,S?h.createElement(i,{styles:MJ(s)}):null,y?h.createElement(ng,{gapMode:t.gapMode}):null)}function VJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FJ=eg(y2,LJ);var x2=h.forwardRef(function(t,e){return h.createElement(pg,st({},t,{ref:e,sideCar:FJ}))});x2.classNames=pg.classNames;var rx="Dialog",[S2,b2]=ur(rx),[$J,Jr]=S2(rx),T2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=h.useRef(null),l=h.useRef(null),[c=!1,f]=ni({prop:r,defaultProp:s,onChange:i});return d.jsx($J,{scope:e,triggerRef:a,contentRef:l,contentId:_r(),titleId:_r(),descriptionId:_r(),open:c,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};T2.displayName=rx;var C2="DialogTrigger",I2=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jr(C2,n),i=or(e,s.triggerRef);return d.jsx(Zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ox(s.open),...r,ref:i,onClick:Kt(t.onClick,s.onOpenToggle)})});I2.displayName=C2;var sx="DialogPortal",[UJ,P2]=S2(sx,{forceMount:void 0}),A2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Jr(sx,e);return d.jsx(UJ,{scope:e,forceMount:n,children:h.Children.map(r,o=>d.jsx(Dd,{present:n||i.open,children:d.jsx(a0,{asChild:!0,container:s,children:o})}))})};A2.displayName=sx;var em="DialogOverlay",R2=h.forwardRef((t,e)=>{const n=P2(em,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Jr(em,t.__scopeDialog);return i.modal?d.jsx(Dd,{present:r||i.open,children:d.jsx(BJ,{...s,ref:e})}):null});R2.displayName=em;var BJ=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jr(em,n);return d.jsx(x2,{as:pa,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Zt.div,{"data-state":ox(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Aa="DialogContent",k2=h.forwardRef((t,e)=>{const n=P2(Aa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Jr(Aa,t.__scopeDialog);return d.jsx(Dd,{present:r||i.open,children:i.modal?d.jsx(WJ,{...s,ref:e}):d.jsx(zJ,{...s,ref:e})})});k2.displayName=Aa;var WJ=h.forwardRef((t,e)=>{const n=Jr(Aa,t.__scopeDialog),r=h.useRef(null),s=or(e,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Zm(i)},[]),d.jsx(N2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Kt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Kt(t.onFocusOutside,i=>i.preventDefault())})}),zJ=h.forwardRef((t,e)=>{const n=Jr(Aa,t.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return d.jsx(N2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),N2=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Jr(Aa,n),l=h.useRef(null),c=or(e,l);return Km(),d.jsxs(d.Fragment,{children:[d.jsx(g2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(o0,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ox(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(qJ,{titleId:a.titleId}),d.jsx(GJ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ix="DialogTitle",D2=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jr(ix,n);return d.jsx(Zt.h2,{id:s.titleId,...r,ref:e})});D2.displayName=ix;var O2="DialogDescription",M2=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jr(O2,n);return d.jsx(Zt.p,{id:s.descriptionId,...r,ref:e})});M2.displayName=O2;var j2="DialogClose",L2=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jr(j2,n);return d.jsx(Zt.button,{type:"button",...r,ref:e,onClick:Kt(t.onClick,()=>s.onOpenChange(!1))})});L2.displayName=j2;function ox(t){return t?"open":"closed"}var V2="DialogTitleWarning",[HJ,F2]=yA(V2,{contentName:Aa,titleName:ix,docsSlug:"dialog"}),qJ=({titleId:t})=>{const e=F2(V2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},KJ="DialogDescriptionWarning",GJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F2(KJ).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},QJ=T2,YJ=I2,ZJ=A2,XJ=R2,JJ=k2,eee=D2,tee=M2,$2=L2,U2="AlertDialog",[nee,kee]=ur(U2,[b2]),mi=b2(),B2=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return d.jsx(QJ,{...r,...n,modal:!0})};B2.displayName=U2;var ree="AlertDialogTrigger",see=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return d.jsx(YJ,{...s,...r,ref:e})});see.displayName=ree;var iee="AlertDialogPortal",W2=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return d.jsx(ZJ,{...r,...n})};W2.displayName=iee;var oee="AlertDialogOverlay",z2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return d.jsx(XJ,{...s,...r,ref:e})});z2.displayName=oee;var Ol="AlertDialogContent",[aee,lee]=nee(Ol),H2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=mi(n),o=h.useRef(null),a=or(e,o),l=h.useRef(null);return d.jsx(HJ,{contentName:Ol,titleName:q2,docsSlug:"alert-dialog",children:d.jsx(aee,{scope:n,cancelRef:l,children:d.jsxs(JJ,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Kt(s.onOpenAutoFocus,c=>{var f;c.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(vA,{children:r}),d.jsx(uee,{contentRef:o})]})})})});H2.displayName=Ol;var q2="AlertDialogTitle",K2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return d.jsx(eee,{...s,...r,ref:e})});K2.displayName=q2;var G2="AlertDialogDescription",Q2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return d.jsx(tee,{...s,...r,ref:e})});Q2.displayName=G2;var cee="AlertDialogAction",Y2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return d.jsx($2,{...s,...r,ref:e})});Y2.displayName=cee;var Z2="AlertDialogCancel",X2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=lee(Z2,n),i=mi(n),o=or(e,s);return d.jsx($2,{...i,...r,ref:o})});X2.displayName=Z2;var uee=({contentRef:t})=>{const e=`\`${Ol}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ol}\` by passing a \`${G2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ol}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},dee=B2,fee=W2,J2=z2,eL=H2,tL=Y2,nL=X2,rL=K2,sL=Q2;const P1=dee,hee=fee,iL=h.forwardRef(({className:t,...e},n)=>d.jsx(J2,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));iL.displayName=J2.displayName;const tw=h.forwardRef(({className:t,...e},n)=>d.jsxs(hee,{children:[d.jsx(iL,{}),d.jsx(eL,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));tw.displayName=eL.displayName;const nw=({className:t,...e})=>d.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});nw.displayName="AlertDialogHeader";const rw=({className:t,...e})=>d.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});rw.displayName="AlertDialogFooter";const sw=h.forwardRef(({className:t,...e},n)=>d.jsx(rL,{ref:n,className:fe("text-lg font-semibold",t),...e}));sw.displayName=rL.displayName;const iw=h.forwardRef(({className:t,...e},n)=>d.jsx(sL,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));iw.displayName=sL.displayName;const ow=h.forwardRef(({className:t,...e},n)=>d.jsx(tL,{ref:n,className:fe(ad(),t),...e}));ow.displayName=tL.displayName;const aw=h.forwardRef(({className:t,...e},n)=>d.jsx(nL,{ref:n,className:fe(ad({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));aw.displayName=nL.displayName;function pee(){const[,t]=di(),{toast:e}=mc(),[n,r]=h.useState([]),[s,i]=h.useState("all"),[o,a]=h.useState("1"),[l,c]=h.useState("1"),[f,p]=h.useState([]),[m,y]=h.useState({name:"",code:""}),[S,g]=h.useState({}),[w,E]=h.useState(!1),[_,x]=h.useState(!1),[I,N]=h.useState(null),[M,C]=h.useState(!1),[T,A]=h.useState(""),[P,O]=h.useState(null);h.useEffect(()=>{if(!qr.currentUser){t("/");return}(async()=>{try{const re=Qe(ot,Ft.students),Te=(await wt(re)).docs.map(Se=>({id:Se.id,...Se.data()}));r(Te);const Ge=Qe(ot,"subjects"),We=Wt(Ge,mt("semester","==",parseInt(o)),mt("branch","==",s==="all"?null:s)),ue=(await wt(We)).docs.map(Se=>({id:Se.id,...Se.data()}));if(p(ue),P){const Se=Qe(ot,"midMarks"),Xe=Wt(Se,mt("studentId","==",P.id),mt("semester","==",parseInt(o)),mt("midNumber","==",parseInt(l))),Oe=await wt(Xe),Ie={};Oe.docs.forEach(De=>{const Je=De.data();Ie[Je.subjectId]=Je.marks}),g(Ie)}}catch(re){console.error("Error fetching data:",re),e({title:"Error fetching data",description:"Please try again later",variant:"destructive"})}})()},[t,e,o,l,s,P]);const D=async()=>{if(!m.name||!m.code){e({title:"Please fill all fields",variant:"destructive"});return}try{const F=Qe(ot,"subjects"),G=await Us(F,{...m,semester:parseInt(o),branch:s==="all"?null:s});p(re=>[...re,{id:G.id,name:m.name,code:m.code,semester:parseInt(o),branch:s==="all"?null:s}]),y({name:"",code:""}),e({title:"Subject added successfully"})}catch{e({title:"Error adding subject",description:"Please try again",variant:"destructive"})}},k=async F=>{N(F),x(!0)},z=async()=>{if(I)try{const F=wa(ot,"subjects",I);await MN(F),p(G=>G.filter(re=>re.id!==I)),g(G=>{const re={...G};return delete re[I],re}),e({title:"Subject deleted successfully"})}catch{e({title:"Error deleting subject",description:"Please try again",variant:"destructive"})}finally{x(!1),N(null)}},J=async()=>{if(!P){e({title:"Please select a student first",variant:"destructive"});return}C(!0)},Z=async()=>{if(P){E(!0);try{const F=Qe(ot,"midMarks");await Promise.all(f.map(async G=>{const re=S[G.id]||0,ge=Wt(F,mt("studentId","==",P.id),mt("subjectId","==",G.id),mt("semester","==",parseInt(o)),mt("midNumber","==",parseInt(l))),Te=await wt(ge);Te.empty?await Us(F,{studentId:P.id,subjectId:G.id,semester:parseInt(o),midNumber:parseInt(l),marks:re,maxMarks:30,createdAt:new Date,updatedAt:new Date}):await Pp(wa(F,Te.docs[0].id),{marks:re,updatedAt:new Date})})),e({title:"Marks saved successfully"})}catch{e({title:"Error saving marks",description:"Please try again",variant:"destructive"})}finally{E(!1),C(!1)}}},B=(F,G)=>{const re=parseInt(G)||0;g(ge=>({...ge,[F]:Math.min(Math.max(re,0),30)}))},L=n.filter(F=>{if(s!=="all"&&F.branch!==s)return!1;if(T){const G=T.toLowerCase();return F.name.toLowerCase().includes(G)||F.rollNumber.toLowerCase().includes(G)}return!0});return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h2",{className:"text-3xl font-bold",children:"Mid Marks Management"})}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Filters"})}),d.jsx(ut,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Branch"}),d.jsxs(wr,{value:s,onValueChange:F=>{i(F),O(null),p([]),g({})},children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select branch"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"all",children:"All branches"}),Array.from(new Set(n.map(F=>F.branch))).map(F=>d.jsx($t,{value:F,children:F},F))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Semester"}),d.jsxs(wr,{value:o,onValueChange:F=>{a(F),O(null),p([]),g({})},children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select semester"})}),d.jsx(rr,{children:[1,2,3,4,5,6,7,8].map(F=>d.jsxs($t,{value:F.toString(),children:["Semester ",F]},F))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Mid Exam"}),d.jsxs(wr,{value:l,onValueChange:F=>{c(F),O(null),g({})},children:[d.jsx(nr,{children:d.jsx(Er,{placeholder:"Select mid exam"})}),d.jsxs(rr,{children:[d.jsx($t,{value:"1",children:"Mid-1"}),d.jsx($t,{value:"2",children:"Mid-2"})]})]})]})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Select Student"})}),d.jsx(ut,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex gap-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(cU,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(kn,{placeholder:"Search by name or roll number...",value:T,onChange:F=>A(F.target.value),className:"pl-9"})]})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vp,{children:[d.jsx(Fp,{children:d.jsxs(Zo,{children:[d.jsx(cs,{children:"Roll Number"}),d.jsx(cs,{children:"Name"}),d.jsx(cs,{children:"Action"})]})}),d.jsx($p,{children:L.map(F=>d.jsxs(Zo,{children:[d.jsx(us,{children:F.rollNumber}),d.jsx(us,{children:F.name}),d.jsx(us,{children:d.jsx(xt,{variant:(P==null?void 0:P.id)===F.id?"default":"secondary",onClick:()=>O(F),children:(P==null?void 0:P.id)===F.id?"Selected":"Select"})})]},F.id))})]})})]})})]}),P&&d.jsxs(d.Fragment,{children:[d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Add Subject"})}),d.jsx(ut,{children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx(kn,{placeholder:"Subject Name",value:m.name,onChange:F=>y(G=>({...G,name:F.target.value}))}),d.jsx(kn,{placeholder:"Subject Code",value:m.code,onChange:F=>y(G=>({...G,code:F.target.value}))}),d.jsxs(xt,{onClick:D,children:[d.jsx(aU,{className:"mr-2 h-4 w-4"}),"Add Subject"]})]})})]}),d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsxs(yt,{children:["Marks Entry for ",P.name]})}),d.jsx(ut,{children:f.length>0?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Vp,{children:[d.jsx(Fp,{children:d.jsxs(Zo,{children:[d.jsx(cs,{children:"Subject Name"}),d.jsx(cs,{className:"text-center",children:"Marks (Max: 30)"}),d.jsx(cs,{})]})}),d.jsx($p,{children:f.map(F=>d.jsxs(Zo,{children:[d.jsxs(us,{children:[F.name,d.jsx("br",{}),d.jsx("span",{className:"text-xs text-muted-foreground",children:F.code})]}),d.jsx(us,{className:"text-center",children:d.jsx(kn,{type:"number",min:"0",max:"30",value:S[F.id]||"",onChange:G=>B(F.id,G.target.value),className:"w-20 mx-auto"})}),d.jsx(us,{children:d.jsx(xt,{variant:"ghost",size:"icon",onClick:()=>k(F.id),children:d.jsx(QA,{className:"h-4 w-4 text-red-500"})})})]},F.id))})]})}),d.jsx("div",{className:"flex justify-end",children:d.jsxs(xt,{onClick:J,disabled:w,children:[d.jsx(lU,{className:"mr-2 h-4 w-4"}),"Save Marks"]})})]}):d.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subjects added yet. Add subjects above to start entering marks."})})]}),f.length>0&&d.jsxs(ct,{children:[d.jsx(vt,{children:d.jsx(yt,{children:"Marks Preview"})}),d.jsx(ut,{children:d.jsx("div",{className:"space-y-4",children:f.map(F=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:F.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:F.code})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-medium",children:["Marks: ",S[F.id]||"0","/30"]})})]},F.id))})})]})]}),d.jsx(P1,{open:_,onOpenChange:x,children:d.jsxs(tw,{children:[d.jsxs(nw,{children:[d.jsx(sw,{children:"Delete Subject"}),d.jsx(iw,{children:"Are you sure you want to delete this subject? This action cannot be undone, and all related marks will also be deleted."})]}),d.jsxs(rw,{children:[d.jsx(aw,{children:"Cancel"}),d.jsx(ow,{onClick:z,children:"Delete"})]})]})}),d.jsx(P1,{open:M,onOpenChange:C,children:d.jsxs(tw,{children:[d.jsxs(nw,{children:[d.jsx(sw,{children:"Save Marks"}),d.jsxs(iw,{children:["Are you sure you want to save these marks? This will update any existing marks for ",P==null?void 0:P.name,"."]})]}),d.jsxs(rw,{children:[d.jsx(aw,{children:"Cancel"}),d.jsx(ow,{onClick:Z,children:"Save"})]})]})})]})}function mee(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(ct,{className:"w-full max-w-md mx-4",children:d.jsxs(ut,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(sU,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function gee(){return d.jsx(Qz,{children:d.jsxs(N4,{children:[d.jsx(Ds,{path:"/",component:MH}),d.jsx(Ds,{path:"/student/dashboard",component:J8}),d.jsx(Ds,{path:"/student/profile",component:rq}),d.jsx(Ds,{path:"/student/results",component:LK}),d.jsx(Ds,{path:"/admin/dashboard",component:VK}),d.jsx(Ds,{path:"/admin/students",component:vY}),d.jsx(Ds,{path:"/admin/attendance",component:_J}),d.jsx(Ds,{path:"/admin/mid-marks",component:pee}),d.jsx(Ds,{component:mee})]})})}function vee(){return d.jsxs(n$,{client:i$,children:[d.jsx(gee,{}),d.jsx(qU,{})]})}ZP(document.getElementById("root")).render(d.jsx(vee,{}));
